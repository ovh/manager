# Ovh Stencil AngularJS output target

> Plugin for Stencil to build AngularJS output target

This plugin provides a function to generate AngularJS output target to be used in Stencil components library, on build

## Install

`npm install --saveDev @ovh-ux/stencil-angularjs-output-target`
or
`yarn add -D @ovh-ux/stencil-angularjs-output-target`

## Usage

In your Stencil library, import the angulerJSOutputPlugin in the stencil.config.js file.
Then add it as an OutputTarget.

```js
import { Config } from '@stencil/core';
import { angularJSOutputTarget } from '@ovh-ux/stencil-angularjs-output-target';

export const config: Config = {
  namespace: 'demo',
  outputTargets: [
    {
      type: 'dist',
      esmLoaderPath: '../loader',
    },
    angularJSOutputTarget({
      componentCorePackage: 'demo',
      proxiesFile: '../src/wrappedComponents.js',
      excludeComponents: [],
      applyPolyfills: true,
      defineCustomElements: true,
      wrappedComponentsPrefix: 'osa',
    }),
  ],
};

export default config;
```

### componentCorePackage

This is the NPM package name of your core stencil package. This is the package that gets published that contains just your web components. This package is then used by the AngularJS package as a dependency.

### proxiesFile

This is the output file that gets generated by the outputTarget. This file should be referencing a different package location. In the example case we are choosing a sibling directory’s src directory. In this directory, an AngularJS application exists, and will use the generated file to inject components in the AngularJS way.

## excludeComponents

Array of HTML tag names of components to be exclude from the generation process.

## loaderDir

Path to specific location of loader

### applyPolyfills/defineCustomElements

Flags to determine if the generated file will import and use directly your Stencil library loader functions.

Depending the dist type used, the flag `applyPolyfills` may not be used, while `defineCustomElements` will be used regardless of it.

The two flags can be set to false, in order to not use the loader functions into the generated file.

:warning: We also recommend to not generate the loader functions if the Stencil source project outputs the two types of dist (`dist` and `dist-custom-elements-bundle`).

(See also [Stencil Output Targets](https://stenciljs.com/docs/output-targets))

### wrappedComponentsPrefix

Prefix used to generate HTML component template.
Example of generated template with the prefix set.

```html
<!-- Stencil source component -->
<my-component></my-component>

<!-- Generated component -->
<prefix-my-component></prefix-my-component>
```

## Related

This plugin is based on Ionic team plugins repository [stencil-ds-output-targets](https://github.com/ionic-team/stencil-ds-output-targets)

## Contributing

Always feel free to help out! Whether it's [filing bugs and feature requests](https://github.com/ovh/manager/issues/new) or working on some of the [open issues](https://github.com/ovh/manager/issues), our [contributing guide](https://github.com/ovh/manager/blob/master/CONTRIBUTING.md) will help get you started.

## License

[BSD-3-Clause](LICENSE) © OVH SAS
