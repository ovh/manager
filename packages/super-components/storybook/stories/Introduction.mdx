import { Meta } from '@storybook/blocks';

<Meta title="Introduction" />

# Manager Super-components Storybook

It showcases the components available in the **Super-components library**.
Super-components are made with ODS components with the added
business-logic specific to the manager to centralize and reuse the logic without duplication.

## Prerequisite

Make sure you have yarn v1.x

To verify :

```
yarn -v
```

Go to super-components folder to execute the scripts :

```
cd ./packages/super-components
```

## Scripts

### Create a new super-component

```
yarn generate:msc
```

Answer the questions to generate the new component then run `yarn` to install dependencies.

### Storybook

To start the storybook locally on port 6007 :

```
yarn storybook
```

To build the storybook to be published on a production server :

```
yarn build:storybook
```

### Tests

```
yarn test
```

To run the tests of all the super-components locally

## Folder structure

### Workspace

The super-components workspace is in the folder `./packages/super-components` of the [manager repository](https://github.com/ovh/manager) :

- `components/` contains the different super-components available
- `_common/` contains shared config used accross all components
- `generator/` contains the package and scripts to generate additional super-components in the `components/` folder
- `storybook/` contains the package and config for the super-components storybook

### Component

#### Structure

A super-component contains different files and folders :

- `docs/` contains the stories that will be displayed in the storybook
- `react/` the generated react component (you should not touch anything in this folder)
- `screenshot/` the generated screenshots of the e2e tests
- `src/` the source code of the component
- `tests/` the folder containing the tests
- `vue/` the generated vue component (you should not touch anything in this folder)

#### Scripts

There are some commands specific to the component developement :

- `msc:build`: Build the component for stencil, react and vue
- `msc:doc:api`: Generate the typedoc
- `msc:ignore:rm`: Remove all generated files and folders
- `msc:start`: Run the component with stencil in dev mode (Uses the index.html in the `src/` folder)
- `msc:test`: Run all tests
- `msc:test:e2e`: Run only e2e tests
- `msc:test:e2e:screenshot`: Run only screenshot tests
- `msc:test:e2e:screenshot:update`: Run and update screenshot tests
- `msc:test:spec`: Run spec tests
- `msc:test:watch`: Run tests in watch mode
- `msc:watch`: Build the component with stencil and watch for changes
