<div class="telecom-pack-migration-shipping">
    <div class="widget-presentation">
        <!-- LOADER -->
        <div class="text-center" data-ng-if="$ctrl.loading.init">
            <oui-spinner></oui-spinner>
        </div>

        <div data-ng-if="!$ctrl.loading.init">
            <div>
                <h3
                    data-translate="telecom_pack_migration_building_details_title"
                ></h3>
                <div>
                    <span
                        data-translate="telecom_pack_migration_building_details_select_building"
                    ></span>
                    <p data-ng-bind="$ctrl.model.selectedBuilding.name"></p>
                </div>

                <div data-ng-if="$ctrl.model.selectedBuilding !== null">
                    <span
                        data-translate="telecom_pack_migration_building_details_select_stair"
                    ></span>
                    <oui-select
                        name="stair"
                        data-model="$ctrl.model.selectedStair"
                        data-title="{{:: 'telecom_pack_migration_building_details_select_a_stair' | translate}}"
                        placeholder="{{:: 'telecom_pack_migration_building_details_select_a_stair' | translate}}"
                        data-items="$ctrl.model.selectedBuilding.stairs"
                        data-match="stair.label"
                        data-on-change="$ctrl.changeSelection(true)"
                    >
                        <span data-ng-bind="$item.stair.label"></span>
                    </oui-select>
                </div>

                <div data-ng-if="$ctrl.model.selectedStair !== null">
                    <span
                        data-translate="telecom_pack_migration_building_details_select_floor"
                    ></span>
                    <oui-select
                        name="floor"
                        data-model="$ctrl.model.selectedFloor"
                        data-title="{{:: 'telecom_pack_migration_building_details_select_a_floor' | translate}}"
                        placeholder="{{:: 'telecom_pack_migration_building_details_select_a_floor' | translate}}"
                        data-items="$ctrl.model.selectedStair.floors"
                        data-match="label"
                    >
                        <span data-ng-bind="$item.label"></span>
                    </oui-select>
                </div>
            </div>
        </div>

        <div class="mt-3">
            <h3 data-translate="telecom_pack_migration_pto_title"></h3>
            <div data-translate="telecom_pack_migration_pto_description"></div>
            <div>
                <div class="form-inline">
                    <div class="form-group">
                        <oui-radio
                            name="radioPto"
                            model="$ctrl.model.pto"
                            value="$ctrl.FIBER_PTO.FIBER_PTO_NO"
                        >
                            <span
                                data-translate="telecom_pack_migration_pto_check_no"
                            ></span>
                            <button
                                type="button"
                                class="oui-popover-button"
                                oui-popover="{{'telecom_pack_migration_pto_no_description' | translate}}"
                            ></button>
                        </oui-radio>
                    </div>
                </div>
                <div class="form-inline">
                    <div class="form-group">
                        <oui-radio
                            name="radioPto"
                            model="$ctrl.model.pto"
                            value="$ctrl.FIBER_PTO.FIBER_PTO_YES_BUT_NOT_KNOWN"
                        >
                            <span
                                data-translate="telecom_pack_migration_pto_yes_not_known"
                            ></span>
                            <button
                                type="button"
                                class="oui-popover-button"
                                oui-popover="{{'telecom_pack_migration_pto_yes_not_known_description' | translate}}"
                            ></button>
                        </oui-radio>
                    </div>
                </div>
                <div class="form-inline">
                    <div class="form-group">
                        <oui-radio
                            name="radioPto"
                            model="$ctrl.model.pto"
                            value="$ctrl.FIBER_PTO.FIBER_PTO_YES"
                        >
                            <span
                                data-translate="telecom_pack_migration_pto_yes"
                            ></span>
                            <button
                                type="button"
                                class="oui-popover-button"
                                oui-popover="{{'telecom_pack_migration_pto_yes_description' | translate}}"
                            ></button>
                        </oui-radio>
                    </div>
                </div>
                <div class="form-inline" data-ng-if="$ctrl.isMultiOtpAvailable">
                    <div class="form-group">
                        <oui-radio
                            data-name="radioPto"
                            data-model="$ctrl.model.pto"
                            data-value="$ctrl.FIBER_PTO.FIBER_PTO_MULTI_OTP"
                        >
                            <span
                                data-translate="telecom_pack_migration_pto_multi_otp"
                            ></span>
                            <button
                                type="button"
                                class="oui-popover-button"
                                data-oui-popover="{{'telecom_pack_migration_pto_multi_otp_description' | translate}}"
                            ></button>
                        </oui-radio>
                    </div>
                </div>
            </div>
            <div class="form-inline" data-ng-if="$ctrl.isPto()">
                <div class="form-group">
                    <label
                        for="referencePto"
                        data-translate="telecom_pack_migration_pto_reference"
                    >
                    </label>
                    <input
                        type="text"
                        id="referencePto"
                        class="oui-input oui-input_inline"
                        data-ng-model="$ctrl.model.ptoReference"
                        data-ng-change="$ctrl.isOtpRegexValid()"
                    />
                    <span
                        class="help-block oui-color-ae-500"
                        role="alert"
                        data-ng-if="!$ctrl.otpReferenceValid"
                        data-translate="telecom_pack_migration_pto_reference_is_not_valid"
                    >
                    </span>
                </div>
            </div>
            <div class="form-inline" data-ng-if="$ctrl.isPto()">
                <div class="form-group">
                    <strong
                        class="d-block"
                        data-translate="telecom_pack_migration_pto_where"
                    ></strong>
                    <div
                        data-translate="telecom_pack_migration_pto_where_description"
                    ></div>
                    <div
                        data-translate="telecom_pack_migration_pto_otp_not_mandatory"
                        data-ng-if="$ctrl.model.pto === $ctrl.FIBER_PTO.FIBER_PTO_MULTI_OTP"
                    ></div>
                </div>
            </div>
        </div>

        <div class="mt-5" data-ng-if="!$ctrl.loading.init">
            <a
                class="btn btn-default"
                data-translate="telecom_pack_migration_confirm_cancel_button"
                data-ui-sref="telecom.packs.pack"
            >
            </a>
            <button
                type="button"
                class="btn btn-primary"
                data-ng-disabled="!$ctrl.isValidSelection()"
                data-translate="telecom_pack_migration_building_details_confirm"
                data-ng-click="$ctrl.nextStep()"
            ></button>
        </div>
    </div>
</div>
