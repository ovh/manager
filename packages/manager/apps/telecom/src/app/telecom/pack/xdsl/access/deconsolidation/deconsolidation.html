<div class="telecom-pack-xdsl-deconsolidation">
    <div
        class="text-center"
        data-ng-if="loaders.deconsolidation || loaders.xdsl || DeconCtrl.loading"
    >
        <oui-spinner class="mt-4" data-size="l"></oui-spinner>
    </div>

    <div class="widget-presentation">
        <h2
            class="widget-presentation-title"
            data-translate="xdsl_access_deconsolidation_title"
        ></h2>

        <div
            data-ng-if="!loaders.deconsolidation && !loaders.xdsl && !DeconCtrl.loading"
        >
            <div
                data-ng-if="deconsolidation === 'total'"
                class="alert alert-warning"
                role="alert"
            >
                <p
                    class="master mt-3"
                    data-translate="xdsl_access_deconsolidation_warning_total"
                ></p>
            </div>
            <div data-ng-if="deconsolidation === 'partial'">
                <div
                    class="alert alert-warning mt-4"
                    role="alert"
                    data-ng-if="DeconCtrl.isLegacyOffer"
                >
                    <strong
                        data-translate="xdsl_access_deconsolidation_legacy_offer"
                    ></strong>
                    <a
                        data-translate="xdsl_access_deconsolidation_legacy_offer_upgrade"
                        data-ng-href="{{ ::DeconCtrl.getOldV6TransfertUrl()}}"
                        data-uib-tooltip="{{ ::'redirection_old_manager' | translate }}"
                        target="_blank"
                    >
                    </a>
                </div>
                <form data-ng-if="!DeconCtrl.isLegacyOffer">
                    <h3
                        data-translate="xdsl_access_deconsolidation_rio_title"
                    ></h3>
                    <div
                        class="input-group mb-3"
                        data-ng-class="{'has-error': !DeconCtrl.rioCodeIsValid &&
                       DeconCtrl.model.rio}"
                    >
                        <input
                            type="text"
                            class="form-control small-input"
                            data-ng-model="DeconCtrl.model.rio"
                            data-ng-change="DeconCtrl.checkRioCode()"
                            id="rio"
                            placeholder="{{ 'xdsl_access_deconsolidation_rio' | translate }}"
                        />
                        <div>
                            <label
                                for="rio"
                                class="mt-2"
                                data-translate="xdsl_access_deconsolidation_rio_warning"
                            ></label>
                        </div>
                    </div>
                    <p
                        data-translate="xdsl_access_deconsolidation_rio_help"
                    ></p>

                    <div
                        class="alert alert-info"
                        role="alert"
                        data-translate="xdsl_access_deconsolidation_desc_important"
                    ></div>
                    <button
                        class="mt-3 btn btn-primary"
                        type="submit"
                        data-ng-disabled="!DeconCtrl.rioCodeIsValid && DeconCtrl.model.rio"
                        data-translate="xdsl_access_deconsolidation_validate"
                        data-ng-click="DeconCtrl.openConfirmModal()"
                    ></button>
                </form>
            </div>
        </div>
    </div>
</div>
