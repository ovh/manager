<oui-modal
    data-primary-label="{{ :: 'close' | translate }}"
    data-primary-action="$ctrl.$state.go('^')"
    data-secondary-label="{{ $ctrl.getRemainingChecksText() }}"
    data-secondary-action="$ctrl.reload()"
    data-secondary-disabled="$ctrl.diagnostic.remaining === 0"
    data-on-dismiss="$ctrl.$state.go('^')"
    data-loading="!$ctrl.diagnostic"
    data-heading="{{ :: 'xdsl_details_diagnostic_modal_title' | translate }}"
>
    <p data-ng-if="!$ctrl.diagnostic">
        <span data-translate="xdsl_details_diagnostic_modal_loading"></span
        ><br />
        <span
            data-translate="xdsl_details_diagnostic_modal_loading_info"
        ></span>
    </p>

    <dl data-ng-if="$ctrl.diagnostic">
        <div class="row">
            <dt
                class="col-xs-4"
                data-translate="xdsl_details_diagnostic_modal_status_term_time"
            ></dt>
            <dd
                class="col-xs-8"
                data-ng-bind="$ctrl.diagnostic.diagnosticTime | date: 'HH:mm:ss'"
            ></dd>
        </div>
        <div data-ng-repeat="status in $ctrl.statuses" class="row">
            <dt
                class="col-xs-4"
                data-translate="{{ 'xdsl_details_diagnostic_modal_status_term_' + status.key}}"
            ></dt>
            <dd class="col-xs-8">
                <span
                    aria-hidden="true"
                    class="small oui-icon {{ status.val ? 'oui-icon-success-circle' : 'oui-icon-error-circle' }}"
                >
                </span>
                <span
                    data-translate="{{ 'xdsl_details_diagnostic_modal_status_term_' + status.key + '_' + status.val }}"
                ></span>
            </dd>
        </div>
    </dl>
</oui-modal>
