<section class="telecom-telephony-line-management-terminate">
    <header>
        <tuc-section-back-link
            data-tuc-section-back-link-to-state="telecom.telephony.billingAccount.line.dashboard"
            data-tuc-section-back-link-title="{{ 'telephony_group_line_section_back_link' | translate }}"
        >
        </tuc-section-back-link>
        <h1
            data-translate="telephony_group_line_terminate_title"
            data-translate-values="{ line: TerminateCtrl.line.getDisplayedName() }"
        ></h1>
    </header>

    <div class="telecom-section-content">
        <tuc-toast-message></tuc-toast-message>

        <div class="row">
            <!-- LINE INFORMATIONS -->
            <section class="col-xs-12 col-md-6 widget-presentation">
                <header class="widget-presentation-header">
                    <h2
                        class="widget-presentation-title"
                        data-translate="telephony_group_line_terminate_info_title"
                    ></h2>
                </header>
                <p data-translate="telephony_group_line_terminate_info_1"></p>
                <p data-translate="telephony_group_line_terminate_info_2"></p>
                <div data-ng-if="TerminateCtrl.hasPhone">
                    <h3
                        class="mt-3"
                        data-translate="telephony_group_line_terminate_info_3"
                    ></h3>
                    <p
                        data-translate="telephony_group_line_terminate_info_4"
                    ></p>
                    <div class="oui-box">
                        <address class="d-flex mb-0">
                            <i
                                class="ovh-font ovh-font-home ovh-font-1x8 pt-3"
                                aria-hidden="true"
                            ></i>
                            <div class="pl-5">
                                <h4
                                    data-translate="telephony_group_line_terminate_back_address"
                                ></h4>
                                <address>
                                    <span
                                        class="d-block"
                                        data-translate="telephony_group_line_terminate_address_name"
                                    ></span>
                                    <span
                                        class="d-block"
                                        data-translate="telephony_group_line_terminate_address_service"
                                    ></span>
                                    <span
                                        class="d-block"
                                        data-translate="telephony_group_line_terminate_address_address"
                                    ></span>
                                    <span
                                        class="d-block"
                                        data-translate="telephony_group_line_terminate_address_city"
                                    ></span>
                                </address>
                            </div>
                        </address>
                    </div>
                </div>
            </section>

            <!-- GROUPE INFORMATIONS-->
            <div class="col-xs-12 col-md-6 widget-presentation">
                <header class="widget-presentation-header">
                    <h2
                        class="widget-presentation-title"
                        data-translate="telephony_group_line_terminate_action_title"
                    ></h2>
                </header>
                <form
                    name="terminateFrom"
                    data-ng-submit="TerminateCtrl.terminate()"
                >
                    <div class="form-group">
                        <label
                            for="reason"
                            class="control-label"
                            data-translate="telephony_group_line_terminate_action_label"
                        >
                        </label>
                        <select
                            class="form-control"
                            id="reason"
                            name="reason"
                            required
                            data-ng-model="TerminateCtrl.reason.id"
                            data-ng-change="TerminateCtrl.cleanReasonDetail()"
                            data-ng-options="'telephony_group_line_terminate_reason_label_' + reason | translate for reason in TerminateCtrl.availableReasons"
                        >
                            <option
                                value=""
                                data-translate="telephony_group_line_terminate_reason_label"
                                disabled
                            ></option>
                        </select>
                    </div>
                    <div
                        class="form-group"
                        data-ng-show="TerminateCtrl.haveToGiveReasonDetail()"
                    >
                        <label
                            class="control-label"
                            for="reasonDetail"
                            data-translate="telephony_group_line_terminate_action_reason_detail_label"
                        >
                        </label>
                        <textarea
                            id="reasonDetail"
                            name="reasonDetail"
                            class="form-control"
                            rows="5"
                            data-ng-model="TerminateCtrl.reason.details"
                            data-ng-required="TerminateCtrl.haveToGiveReasonDetail()"
                            data-translate-attr="{ 'placholder': 'telephony_group_line_terminate_action_reason_detail_placeholder' }"
                        >
                        </textarea>
                    </div>
                    <div class="form-group mt-4">
                        <div class="col-md-6">
                            <hr />
                            <tuc-telephony-bulk-action
                                data-billing-account="{{ TerminateCtrl.bulkDatas.billingAccount }}"
                                data-service-name="{{ TerminateCtrl.bulkDatas.serviceName }}"
                                data-custom-class="link d-block pl-0 mb-3"
                                data-ng-disabled="!terminateFrom.$valid || TerminateCtrl.loading.terminate"
                                data-bulk-infos="TerminateCtrl.bulkDatas.infos"
                                data-get-bulk-params="TerminateCtrl.getBulkParams"
                                data-on-success="TerminateCtrl.onBulkSuccess"
                                data-on-error="TerminateCtrl.onBulkError"
                            >
                            </tuc-telephony-bulk-action>
                            <button
                                type="submit"
                                class="btn btn-primary"
                                data-ng-disabled="!terminateFrom.$valid || TerminateCtrl.loading.terminate"
                                data-translate="telephony_group_line_terminate_terminate"
                            ></button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <!-- /.telecom-section-content -->
</section>
<!-- /.telecom-telephony-line-management-terminate -->
