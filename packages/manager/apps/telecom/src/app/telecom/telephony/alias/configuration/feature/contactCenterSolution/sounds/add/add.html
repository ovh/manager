<oui-modal
    data-heading="{{:: 'telephony_alias_config_contactCenterSolution_sounds_add_sound' | translate }}"
    data-on-dismiss="$ctrl.$uibModalInstance.dismiss()"
    data-primary-action="$ctrl.$uibModalInstance.close($ctrl.soundToApply)"
    data-primary-label="{{:: 'common_add' | translate }}"
    data-primary-disabled="!$ctrl.soundToApply || $ctrl.uploading"
    data-secondary-action="$ctrl.$uibModalInstance.dismiss()"
    data-secondary-label="{{:: 'cancel' | translate }}"
    data-secondary-disabled="$ctrl.uploading"
>
    <div data-ng-if="!$ctrl.uploading">
        <small
            data-translate="telephony_alias_config_contactCenterSolution_sounds_size"
        ></small>
        <tuc-input-file
            class="oui-button_icon-left"
            data-ng-model="$ctrl.toUpload"
            data-ng-accept="audio/*"
            data-ng-accept-filter="$ctrl.checkValidAudioExtention(file)"
        >
            <span class="oui-icon oui-icon-add" aria-hidden="true"></span>
            <span
                data-translate="telephony_alias_config_contactCenterSolution_sounds_add_sound"
            ></span>
        </tuc-input-file>

        <oui-message
            class="mt-2"
            data-type="error"
            role="alert"
            data-dismissable="true"
            data-ng-if="$ctrl.error"
        >
            <p
                data-translate="telephony_alias_config_contactCenterSolution_sounds_upload_error"
            ></p>
            <p data-ng-bind="$ctrl.error.data.message"></p>
        </oui-message>

        <oui-button
            class="my-3"
            data-variant="secondary"
            data-ng-if="!$ctrl.uploading && $ctrl.toUpload"
            data-on-click="$ctrl.uploadFile()"
        >
            <span data-translate="submit"></span>
        </oui-button>
    </div>
    <oui-spinner class="my-3" data-ng-if="$ctrl.uploading" data-size="s">
    </oui-spinner>

    <oui-field
        data-ng-if="$ctrl.sounds.length > 0"
        data-label="{{:: 'telephony_alias_config_contactCenterSolution_sounds_list' | translate }}"
    >
        <oui-radio
            data-ng-repeat="sound in $ctrl.sounds track by $index"
            name="sound_{{$index}}"
            data-value="sound"
            data-model="$ctrl.soundToApply"
        >
            <span data-ng-bind="sound.name"></span>
        </oui-radio>
    </oui-field>
</oui-modal>
