<section class="telecom-telephony-line-phone-mgcpIpRestriction">
    <header>
        <tuc-section-back-link
            data-tuc-section-back-link-to-state="telecom.telephony.billingAccount.line.dashboard"
            data-tuc-section-back-link-title="{{ ::'telephony_group_line_section_back_link' | translate }}"
        >
        </tuc-section-back-link>
        <h1 data-translate="telephony_line_mgcp_ip_restriction_title"></h1>
    </header>

    <div class="telecom-section-content">
        <tuc-toast-message></tuc-toast-message>

        <div class="text-center" data-ng-if="MgcpIpRestrictionCtrl.isLoading">
            <oui-spinner></oui-spinner>
        </div>

        <div class="row" data-ng-if="!MgcpIpRestrictionCtrl.isLoading">
            <div class="col-xs-12 col-md-6">
                <section class="widget-presentation">
                    <h2
                        class="widget-presentation-title"
                        data-translate="telephony_line_mgcp_ip_restriction_line_title"
                    ></h2>
                    <p
                        class="alert alert-info"
                        role="alert"
                        data-translate="telephony_line_mgcp_ip_restriction_line_info"
                        data-translate-values="{restriction: MgcpIpRestrictionCtrl.mgcpIpRestriction.mgcpIpRestriction}"
                    ></p>
                    <form
                        name="mgcpIpRestrictionForm"
                        id="mgcpIpRestrictionForm"
                        data-ng-submit="MgcpIpRestrictionCtrl.setMgcpIpRestriction()"
                    >
                        <div class="form-group mb-3">
                            <label
                                class="control-label"
                                for="mgcpIpRestriction"
                                data-translate="telephony_line_mgcp_ip_restriction_label"
                            >
                            </label>
                            <input
                                type="text"
                                name="mgcpIpRestriction"
                                id="mgcpIpRestriction"
                                class="form-control"
                                data-ng-model="MgcpIpRestrictionCtrl.mgcpIpRestrictionForm.mgcpIpRestriction"
                                data-ng-pattern="MgcpIpRestrictionCtrl.ipValidator"
                                data-ng-disabled="MgcpIpRestrictionCtrl.isChangingMgcpIpRestriction"
                                data-translate-attr="{ placeholder: 'telephony_line_mgcp_ip_restriction_placeholder' }"
                            />
                            <div
                                role="alert"
                                data-ng-messages="mgcpIpRestrictionForm.$error"
                            >
                                <p
                                    class="text-danger"
                                    data-ng-message="pattern"
                                    data-translate="telephony_line_mgcp_ip_restriction_error_pattern"
                                ></p>
                            </div>
                        </div>
                        <div class="form-group mt-4">
                            <div class="row">
                                <div class="col-md-6">
                                    <hr />
                                    <tuc-telephony-bulk-action
                                        data-billing-account="{{ MgcpIpRestrictionCtrl.bulkDatas.billingAccount }}"
                                        data-service-name="{{ MgcpIpRestrictionCtrl.bulkDatas.serviceName }}"
                                        data-custom-class="link d-block pl-0 mb-3"
                                        data-ng-disabled="mgcpIpRestrictionForm.$invalid ||
                                                          MgcpIpRestrictionCtrl.isChangingMgcpIpRestriction"
                                        data-filter-services="MgcpIpRestrictionCtrl.filterServices"
                                        data-bulk-infos="MgcpIpRestrictionCtrl.bulkDatas.infos"
                                        data-get-bulk-params="MgcpIpRestrictionCtrl.getBulkParams"
                                        data-on-success="MgcpIpRestrictionCtrl.onBulkSuccess"
                                        data-on-error="MgcpIpRestrictionCtrl.onBulkError"
                                    >
                                    </tuc-telephony-bulk-action>
                                    <button
                                        type="submit"
                                        class="btn btn-primary"
                                        data-ng-disabled="mgcpIpRestrictionForm.$invalid ||
                                                          !MgcpIpRestrictionCtrl.hasMgcpIpRestrictionChanged() ||
                                                          MgcpIpRestrictionCtrl.isChangingMgcpIpRestriction"
                                    >
                                        <oui-spinner
                                            class="mr-2"
                                            data-ng-if="MgcpIpRestrictionCtrl.isChangingMgcpIpRestriction"
                                            data-size="s"
                                        >
                                        </oui-spinner>
                                        <span
                                            data-translate="telephony_line_mgcp_ip_restriction_submit"
                                        ></span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </section>
                <!-- .widget-presentation -->
            </div>
            <div class="col-xs-12 col-md-6">
                <section class="widget-presentation">
                    <h2
                        class="widget-presentation-title"
                        data-translate="telephony_line_mgcp_ip_restriction_customer_code_title"
                    ></h2>
                    <p
                        class="alert alert-info"
                        role="alert"
                        data-translate="telephony_line_mgcp_ip_restriction_customer_code_info"
                    ></p>
                    <form
                        name="mgcpDefaultIpRestrictionForm"
                        id="mgcpDefaultIpRestrictionForm"
                        data-ng-submit="MgcpIpRestrictionCtrl.setMgcpDefaultIpRestriction()"
                    >
                        <div class="form-group mb-3">
                            <label
                                class="control-label"
                                for="mgcpDefaultIpRestriction"
                                data-translate="telephony_line_mgcp_ip_restriction_label"
                            >
                            </label>
                            <input
                                type="text"
                                name="mgcpDefaultIpRestriction"
                                id="mgcpDefaultIpRestriction"
                                class="form-control"
                                data-ng-model="MgcpIpRestrictionCtrl.mgcpDefaultIpRestrictionForm.subnet"
                                data-ng-pattern="MgcpIpRestrictionCtrl.ipValidator"
                                data-ng-disabled="MgcpIpRestrictionCtrl.isChangingMgcpDefaultIpRestriction"
                                data-translate-attr="{ placeholder: 'telephony_line_mgcp_ip_restriction_default_placeholder' }"
                            />
                            <div
                                role="alert"
                                data-ng-messages="mgcpDefaultIpRestrictionForm.$error"
                            >
                                <p
                                    class="text-danger"
                                    data-ng-message="pattern"
                                    data-translate="telephony_line_mgcp_ip_restriction_error_pattern"
                                ></p>
                            </div>
                        </div>
                        <div class="form-group">
                            <button
                                type="submit"
                                class="btn btn-primary"
                                data-ng-disabled="mgcpDefaultIpRestrictionForm.$invalid ||
                                                  !MgcpIpRestrictionCtrl.hasMgcpDefaultIpRestrictionChanged() ||
                                                  MgcpIpRestrictionCtrl.isChangingMgcpDefaultIpRestriction"
                            >
                                <oui-spinner
                                    class="mr-2"
                                    data-ng-if="MgcpIpRestrictionCtrl.isChangingMgcpDefaultIpRestriction"
                                    data-size="s"
                                >
                                </oui-spinner>
                                <span
                                    data-translate="telephony_line_mgcp_ip_restriction_submit"
                                ></span>
                            </button>
                        </div>
                    </form>
                </section>
                <!-- .widget-presentation -->
            </div>
        </div>
        <!-- .row -->
    </div>
    <!-- .telecom-section-content -->
</section>
<!-- .telecom-telephony-line-phone-mgcpIpRestriction -->
