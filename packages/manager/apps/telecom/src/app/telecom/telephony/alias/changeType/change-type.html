<div class="text-center" data-ng-if="$ctrl.loading">
    <oui-spinner></oui-spinner>
</div>

<div data-ng-if="!$ctrl.loading">
    <tuc-toast-message></tuc-toast-message>

    <div class="row">
        <h2
            class="col-lg-5 oui-heading_2"
            data-translate="telephony_alias_change_type_title"
        ></h2>
    </div>

    <div class="row">
        <oui-collapsible
            class="col-lg-8 mb-4"
            data-expanded="false"
            data-heading="{{:: 'telephony_alias_change_type_subtitle' | translate }}"
        >
            <p
                class="oui-paragraph"
                data-translate="telephony_alias_change_type_details"
            ></p>
        </oui-collapsible>
    </div>

    <div class="mb-4">
        <oui-button
            data-on-click="$ctrl.switchOptionMode()"
            data-variant="secondary"
        >
            <span
                data-translate="{{ ($ctrl.showExpertOptions ? 'telephony_alias_change_type_show_simple_option' : 'telephony_alias_change_type_show_expert_option') }}"
            ></span>
        </oui-button>
    </div>

    <div data-ng-if="!$ctrl.showExpertOptions">
        <div class="row w-100 d-md-flex">
            <div class="col-lg-4 col-sm-12 mb-4">
                <oui-select-picker
                    class="h-100"
                    data-match="name"
                    data-model="$ctrl.selectedFeatureType"
                    data-label="{{:: 'telephony_alias_config_change_type_label_redirect' | translate }}"
                    data-values="[{ id: 'redirect', name: $ctrl.$translate.instant('telephony_alias_config_change_type_desc_redirect') }]"
                    data-variant="light"
                >
                    <oui-select-picker-section
                        class="transclude-image-container"
                    >
                        <img
                            src="assets/images/aliasFeature/schema-redirect.svg"
                            alt="schema-redirect.svg"
                        />
                    </oui-select-picker-section>
                </oui-select-picker>
            </div>
            <div class="col-lg-4 col-sm-12 mb-4">
                <oui-select-picker
                    class="h-100"
                    data-match="name"
                    data-model="$ctrl.selectedFeatureType"
                    data-label="{{:: 'telephony_alias_config_change_type_label_contactCenterSolution' | translate }}"
                    data-values="[{ id: 'contactCenterSolution', name: $ctrl.$translate.instant('telephony_alias_config_change_type_desc_contactCenterSolution') }]"
                    data-variant="light"
                >
                    <oui-select-picker-section
                        class="transclude-image-container"
                    >
                        <img
                            src="assets/images/aliasFeature/schema-easyHunting.svg"
                            alt="schema-easyHunting.svg"
                        />
                    </oui-select-picker-section>
                </oui-select-picker>
            </div>
        </div>
        <div class="row w-100 d-md-flex">
            <div class="col-lg-4 col-sm-12 mb-4">
                <oui-select-picker
                    class="h-100"
                    data-match="name"
                    data-model="$ctrl.selectedFeatureType"
                    data-label="{{:: 'telephony_alias_config_change_type_label_cloudIvr' | translate }}"
                    data-values="[{ id: 'cloudIvr', name: $ctrl.$translate.instant('telephony_alias_config_change_type_desc_cloudIvr') }]"
                    data-variant="light"
                >
                    <oui-select-picker-section
                        class="transclude-image-container"
                    >
                        <img
                            src="assets/images/aliasFeature/schema-cloudIvr.svg"
                            alt="schema-cloudIvr.svg"
                        />
                    </oui-select-picker-section>
                </oui-select-picker>
            </div>
            <div class="col-lg-4 col-sm-12 mb-4">
                <oui-select-picker
                    class="h-100"
                    data-match="name"
                    data-model="$ctrl.selectedFeatureType"
                    data-label="{{:: 'telephony_alias_config_change_type_label_conference' | translate }}"
                    data-values="[{ id: 'conference', name: $ctrl.$translate.instant('telephony_alias_config_change_type_desc_conference') }]"
                    data-variant="light"
                >
                    <oui-select-picker-section
                        class="transclude-image-container"
                    >
                        <img
                            src="assets/images/aliasFeature/schema-conference.svg"
                            alt="schema-conference.svg"
                        />
                    </oui-select-picker-section>
                </oui-select-picker>
            </div>
        </div>
    </div>
    <div class="row d-md-flex w-100" data-ng-if="$ctrl.showExpertOptions">
        <div class="col-lg-4 col-sm-12 mb-4">
            <oui-select-picker
                class="h-100"
                data-match="name"
                data-model="$ctrl.selectedFeatureType"
                data-label="{{:: 'telephony_alias_config_change_type_label_svi' | translate }}"
                data-values="[{ id: 'svi', name: $ctrl.$translate.instant('telephony_alias_config_change_type_desc_svi') }]"
                data-variant="light"
            >
            </oui-select-picker>
        </div>
        <div class="col-lg-4 col-sm-12 mb-4">
            <oui-select-picker
                class="h-100"
                data-match="name"
                data-model="$ctrl.selectedFeatureType"
                data-label="{{:: 'telephony_alias_config_change_type_label_contactCenterSolutionExpert' | translate }}"
                data-values="[{ id: 'contactCenterSolutionExpert', name: $ctrl.$translate.instant('telephony_alias_config_change_type_desc_contactCenterSolutionExpert') }]"
                data-variant="light"
            >
            </oui-select-picker>
        </div>
    </div>

    <tuc-telephony-bulk-action
        data-service-type="alias"
        data-billing-account="{{:: $ctrl.billingAccount }}"
        data-service-name="{{:: $ctrl.serviceName }}"
        data-custom-class="link d-block pl-0 mb-3"
        data-ng-disabled="!$ctrl.canApplyBulkAction()"
        data-bulk-infos="$ctrl.bulkData.infos"
        data-get-bulk-params="$ctrl.getBulkParams()"
        data-on-success="$ctrl.onBulkSuccess()"
        data-on-error="$ctrl.onBulkError()"
    >
    </tuc-telephony-bulk-action>
    <oui-button
        class="mb-5"
        data-variant="primary"
        data-disabled="!$ctrl.canChangeType()"
        data-on-click="$ctrl.confirmChoice()"
    >
        <span data-translate="telephony_alias_change_type_set_config"></span>
    </oui-button>
</div>
