<tuc-toast-message></tuc-toast-message>

<oui-collapsible
    data-expanded="$ctrl.softphoneDevices.length === 0"
    data-heading="{{ 'telephony_line_softphone_download_links_title' | translate }}"
>
    <h4 class="pt-3">
        <strong
            data-translate="telephony_line_softphone_download_links_description_label"
        ></strong>
    </h4>

    <p class="pt-1">
        <b
            data-translate="telephony_line_softphone_download_links_option_1"
        ></b>
    </p>
    <div class="container-badges mb-2">
        <div class="col-6 align-items-center">
            <a data-ng-href="{{$ctrl.storeLinks[$ctrl.MOBILE_OS.ios]}}">
                <img
                    class="ios"
                    alt="{{:: 'telephony_line_softphone_store_link_ios' | translate}}"
                    src="https://developer.apple.com/app-store/marketing/guidelines/images/badge-example-preferred.png"
                />
            </a>
            <a data-ng-href="{{$ctrl.storeLinks[$ctrl.MOBILE_OS.android]}}">
                <img
                    class="android"
                    alt="{{:: 'telephony_line_softphone_store_link_android' | translate}}"
                    src="https://play.google.com/intl/en_us/badges/static/images/badges/en_badge_web_generic.png"
                />
            </a>
            <a data-ng-href="{{$ctrl.storeLinks[$ctrl.MOBILE_OS.windows]}}">
                <img
                    class="windows"
                    alt="{{:: 'telephony_line_softphone_store_link_windows'| translate}}"
                    src="https://get.microsoft.com/images/fr-ca%20dark.svg"
                />
            </a>
        </div>
    </div>

    <p class="pt-1">
        <b
            data-translate="telephony_line_softphone_download_links_option_2"
        ></b>
    </p>
    <div class="row mb-2">
        <div class="d-flex justify-content-left ml-5">
            <qr data-text="$ctrl.storeLinks[$ctrl.constructor.osName]"></qr>
        </div>
    </div>

    <p class="pt-1">
        <b
            data-translate="telephony_line_softphone_download_links_option_3"
        ></b>
    </p>
    <div class="row">
        <oui-field
            class="col-md-4"
            data-label="{{ :: 'telephony_line_softphone_download_link' | translate }}"
        >
            <oui-clipboard
                data-name="downloadLink"
                data-model="$ctrl.storeLinks[$ctrl.constructor.osName]"
            ></oui-clipboard>
        </oui-field>
    </div>
</oui-collapsible>
<oui-collapsible
    class="custom-collapsible-no-click mt-3"
    data-expanded="true"
    data-heading="{{ 'telephony_line_softphone_configure_title' | translate }}"
>
    <div class="row mb-2">
        <div class="col-md-12 mb-2">
            <p
                data-translate="telephony_line_softphone_configure_description"
            ></p>
            <oui-guide-menu data-text="{{ ::$ctrl.guide.title }}">
                <oui-guide-menu-item
                    data-href="{{ ::$ctrl.guide.url }}"
                    data-external="$ctrl.guide.external"
                    ><span data-ng-bind="::$ctrl.guide.name"></span>
                </oui-guide-menu-item>
            </oui-guide-menu>
        </div>
        <div
            class="d-flex flex-wrap w-100 minw-0 align-items-center justify-content-start"
        >
            <oui-tile
                data-ng-repeat="deviceId in ::$ctrl.softphoneDevices track by $index"
                class="m-2"
                heading="{{ 'Paul Iphone' }}"
            >
                <oui-tile-definition term="Statut" description="ConnectÃ©">
                </oui-tile-definition>
                <oui-tile-definition>
                    <oui-tile-actions>
                        <oui-button
                            class="p-2"
                            data-on-click="$ctrl.goToDeleteDevice(deviceId)"
                            variant="link"
                        >
                            <span
                                class="text-danger"
                                data-translate="telephony_line_softphone_btn_delete"
                            >
                            </span>
                        </oui-button>
                        <oui-button class="p-2"
                            ><span
                                data-translate="telephony_line_softphone_btn_rerecord"
                            >
                            </span>
                        </oui-button>
                    </oui-tile-actions>
                </oui-tile-definition>
            </oui-tile>
        </div>
    </div>
    <oui-button
        class="mt-3"
        data-icon-left="oui-icon-plus"
        data-variant="primary"
        data-on-click="$ctrl.openAddDeviceModal()"
    >
        <span data-translate="telephony_line_softphone_add_device"></span>
    </oui-button>
</oui-collapsible>
<oui-collapsible
    class="custom-collapsible-no-click mt-3"
    data-expanded="true"
    data-heading="{{ 'telephony_line_softphone_theme_title' | translate }}"
>
    <!-- Coloured List !-->

    <!-- Update logo with image file !-->
    <h3 data-translate="telephony_line_softphone_upload_logo"></h3>
    <form name="form" data-ng-submit=":: $ctrl.applyTheme()">
        <div style class="d-flex flex-wrap w-100 align-items-center">
            <theme-picker
                data-ng-repeat="theme in ::$ctrl.themes track by $index"
                data-color="theme.color"
                data-theme-id="theme.themeId"
                data-selected="$ctrl.currentTheme"
            ></theme-picker>
        </div>
        <oui-field
            data-label="{{ 'telephony_line_softphone_your_logo' | translate }}"
            data-help-text="{{ $ctrl.acceptedFormatsDesc + ' (< '+ $ctrl.maxSizeLogoFile/1000 + ' KB)' }}"
        >
            <oui-file
                data-accept="{{ $ctrl.acceptedFormats }}"
                data-maxsize="$ctrl.maxSizeLogoFile"
                data-on-select="$ctrl.updateFilesList()"
                data-droparea
                data-model="$ctrl.fileModel"
            >
            </oui-file>
        </oui-field>
        <button type="submit" class="btn btn-default">
            <span
                data-translate="telephony_line_softphone_btn_apply_theme"
            ></span>
        </button>
    </form>
    <p data-translate="telephony_line_softphone_save_theme"></p>
</oui-collapsible>
