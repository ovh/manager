<section class="telephony-group-service-voicemail-default">
    <div class="text-center" data-ng-if="DefaultVoicemailCtrl.loading">
        <oui-spinner></oui-spinner>
    </div>

    <div class="row" data-ng-if="!DefaultVoicemailCtrl.loading">
        <div class="col-xs-12 col-md-6">
            <tuc-toast-message></tuc-toast-message>

            <form
                name="defaultVoicemailForm"
                novalidate
                data-ng-submit="DefaultVoicemailCtrl.saveDefaultVoicemail()"
            >
                <div class="form-group">
                    <label
                        class="control-label"
                        for="default"
                        data-translate="telephony_line_answer_default_voicemail_label"
                    >
                    </label>
                    <input
                        id="default"
                        name="default"
                        class="oui-input"
                        data-ng-model="DefaultVoicemailCtrl.options.defaultVoicemail"
                        type="text"
                        oui-autocomplete="DefaultVoicemailCtrl.numbers"
                        oui-autocomplete-property="domain"
                        data-ng-change="DefaultVoicemailCtrl.onDefaultVoicemailChange()"
                        placeholder="{{:: 'telephony_line_answer_default_voicemail_search' | translate }}"
                    />
                </div>
                <div class="form-group mt-4">
                    <hr />
                    <tuc-telephony-bulk-action
                        data-billing-account="{{ DefaultVoicemailCtrl.bulkDatas.billingAccount }}"
                        data-service-name="{{ DefaultVoicemailCtrl.bulkDatas.serviceName }}"
                        data-custom-class="link d-block pl-0 mb-3"
                        data-bulk-infos="DefaultVoicemailCtrl.bulkDatas.infos"
                        data-filter-services="DefaultVoicemailCtrl.filterServices"
                        data-ng-disabled="DefaultVoicemailCtrl.saving"
                        data-get-bulk-params="DefaultVoicemailCtrl.getBulkParams"
                        data-on-success="DefaultVoicemailCtrl.onBulkSuccess"
                        data-on-error="DefaultVoicemailCtrl.onBulkError"
                    >
                    </tuc-telephony-bulk-action>

                    <button
                        type="submit"
                        class="btn btn-primary"
                        data-ng-disabled="DefaultVoicemailCtrl.options.defaultVoicemail === DefaultVoicemailCtrl.defaultVoicemail || DefaultVoicemailCtrl.saving"
                    >
                        <span
                            data-translate="telephony_line_answer_default_voicemail_change"
                        ></span>
                        <i
                            class="ovh-font ovh-font-success ml-2"
                            data-ng-if="DefaultVoicemailCtrl.success"
                        >
                        </i>
                        <oui-spinner
                            class="ml-2"
                            data-ng-if="DefaultVoicemailCtrl.saving"
                            data-size="s"
                        >
                        </oui-spinner>
                    </button>
                    <button
                        type="reset"
                        class="btn btn-link"
                        data-ng-click="DefaultVoicemailCtrl.cancel()"
                        data-ng-disabled="DefaultVoicemailCtrl.options.defaultVoicemail === DefaultVoicemailCtrl.defaultVoicemail || DefaultVoicemailCtrl.saving"
                        data-translate="cancel"
                    ></button>
                </div>
            </form>
        </div>
    </div>
    <!-- /.row -->
</section>
<!-- /.telephony-group-service-voicemail-default -->
