<div data-ng-controller="PrivateDatabaseArchiveListCtrl as archiveListCtrl">
    <div data-ovh-alert="{{alerts.main}}"></div>

    <oui-back-button data-on-click="goToList()">
        <span data-translate="common_back"></span>
    </oui-back-button>

    <h2
        data-ng-bind-html="'privateDatabase_tabs_dumps_archive_change' | translate: { t0: nbDayToDelete }"
    ></h2>

    <oui-datagrid data-rows="archiveListCtrl.deletedDbList">
        <oui-datagrid-column
            data-title="'privateDatabase_bdd_name' | translate"
            data-property="databaseName"
            data-sortable
        ></oui-datagrid-column>
        <oui-datagrid-column
            data-title="'privateDatabase_bdd_dumps_count' | translate"
            data-property="dumps.length"
            data-sortable
        >
            <div
                class="oui-badge"
                data-ng-bind="$row.dumps.length"
                data-ng-class="{ 'oui-badge_success': $row.dumps.length > 0, 'oui-badge_error': !($row.dumps.length > 0) }"
            ></div>
        </oui-datagrid-column>
        <oui-action-menu data-compact data-placement="end">
            <oui-action-menu-item data-on-click="goToArchivesDumps($row)"
                ><span
                    data-translate="privateDatabase_action_list_dumps"
                ></span>
            </oui-action-menu-item>
        </oui-action-menu>
    </oui-datagrid>
</div>
