<div data-ng-controller="PrivateDatabaseChangeVersionCtrl as versionCtrl">
    <div
        data-wizard
        data-wizard-bread-crumb
        data-wizard-on-cancel="resetAction"
        data-wizard-on-finish="updateVersion"
        data-wizard-title="'privateDatabase_change_version_title' | translate"
    >
        <div
            data-wizard-step
            data-wizard-step-valid="versionCtrl.model.choice.length"
        >
            <div class="text-center" data-ng-if="versionCtrl.loading.init">
                <oui-spinner></oui-spinner>
            </div>

            <div
                class="alert alert-info"
                role="alert"
                data-translate="privateDatabase_change_version_null"
                data-ng-if="!versionCtrl.loading.init && versionCtrl.model.versions.length === 0"
            ></div>

            <div
                data-ng-if="!versionCtrl.loading.init && versionCtrl.model.versions.length > 0"
            >
                <p
                    data-translate="privateDatabase_change_version_step1"
                    data-translate-values="{ t0: versionCtrl.getDatabaseDisplayName(versionCtrl.privateDBToUpdate) }"
                ></p>

                <form class="form-horizontal mt-4">
                    <div class="form-group">
                        <label
                            class="control-label col-md-4"
                            for="changeVersion"
                            data-translate="privateDatabase_change_version_available"
                        ></label>
                        <div class="col-md-6">
                            <div class="oui-select oui-select_inline">
                                <select
                                    class="oui-select__input"
                                    id="changeVersion"
                                    data-ng-model="versionCtrl.model.choice"
                                    data-ng-options="versionCtrl.getDatabaseDisplayName(version) for version in versionCtrl.model.versions track by version"
                                >
                                    <option
                                        value=""
                                        disabled
                                        data-translate="privateDatabase_change_version_available_select"
                                    ></option>
                                </select>
                                <span
                                    class="oui-icon oui-icon-chevron-down"
                                    aria-hidden="true"
                                ></span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div data-wizard-step>
            <p
                data-translate="privateDatabase_change_version_step2"
                data-translate-values="{
                   t0: versionCtrl.getDatabaseDisplayName(versionCtrl.privateDBToUpdate),
                   t1: versionCtrl.getDatabaseDisplayName(versionCtrl.model.choice)
               }"
            ></p>

            <div
                class="alert alert-warning"
                role="alert"
                data-translate="privateDatabase_change_version_warn_1"
            ></div>
            <div
                class="alert alert-warning"
                role="alert"
                data-translate="privateDatabase_change_version_warn_2"
            ></div>
        </div>
    </div>
</div>
