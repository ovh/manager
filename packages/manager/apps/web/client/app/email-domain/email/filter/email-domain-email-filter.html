<div
    class="row"
    data-ng-controller="EmailDomainEmailFilterCtrl as ctrlEmailDomainEmailFilter"
>
    <div class="col-md-9">
        <div data-ovh-alert="{{alerts.main}}"></div>

        <oui-back-button
            data-on-click="ctrlEmailDomainEmail.resetInitialView()"
        >
            <span data-translate="common_back"></span>
        </oui-back-button>
        <h2>
            <span data-translate="email_tab_filters_management_heading"></span>
            <strong
                data-ng-bind="ctrlEmailDomainEmailFilter.currentAccount.accountName"
            ></strong>
        </h2>

        <oui-datagrid
            data-rows="ctrlEmailDomainEmailFilter.filters"
            data-row-loader="ctrlEmailDomainEmailFilter.transformItem($row)"
        >
            <oui-datagrid-column
                data-title="'email_tab_table_header_filter_name' | translate"
                data-property="name"
                data-sortable="asc"
            ></oui-datagrid-column>
            <oui-datagrid-column
                data-title="'email_tab_table_header_filter_priority' | translate"
                data-property="priority"
                data-sortable
            ></oui-datagrid-column>
            <oui-datagrid-column
                data-title="'emails_common_status' | translate"
            >
                <span
                    class="oui-badge"
                    data-ng-show="$row.active"
                    data-ng-class="{'oui-badge_success': $row.active, 'oui-badge_error': !$row.active}"
                    data-ng-bind="'email_tab_filters_status_' + $row.active | translate"
                ></span>
            </oui-datagrid-column>
            <oui-action-menu data-compact data-placement="end">
                <oui-action-menu-item
                    data-on-click="setAction('email-domain/email/filter/edit/email-domain-email-filter-edit', {
                                          account: ctrlEmailDomainEmailFilter.currentAccount,
                                          filter: $row,
                                          accounts: ctrlEmailDomainEmail.emails
                                      })"
                    ><span
                        data-translate="email_tab_popover_filter_edit"
                    ></span>
                </oui-action-menu-item>
                <oui-action-menu-item
                    data-on-click="setAction('email-domain/email/filter/delete/email-domain-email-filter-delete', {
                                          account: ctrlEmailDomainEmailFilter.currentAccount,
                                          filter: $row
                                      })"
                    ><span
                        data-translate="email_tab_popover_filter_delete"
                    ></span>
                </oui-action-menu-item>
            </oui-action-menu>
        </oui-datagrid>
    </div>

    <div class="col-md-3 mt-5 mt-lg-0">
        <div class="mb-5">
            <button
                class="btn btn-block btn-default"
                type="button"
                data-translate="email_tab_button_emails_create_filter"
                data-ng-click="setAction('email-domain/email/filter/create/email-domain-email-filter-create', {
                        account: ctrlEmailDomainEmailFilter.currentAccount,
                        accounts: ctrlEmailDomainEmail.emails,
                        filterNames: ctrlEmailDomainEmailFilter.filters
                    })"
            ></button>
        </div>
        <div
            data-wuc-guides
            data-wuc-guides-title="'guide_subtitle' | translate"
            data-wuc-guides-list="'emailsFilter'"
            data-tr="tr"
        ></div>
    </div>
</div>
