<h2 data-translate="hosting_multisite_statistics"></h2>

<oui-message
    data-ng-if="$ctrl.hasLoadingError"
    type="error"
    dismissable="true"
    on-dismiss="$ctrl.hasLoadingError = false"
>
    <span data-translate="hosting_multisite_statistics_loading_error"></span>
</oui-message>
<oui-message
    data-ng-if="$ctrl.isCdnUpgradeRequired"
    type="info"
    dismissable="true"
    on-dismiss="$ctrl.isCdnUpgradeRequired = false"
>
    <span data-translate="hosting_multisite_statistics_upgrade_info"></span>
</oui-message>

<div class="oui-box row mx-1">
    <div class="col-md-3">
        <label
            for="domain"
            data-translate="hosting_multisite_statistics_domain"
        ></label>
        <oui-select
            id="domain"
            name="domain"
            items="$ctrl.domainList"
            model="$ctrl.domain"
            on-change="$ctrl.getDomainStatistics($ctrl.domain, $ctrl.period)"
        ></oui-select>
    </div>

    <div class="col-md-offset-6 col-md-3">
        <label
            for="period"
            data-translate="hosting_multisite_statistics_period"
        ></label>
        <oui-select
            id="period"
            match="label"
            name="period"
            items="$ctrl.periods"
            model="$ctrl.period"
            on-change="$ctrl.getDomainStatistics($ctrl.domain, $ctrl.period)"
        >
        </oui-select>
    </div>
</div>

<div class="oui-box oui-box_light">
    <div
        data-ng-if="!$ctrl.isLoadingStatistics && $ctrl.chart"
        class="chart-container"
        style="height: 320px;"
        data-chart
        data-chartjs="$ctrl.chart"
        data-auto-reload="true"
    ></div>
    <oui-message data-ng-if="$ctrl.migration" type="info">
        <span
            data-translate="hosting_multisite_statistics_changing_datavis_tool"
        ></span>
    </oui-message>
    <div class="text-center" data-ng-if="$ctrl.isLoadingStatistics">
        <oui-spinner></oui-spinner>
    </div>
</div>
