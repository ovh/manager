<div data-ng-controller="HostingTabLocalSeoCtrl as $ctrl">
    <div class="row">
        <div class="col-12">
            <div data-ovh-alert="{{alerts.main}}"></div>

            <h3 data-translate="hosting_tab_LOCAL_SEO"></h3>
            <p>
                <span data-translate="hosting_tab_LOCAL_SEO_description"></span>
                <a
                    href="{{ $ctrl.visibilityCheckerURL }}"
                    target="_blank"
                    rel="noopener"
                >
                    <span
                        data-translate="hosting_dashboard_local_seo_visibility_check"
                    ></span>
                    <span
                        class="fa fa-external-link"
                        aria-label="{{:: 'core_new_window' | translate }}"
                    ></span>
                </a>
            </p>

            <div class="d-flex align-items-center mb-5">
                <oui-button
                    data-variant="primary"
                    data-on-click="$ctrl.HostingLocalSeo.goToLocalSeoOrder(hosting.serviceName)"
                    data-disabled="!$ctrl.isAdmin"
                >
                    <span
                        data-translate="hosting_dashboard_local_seo_order"
                    ></span>
                </oui-button>
                <button
                    type="button"
                    class="oui-popover-button"
                    data-ng-if="!$ctrl.isAdmin"
                    data-oui-popover="{{:: 'hosting_dashboard_local_seo_cannot_order' | translate }}"
                ></button>
            </div>

            <oui-datagrid
                id="{{ $ctrl.datagridId }}"
                data-rows-loader="$ctrl.refresh($config)"
                data-row-loader="$ctrl.transformItem($row)"
                data-empty-placeholder="{{:: 'hosting_tab_LOCAL_SEO_table_empty' | translate }}"
            >
                <oui-datagrid-column
                    data-title=":: 'hosting_tab_LOCAL_SEO_table_header_name' | translate"
                    data-property="name"
                >
                    {{$row.name}}
                    <span
                        class="oui-badge oui-badge_info"
                        data-ng-if="!$row.name"
                        data-translate="hosting_tab_LOCAL_SEO_table_value_undefined"
                    >
                    </span>
                </oui-datagrid-column>
                <oui-datagrid-column
                    data-title=":: 'hosting_tab_LOCAL_SEO_table_header_address' | translate"
                    data-property="address"
                >
                    {{$row.address}}
                    <span
                        class="oui-badge oui-badge_info"
                        data-ng-if="!$row.address"
                        data-translate="hosting_tab_LOCAL_SEO_table_value_undefined"
                    >
                    </span>
                </oui-datagrid-column>
                <oui-datagrid-column
                    data-title=":: 'hosting_tab_LOCAL_SEO_table_header_email' | translate"
                    data-property="account.email"
                >
                    {{$row.account.email || '-'}}
                </oui-datagrid-column>
                <oui-datagrid-column
                    data-title=":: 'hosting_tab_LOCAL_SEO_table_header_status' | translate"
                    data-property="status"
                >
                    <span
                        class="oui-badge"
                        data-ng-class="{'oui-badge_success': $row.status === 'created',
                                          'oui-badge_warning': $row.status === 'creating',
                                          'oui-badge_error': $row.status === 'deleting'}"
                        data-ng-bind="'hosting_tab_LOCAL_SEO_state_' + $row.status | translate"
                    >
                    </span>
                </oui-datagrid-column>
                <oui-action-menu data-compact data-placement="end">
                    <oui-action-menu-item
                        data-disabled="$row.status !== 'created'"
                        data-on-click="$ctrl.goToInterface($row)"
                        ><span
                            data-translate="hosting_tab_LOCAL_SEO_access_interface"
                        ></span>
                    </oui-action-menu-item>
                    <oui-action-menu-item
                        data-disabled="$row.status !== 'created'"
                        data-on-click="setAction('local-seo/delete/hosting-local-seo-delete', $row)"
                        ><span
                            data-translate="hosting_tab_LOCAL_SEO_delete"
                        ></span>
                    </oui-action-menu-item>
                </oui-action-menu>
            </oui-datagrid>
        </div>
    </div>
</div>
