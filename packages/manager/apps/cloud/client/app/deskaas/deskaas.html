<div ui-view class="cui-page">
    <oui-header data-heading="{{ ::'vdi_header' | translate }}"></oui-header>

    <div class="cui-page__content">
        <oui-spinner
            data-ng-show="DeskaasCtrl.flags.initializing"
        ></oui-spinner>
        <oui-datagrid
            data-ng-hide="DeskaasCtrl.flags.initializing"
            data-rows="DeskaasCtrl.services"
        >
            <oui-datagrid-column
                data-title="'vdi_hdr_status' | translate"
                data-property="details.displayName"
                data-sortable="asc"
            >
                <a
                    data-ui-sref="deskaas.details({ serviceName: $row.details.serviceName })"
                    data-ng-bind="$row.details.displayName"
                >
                </a>
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title="'vdi_hdr_name' | translate"
                data-property="user.displayName"
                data-sortable
            ></oui-datagrid-column>
            <oui-datagrid-column
                data-title="'vdi_hdr_user' | translate"
                data-property="details.ip"
                data-sortable
            ></oui-datagrid-column>
            <oui-datagrid-column
                data-title="'vdi_hdr_ip' | translate"
                data-property="details.url"
                data-sortable
            >
                <a
                    data-ng-href="{{ $row.details.url }}"
                    data-ng-bind="$row.details.url"
                    target="_blank"
                ></a>
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title="'vdi_hdr_connection' | translate"
                data-property="serviceInfo.status"
                data-sortable
            >
                <span
                    class="label"
                    data-ng-class="{
                                    'label-success': $row.serviceInfo.status == 'ok',
                                    'label-warning': $row.serviceInfo.status == 'warning',
                                    'label-danger': $row.serviceInfo.status != 'ok'
                                    }"
                    data-ng-bind="$row.serviceInfo.status"
                >
                </span>
            </oui-datagrid-column>
        </oui-datagrid>
    </div>
</div>
