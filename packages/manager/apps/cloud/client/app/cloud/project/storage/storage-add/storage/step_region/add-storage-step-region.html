<div data-ng-controller="RA.add.storage.stepRegionCtrl" data-scroll-here>
    <h3
        id="step_region"
        class="counter-step"
        data-translate="add_storage_region_step_title"
    ></h3>

    <div class="cui-grid-list">
        <div
            class="cui-grid-list-item cui-grid-cell"
            data-ng-repeat="region in regions track by $index"
        >
            <oui-select-picker
                data-id="region_{{ region }}"
                data-name="region_{{ region }}"
                data-model="model.region"
                data-values="[region]"
                data-picture="storage-region-flag flag-icon {{:: regionService.getRegionIconFlag(region) }} flag"
                data-on-change="clickOnRegion(region)"
                data-variant="light"
                data-label="{{:: regionService.getTranslatedMicroRegion(region)}}"
            >
            </oui-select-picker>
        </div>
        <!-- available but not activated regions -->
        <div
            class="cui-grid-list-item cui-grid-cell"
            data-ng-if="!availableRegions.loading && availableRegions.data.length > 0"
            data-ng-repeat="region in availableRegions.data track by $index"
        >
            <oui-select-picker
                data-id="region_{{ region.name }}"
                data-name="region_{{ region.name }}"
                data-values="[region.name]"
                data-picture="storage-region-flag flag-icon {{:: regionService.getRegionIconFlag(region.name) }} flag"
                data-on-change="clickOnRegion(region.name)"
                data-variant="light"
                data-disabled="true"
                data-label="{{:: regionService.getTranslatedMicroRegion(region.name)}}"
            >
                <oui-select-picker-section>
                    <!-- region not activated, show link to activate it -->
                    <a
                        class="oui-button oui-button_ghost"
                        data-ui-sref="iaas.pci-project.compute.regions"
                    >
                        <span data-translate="cpci_add_regions_activate"></span>
                    </a>
                </oui-select-picker-section>
            </oui-select-picker>
        </div>
    </div>
</div>
