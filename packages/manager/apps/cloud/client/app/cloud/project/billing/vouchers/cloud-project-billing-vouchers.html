<div class="cloud-billing-vouchers">
    <div class="cui-page__content">
        <!-- ADD BUTTON -->
        <button
            class="oui-button oui-button_secondary"
            data-ng-click="VouchersCtrl.openAddVoucher()"
            data-ng-disabled="VouchersCtrl.vouchers.loading"
            write-right-required
        >
            <span data-translate="cpb_vouchers_add_button"> </span>
        </button>

        <!-- ADD CREDIT BUTTON -->
        <button
            class="oui-button oui-button_secondary"
            data-ng-click="VouchersCtrl.openAddCredit()"
            data-ng-disabled="VouchersCtrl.vouchers.loading"
            write-right-required
        >
            <span data-translate="cpb_vouchers_add_credit_button"> </span>
        </button>

        <p data-translate="cpb_vouchers_add_explain_bis" class="mt-4"></p>

        <!-- VOUCHERS LIST -->
        <oui-datagrid data-rows="VouchersCtrl.vouchers.data">
            <oui-datagrid-column
                data-title="'cpb_vouchers_name_cell' | translate"
                data-property="id"
                data-sortable
            >
                {{ ::
                VouchersCtrl.CloudVouchersService.getVoucherDisplayName($row) }}
                <div data-ng-if="$row.pdfUrl">
                    <span
                        data-translate="cpb_vouchers_bill_ref"
                        data-translate-values="{ url : $row.pdfUrl, billId : $row.bill }"
                    ></span>
                </div>
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title="'cpb_vouchers_products_cell' | translate"
                data-property="products"
                data-sortable
            >
                {{ :: $row.products.length ? $row.products.join(', ') :
                ('cpb_vouchers_products_all' | translate) }}
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title="'cpb_vouchers_voucher_cell' | translate"
                data-property="voucher"
                data-sortable
            ></oui-datagrid-column>
            <oui-datagrid-column
                data-title="'cpb_vouchers_validity_from_cell' | translate"
                data-property="validity.from"
                data-sortable
            >
                {{ :: $row.validity.from | date:'medium' }}
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title="'cpb_vouchers_total_credit_cell' | translate"
                data-property="total_credit.text"
                data-sortable
            ></oui-datagrid-column>
            <oui-datagrid-column
                title="'cpb_vouchers_validity_to_cell' | translate"
                data-property="validity.to"
                data-sortable
            >
                {{ :: $row.validity.to | date:'medium' }}
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title="'cpb_vouchers_available_credit_cell' | translate"
                data-property="available_credit.text"
                data-sortable
            ></oui-datagrid-column>
        </oui-datagrid>

        <p
            data-translate="cpb_vouchers_credit_comment"
            class="fs10 top-space-m20"
        ></p>
    </div>
</div>
