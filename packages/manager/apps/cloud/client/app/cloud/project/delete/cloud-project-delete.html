<div class="oui-modal oui-modal_shadow">
    <div class="oui-modal__header">
        <button
            class="oui-icon oui-modal__close-button oui-icon-close"
            type="button"
            aria-label="Exit"
            data-ng-click="CloudProjectDeleteCtrl.cancel()"
        ></button>
    </div>

    <div
        class="oui-modal__body oui-modal__body_no-icon"
        data-ng-if="CloudProjectDeleteCtrl.loaders.init || CloudProjectDeleteCtrl.loaders.deleting"
    >
        <div class="text-center">
            <oui-spinner></oui-spinner>
        </div>
    </div>
    <div
        class="oui-modal__body"
        data-ng-if="!CloudProjectDeleteCtrl.loaders.init && !CloudProjectDeleteCtrl.loaders.deleting"
    >
        <i class="oui-icon oui-icon-help-circle" aria-hidden="true"></i>
        <div class="oui-modal__body-text">
            <h2
                class="oui-modal__title"
                data-translate="cloud_project_delete_title"
            ></h2>

            <div
                class="oui-modal__text alert alert-danger text-center"
                data-ng-if="CloudProjectDeleteCtrl.error"
            >
                <p>
                    <i class="fa fa-bug"></i>
                    <span
                        data-translate="cloud_project_delete_error_title"
                    ></span>
                </p>
                <p class="bottom-space-m16">
                    <span
                        data-translate="cloud_project_delete_error_try_later"
                    ></span>
                    <button
                        type="button"
                        class="btn btn-default btn-xs"
                        data-ng-click="CloudProjectDeleteCtrl.init();"
                    >
                        <i class="fa fa-refresh"></i>
                        <span data-translate="common_refresh"></span>
                    </button>
                </p>
                <p>
                    <span
                        data-translate="cloud_project_delete_error_refresh_cache"
                    ></span>
                    <button
                        type="button"
                        class="btn btn-danger btn-xs"
                        data-ng-click="CloudProjectDeleteCtrl.resetCache();"
                    >
                        <i class="fa fa-refresh"></i>
                        <span
                            data-translate="cloud_project_delete_error_reset_cache"
                        ></span>
                    </button>
                </p>
                <p>
                    <span
                        data-translate="cloud_project_delete_error_contact_support_part1"
                    ></span>
                    <a
                        class="oui-link_icon"
                        target="_blank"
                        data-ng-href="{{:: CloudProjectDeleteCtrl.supportUrl }}"
                        rel="noopener"
                    >
                        <span
                            data-translate="cloud_project_delete_open_new_tab"
                        ></span>
                        <span
                            class="oui-icon oui-icon-external-link"
                            aria-hidden="true"
                        ></span>
                        <span
                            class="sr-only"
                            data-translate="cloud_project_delete_open_new_tab"
                        ></span>
                    </a>
                    <span>.</span>
                </p>
            </div>

            <div
                class="oui-modal__text"
                data-ng-if="!CloudProjectDeleteCtrl.error"
            >
                <div class="text-danger">
                    <p data-translate="cloud_project_delete_info"></p>
                    <p
                        data-translate="cloud_project_delete_info_bill"
                        data-translate-values="{ bill : CloudProjectDeleteCtrl.bill }"
                    ></p>
                    <p
                        class="bold"
                        data-ng-if="CloudProjectDeleteCtrl.hasCredits"
                        data-translate="cloud_project_delete_info_credits"
                    ></p>
                </div>
            </div>

            <div
                class="oui-modal__text"
                data-ng-if="CloudProjectDeleteCtrl.resources.instance ||
                                CloudProjectDeleteCtrl.resources.volumes ||
                                CloudProjectDeleteCtrl.resources.snapshots ||
                                CloudProjectDeleteCtrl.resources.storage ||
                                CloudProjectDeleteCtrl.resources.ipFailoverOvh ||
                                CloudProjectDeleteCtrl.resources.ipFailoverCloud"
            >
                <h4
                    data-translate="cloud_project_delete_resource_warning_title"
                ></h4>
                <ul>
                    <li
                        data-ng-if="CloudProjectDeleteCtrl.resources.instance"
                        data-ng-pluralize
                        data-count="CloudProjectDeleteCtrl.resources.instance"
                        data-when="{
                                    'one': ('cloud_project_delete_resource_warning_one_server' | translate),
                                    'other': ('cloud_project_delete_resource_warning_many_server' | translate : {amountInstance: CloudProjectDeleteCtrl.resources.instance})
                                }"
                    ></li>
                    <li
                        data-ng-if="CloudProjectDeleteCtrl.resources.volume"
                        data-ng-pluralize
                        data-count="CloudProjectDeleteCtrl.resources.volume"
                        data-when="{
                                    'one': ('cloud_project_delete_resource_warning_one_volume' | translate),
                                    'other': ('cloud_project_delete_resource_warning_many_volume' | translate : {amountVolume: CloudProjectDeleteCtrl.resources.volume})
                                }"
                    ></li>
                    <li
                        data-ng-if="CloudProjectDeleteCtrl.resources.snapshot"
                        data-ng-pluralize
                        data-count="CloudProjectDeleteCtrl.resources.snapshot"
                        data-when="{
                                    'one': ('cloud_project_delete_resource_warning_one_snapshot' | translate),
                                    'other': ('cloud_project_delete_resource_warning_many_snapshot' | translate : {amountSnapshot: CloudProjectDeleteCtrl.resources.snapshot})
                                }"
                    ></li>
                    <li
                        data-ng-if="CloudProjectDeleteCtrl.resources.storage"
                        data-ng-pluralize
                        data-count="CloudProjectDeleteCtrl.resources.storage"
                        data-when="{
                                    'one': ('cloud_project_delete_resource_warning_one_storage' | translate),
                                    'other': ('cloud_project_delete_resource_warning_many_storage' | translate : {amountStorage: CloudProjectDeleteCtrl.resources.storage})
                                }"
                    ></li>
                    <li
                        data-ng-if="CloudProjectDeleteCtrl.resources.ipFailoverOvh"
                        data-ng-pluralize
                        data-count="CloudProjectDeleteCtrl.resources.ipFailoverOvh"
                        data-when="{
                                    'one': ('cloud_project_delete_resource_warning_one_IPFailoverOvh' | translate),
                                    'other': ('cloud_project_delete_resource_warning_many_IPFailoverOvh' | translate : {amountIpFailoverOvh: CloudProjectDeleteCtrl.resources.ipFailoverOvh})
                                }"
                    ></li>
                    <li
                        data-ng-if="CloudProjectDeleteCtrl.resources.ipFailoverCloud"
                        data-ng-pluralize
                        data-count="CloudProjectDeleteCtrl.resources.ipFailoverCloud"
                        data-when="{
                                    'one': ('cloud_project_delete_resource_warning_one_IPFailoverCloud' | translate),
                                    'other': ('cloud_project_delete_resource_warning_many_IPFailoverCloud' | translate : {amountIpFailoverCloud: CloudProjectDeleteCtrl.resources.ipFailoverCloud})
                                }"
                    ></li>
                </ul>
            </div>
        </div>
    </div>

    <div class="oui-modal__footer">
        <button
            type="reset"
            class="oui-button oui-button_secondary"
            data-ng-click="CloudProjectDeleteCtrl.cancel()"
        >
            <span data-translate="common_cancel"></span>
        </button>
        <button
            type="submit"
            class="oui-button oui-button_primary"
            data-ng-click="CloudProjectDeleteCtrl.confirm()"
            data-ng-disabled="CloudProjectDeleteCtrl.loaders.init ||
                              CloudProjectDeleteCtrl.loaders.deleting ||
                              CloudProjectDeleteCtrl.error"
        >
            <span data-translate="cloud_project_delete_confirm"></span>
        </button>
    </div>
</div>
