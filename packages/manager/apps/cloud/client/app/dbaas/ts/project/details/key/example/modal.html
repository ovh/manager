<div class="modal-header">
    <h3 class="modal-title" data-translate="dtpdt_modal_example_key_title"></h3>
</div>

<div class="modal-body" data-ng-if="ctrl.key.permissions[0] === 'WRITE'">
    <p>
        <span
            data-translate="dtpdt_modal_example_key_write_explain_begin"
        ></span>
        <code class="dbaasts-highlight">{{ ctrl.dbaastsApiURL }}</code>
        <span data-translate="dtpdt_modal_example_key_explain_end"></span>
    </p>

    <p data-translate="dtpdt_modal_example_key_curl_title"></p>
    <pre>curl -XPOST <span class="dbaasts-highlight">{{ctrl.apiURL}}/{{ctrl.dbaastsApiURL}}</span> \
    -u "<span class="dbaasts-highlight">{{ctrl.key.id}}</span>" \
    -H "Content-Type: application/json" \
    -d <span class="dbaasts-highlight">'{
        "metric":"temperature",
        "timestamp":'$(date +%s)',
        "value":42,
        "tags":{
            "env":"test"
        }
    }'</span></pre>

    <p
        data-ng-if="ctrl.dbaastsGuideKeyUrl"
        data-translate="dtpdt_modal_example_key_more"
        data-translate-values="{dbaasts_guide_key_url: ctrl.dbaastsGuideKeyUrl}"
    ></p>
</div>

<div class="modal-body" data-ng-if="ctrl.key.permissions[0] === 'READ'">
    <p>
        <span
            data-translate="dtpdt_modal_example_key_read_explain_begin"
        ></span>
        <code class="dbaasts-highlight">{{ ctrl.dbaastsApiURL }}</code>
        <span data-translate="dtpdt_modal_example_key_explain_end"></span>
    </p>

    <p data-translate="dtpdt_modal_example_key_curl_title"></p>
    <pre>curl -XPOST <span class="dbaasts-highlight">{{ctrl.apiURL}}/{{ctrl.dbaastsApiURL}}</span> \
    -u "<span class="dbaasts-highlight">{{ctrl.key.id}}</span>" \
    -H "Content-Type: application/json" \
    -d <span class="dbaasts-highlight">'{
        "start": 0,
        "queries": [{
        "metric":"temperature",
        "aggregator":"avg",
        "downsample":"10m-avg",
        "tags": {
            "env":"test"
        }}]
    }'</span></pre>

    <p
        data-ng-if="ctrl.dbaastsGuideKeyUrl"
        data-translate="dtpdt_modal_example_key_more"
        data-translate-values="{dbaasts_guide_key_url: ctrl.dbaastsGuideKeyUrl}"
    ></p>
</div>

<div class="modal-footer">
    <button
        type="submit"
        class="btn btn-primary pull-right"
        data-ng-click="ctrl.close()"
    >
        <i class="glyphicon glyphicon-ok"></i>
        <span data-translate="dbaasts_ok"></span>
    </button>
</div>
