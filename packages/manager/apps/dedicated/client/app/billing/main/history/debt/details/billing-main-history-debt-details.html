<div class="billing-statements-details">
    <oui-back-button
        data-href="{{ $ctrl.$state.href('app.account.billing.main.history') }}"
        ><span data-translate="billing_history_details"></span>
    </oui-back-button>

    <div data-ng-if="$ctrl.loading.init" class="text-center">
        <oui-spinner></oui-spinner>
    </div>

    <oui-datagrid data-ng-if="!$ctrl.loading.init" data-rows="$ctrl.operations">
        <oui-datagrid-column
            data-title=":: 'billing_history_details_table_header_date' | translate"
        >
            <span data-ng-bind="$row.date | date:'mediumDate'"></span>
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title=":: 'billing_history_details_table_header_operation' | translate"
        >
            <span
                data-translate="{{ :: 'billing_history_details_type_' + $row.type.toLowerCase() }}"
                data-translate-default="-"
            ></span>
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title=":: 'billing_history_details_table_header_status' | translate"
        >
            <span
                data-translate="{{ :: 'billing_history_details_status_' + $row.status.toLowerCase() }}"
            ></span>
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title=":: 'billing_history_details_table_header_amount' | translate"
            data-property="amount.text"
        >
        </oui-datagrid-column>
        <oui-action-menu
            data-ng-if="$row.type === 'ORDER'"
            data-compact
            data-placement="end"
        >
            <oui-action-menu-item
                data-ng-if="!$ctrl.bill"
                data-href="{{ :: $ctrl.order.url }}"
                data-external
                ><span
                    data-translate="billing_history_details_table_order_link"
                ></span>
            </oui-action-menu-item>

            <oui-action-menu-item
                data-ng-if="$ctrl.bill"
                data-href="{{ :: $ctrl.bill.url }}"
                data-external
                ><span
                    data-translate="billing_history_details_table_bill_html_link"
                ></span>
            </oui-action-menu-item>

            <oui-action-menu-item
                data-ng-if="$ctrl.bill"
                data-href="{{ :: $ctrl.bill.pdfUrl }}"
                data-external
                ><span
                    data-translate="billing_history_details_table_bill_pdf_link"
                ></span>
            </oui-action-menu-item>
        </oui-action-menu>
    </oui-datagrid>
</div>
