<form
    class="oui-modal oui-modal_shadow"
    name="backupEnableForm"
    novalidate
    data-ng-submit=":: $ctrl.submit()"
>
    <oui-modal
        data-title="{{ :: 'dedicatedCloud_tab_veeam_enable_title' | translate }}"
        data-primary-label="{{:: $ctrl.bindings.labels.primary }}"
        data-secondary-label="{{:: $ctrl.bindings.labels.secondary }}"
        data-secondary-action=":: $ctrl.closeModal()"
        data-on-dismiss=":: $ctrl.closeModal()"
        data-loading="$ctrl.bindings.isFetchingInitialData"
        data-type="{{:: $ctrl.bindings.isWarning ? 'warning' : undefined }}"
    >
        <div data-ng-if=":: $ctrl.bindings.isWarning">
            <p
                data-ng-if=":: $ctrl.bindings.availableHosts.warning.isDisplayed"
                data-translate="{{:: $ctrl.bindings.availableHosts.warning.text }}"
            ></p>

            <p
                data-ng-if=":: $ctrl.bindings.availableOffers.warning.isDisplayed"
                data-translate="{{:: $ctrl.bindings.availableOffers.warning.text }}"
            ></p>
        </div>

        <div
            data-ng-if=":: $ctrl.bindings.isWarning === false ? true : undefined"
        >
            <div
                data-ng-if=":: $ctrl.bindings.availableOffers.selection.isDisplayed"
            >
                <p
                    data-translate="dedicatedCloud_datacenter_backup_enable_version_choice"
                    data-translate-values="{ name: $ctrl.datacenter.nameÂ }"
                ></p>

                <oui-field
                    data-label="{{:: 'dedicatedCloud_datacenter_backup_enable_version' | translate }}"
                >
                    <label class="oui-select">
                        <select
                            id="version"
                            class="oui-select__input"
                            name="version"
                            data-ng-model="$ctrl.bindings.availableOffers.selection.value"
                        >
                            <option
                                value="classic"
                                data-translate="dedicatedCloud_datacenter_backup_enable_version_classic"
                            ></option>
                            <option
                                value="advanced"
                                data-translate="dedicatedCloud_datacenter_backup_enable_version_advanced"
                            ></option>
                        </select>
                        <span
                            class="oui-icon oui-icon-chevron-down"
                            aria-hidden="true"
                        ></span>
                    </label>
                </oui-field>
            </div>

            <div
                data-ng-if=":: $ctrl.bindings.availableOffers.selection.isDisplayed === false ? true : undefined"
            >
                <p
                    data-translate="dedicatedCloud_tab_veeam_enable_message"
                    data-translate-values="{ t0: $ctrl.datacenter.name }"
                ></p>
            </div>
            <p>
                <span
                    data-translate="dedicatedCloud_tab_veeam_enable_message2"
                ></span>
                <a
                    data-ng-href="{{:: $ctrl.veeamPresentationURL }}"
                    target="_blank"
                    rel="noopener"
                    class="oui-link_icon"
                >
                    <span
                        data-translate="dedicatedCloud_tab_veeam_enable_message_veeamPresentation"
                    ></span>
                    <span class="sr-only" data-translate="common_newtab"></span>
                    <span
                        class="oui-icon oui-icon-external_link"
                        aria-hidden="true"
                    ></span>
                </a>
            </p>
        </div>
    </oui-modal>
</form>
