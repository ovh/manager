<oui-spinner data-ng-if="$ctrl.loading"> </oui-spinner>
<div data-ng-if="!$ctrl.loading">
    <oui-back-button
        data-href="{{:: $ctrl.getBackUrl() }}"
        data-heading="{{ :: 'dedicatedCloud_datastore_order_title' | translate }}"
    >
    </oui-back-button>
    <div data-ovh-alert></div>
    <oui-message
        class="d-block mb-4"
        data-type="info"
        data-ng-if="$ctrl.user.isEnterprise"
    >
        <span data-translate="core_user_enterprise_retail_prices_hpc"></span>
    </oui-message>
    <p data-translate="dedicatedCloud_datastore_order_info"></p>
    <p data-translate="dedicatedCloud_datastore_order_select"></p>
    <oui-datagrid data-rows-loader="$ctrl.fetchDatagridOffers()">
        <oui-column
            data-title=":: 'dedicatedCloud_datastore_order_type' | translate"
        >
            <oui-radio
                data-text="{{ $row.productName }}"
                data-name="selectedOffer"
                data-model="$ctrl.selectedOffer"
                data-value="$row"
            >
            </oui-radio>
        </oui-column>
        <oui-column
            data-title=":: 'dedicatedCloud_datastore_order_price' | translate"
        >
            <span data-ng-bind="$row.prices[0].price.text"></span>
            <br />
            <small data-ng-bind="$row.prices[0].description"></small>
        </oui-column>
    </oui-datagrid>
    <p data-translate="dedicatedCloud_datastore_order_quantity"></p>
    <oui-numeric
        data-model="$ctrl.quantity"
        data-disabled="!$ctrl.selectedOffer"
        data-min="1"
    >
    </oui-numeric>
    <div class="mt-4">
        <oui-button
            data-variant="primary"
            data-disabled="!$ctrl.selectedOffer"
            data-ng-if="!$ctrl.selectedOffer"
            data-text="{{ :: 'dedicatedCloud_datastore_order_confirm' | translate }}"
        >
        </oui-button>
        <a
            class="btn btn-primary"
            href="{{ $ctrl.getOrderUrl() }}"
            target="_blank"
            rel="noopener"
            data-translate="dedicatedCloud_datastore_order_confirm"
            data-ng-if="$ctrl.selectedOffer"
        >
        </a>
    </div>
</div>
