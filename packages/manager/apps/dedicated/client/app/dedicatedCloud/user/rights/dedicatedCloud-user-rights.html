<div class="dedicatedCloud-users-rights">
    <div class="text-center" data-ng-if="$ctrl.loading.init">
        <oui-spinner></oui-spinner>
    </div>

    <div data-ng-if="!$ctrl.loading.init">
        <h2
            data-ng-bind-html="'dedicatedCloud_USER_rights_management_by_datacenter' | translate:{ t0: $ctrl.selectedUser.name }"
        ></h2>

        <a
            class="d-inline-block mb-5"
            data-ui-sref="^"
            title="{{ 'common_back' | translate }}"
        >
            <span class="fa fa-chevron-left mr-2" aria-hidden="true"> </span>
            <span data-translate="common_back"></span>
        </a>

        <div
            class="alert alert-danger"
            role="alert"
            data-ng-show="warningLine"
            data-translate="dedicatedCloud_USER_warning_line"
        ></div>

        <oui-datagrid data-rows-loader="$ctrl.loadUserRights($config)">
            <oui-datagrid-column
                data-title=":: 'dedicatedCloud_datacenter_count' | translate"
                data-property="datacenterName"
                data-type="text"
            >
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title=":: 'dedicatedCloud_USER_access_vsphere' | translate"
            >
                <span
                    data-translate="{{ 'dedicatedCloud_USER_right_' + $row.right }}"
                ></span>
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title=":: 'dedicatedCloud_USER_resource' | translate"
            >
                <span
                    data-translate="common_yes"
                    data-ng-if="$row.canAddResource"
                >
                </span>
                <span
                    data-translate="common_no"
                    data-ng-if="!$row.canAddResource"
                >
                </span>
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title=":: 'dedicatedCloud_USER_VM_NETWORK_ROLE' | translate"
            >
                <span
                    data-translate="{{ 'dedicatedCloud_USER_right_' + $row.vmNetworkRole }}"
                ></span>
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title=":: 'dedicatedCloud_USER_NETWORK_ROLE' | translate"
            >
                <span
                    data-translate="{{ 'dedicatedCloud_USER_right_' + $row.networkRole }}"
                ></span>
            </oui-datagrid-column>
            <oui-action-menu data-compact data-placement="end">
                <oui-action-menu-item
                    data-on-click="setAction('user/rights/edit/dedicatedCloud-user-rights-edit', { rightId: $row.rightId })"
                    ><span
                        data-translate="dedicatedCloud_USER_right_modify"
                    ></span>
                </oui-action-menu-item>
            </oui-action-menu>
        </oui-datagrid>
    </div>
</div>
