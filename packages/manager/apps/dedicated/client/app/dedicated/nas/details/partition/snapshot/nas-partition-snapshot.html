<div class="dedicated-nas-details-partition-snapshot">
    <h2
        data-translate="nas_snapshot_of"
        data-translate-values="{ t0: $ctrl.partitionName }"
    ></h2>

    <a
        class="d-inline-block mb-5"
        data-ui-sref="^"
        title="{{ 'common_back' | translate }}"
    >
        <span class="fa fa-chevron-left mr-2" aria-hidden="true"> </span>
        <span data-translate="common_back"></span>
    </a>

    <div class="row">
        <div class="col-md-9">
            <p
                class="text-danger"
                data-ng-if="$ctrl.disable.taskDoing"
                data-translate="nas_snapshot_informations_task"
            ></p>
            <div class="oui-box oui-box_light">
                <p data-translate="nas_snapshot_informations"></p>
                <strong
                    data-translate="nas_snapshot_informations_size"
                ></strong>
            </div>
            <table class="table table-hover mt-4">
                <thead>
                    <th scope="col" class="text-center">
                        <button
                            type="button"
                            class="btn btn-link"
                            title="{{ 'nas_snapshot_informations_cancel' | translate }}"
                            data-ng-hide="$ctrl.snapshots.save || $ctrl.disable.taskDoing || $ctrl.loading"
                            data-ng-click="$ctrl.editSnapshot()"
                        >
                            <span
                                class="oui-icon oui-icon-pen_concept"
                                aria-hidden="true"
                            ></span>
                        </button>
                        <button
                            type="button"
                            class="btn btn-link"
                            title="{{ 'nas_snapshot_informations_valid' | translate }}"
                            data-ng-show="$ctrl.snapshots.save && !$ctrl.disable.taskDoing && !$ctrl.loading"
                            data-ng-click="$ctrl.setSnapshot()"
                        >
                            <span class="fa fa-check" aria-hidden="true"></span>
                        </button>
                        <button
                            type="button"
                            class="btn btn-link"
                            title="{{ 'nas_snapshot_informations_cancel' | translate }}"
                            data-ng-show="$ctrl.snapshots.save &&  !$ctrl.disable.taskDoing && !$ctrl.loading"
                            data-ng-click="$ctrl.cancelSnapshot()"
                        >
                            <span
                                class="oui-icon oui-icon-trash_concept"
                                aria-hidden="true"
                            ></span>
                        </button>
                    </th>
                    <th scope="col" data-translate="nas_snapshot_type"></th>
                </thead>
                <tbody data-ng-if="$ctrl.loading">
                    <tr>
                        <td colspan="2" class="text-center">
                            <oui-spinner data-size="s"></oui-spinner>
                        </td>
                    </tr>
                </tbody>
                <tbody data-ng-if="!$ctrl.loading">
                    <tr
                        data-ng-repeat="snapshot in $ctrl.snapshots.model track by $index"
                    >
                        <td class="min-width text-center">
                            <span
                                class="fa"
                                aria-label="{{ ('nas_snapshot_' + snapshot.type) | translate }}"
                                data-ng-if="!$ctrl.snapshots.save"
                                data-ng-class="{
                                      'fa-check': snapshot.active == true,
                                      'fa-ban': snapshot.active == false
                                  }"
                            >
                            </span>
                            <input
                                type="checkbox"
                                data-ng-if="$ctrl.snapshots.save"
                                data-ng-model="snapshot.active"
                            />
                        </td>
                        <td
                            data-translate="{{ 'nas_snapshot_' + snapshot.type }}"
                        ></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
