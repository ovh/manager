<div class="dedicatedCloud-mailing-list-subscribe">
    <div
        class="oui-modal oui-modal_shadow"
        data-ng-if="$ctrl.loading.init || !$ctrl.canSubscribe"
    >
        <div class="oui-modal__header">
            <button
                type="button"
                class="oui-icon oui-modal__close-button oui-icon-close"
                aria-label="{{:: 'wizard_close' | translate }}"
                data-ng-click="$ctrl.goBack()"
            ></button>
        </div>

        <div
            class="oui-modal__body text-center oui-modal__body_no-icon"
            data-ng-if="$ctrl.loading.init"
        >
            <oui-spinner></oui-spinner>
        </div>

        <div
            class="oui-modal__body"
            data-ng-if="!$ctrl.loading.init && !$ctrl.canSubscribe"
        >
            <i class="oui-icon oui-icon-warning-circle" aria-hidden="true"> </i>

            <div class="oui-modal__body-text">
                <h2
                    class="oui-modal__title"
                    data-translate="dedicatedCloud_subscribe_mailing"
                ></h2>

                <p
                    data-ng-bind=":: ('dedicatedCloud_subscribe_mailing_disabled_' + $ctrl.pccType) | translate: {
                        t0: $ctrl.pccMl
                    }"
                ></p>
            </div>
        </div>

        <div class="oui-modal__footer">
            <button
                type="button"
                class="oui-button oui-button_secondary"
                data-translate="wizard_cancel"
                data-ng-click="$ctrl.goBack()"
                data-ng-disabled="$ctrl.loading.enable"
            ></button>
            <button
                type="button"
                class="oui-button oui-button_primary"
                data-translate="global_OK"
                data-ng-disabled="$ctrl.loading.init || $ctrl.loading.enable"
                data-ng-click="$ctrl.goBack()"
            ></button>
        </div>
    </div>

    <div
        data-wizard
        data-wizard-on-cancel="$ctrl.goBack.bind($ctrl)"
        data-wizard-on-finish="$ctrl.onWidzardFinish.bind($ctrl)"
        data-wizard-title=":: 'dedicatedCloud_subscribe_mailing' | translate"
        data-ng-if="!$ctrl.loading.init && $ctrl.canSubscribe"
    >
        <div
            data-wizard-step
            data-wizard-step-valid="$ctrl.subscribeForm.$valid"
        >
            <form name="$ctrl.subscribeForm">
                <div class="form-group">
                    <label
                        for="email"
                        class="control-label"
                        data-ng-bind=":: ('dedicatedCloud_subscribe_mailing_step1_' + $ctrl.pccType) | translate: {
                            t0: 'pcc@ml.ovh.net'
                        }"
                    >
                    </label>
                    <input
                        type="email"
                        class="form-control wizard-container"
                        id="email"
                        name="email"
                        data-ng-model="$ctrl.model.email"
                        required
                    />
                </div>
            </form>
        </div>

        <div data-wizard-step data-wizard-step-valid="!$ctrl.loading.subscribe">
            <div class="text-center" data-ng-if="$ctrl.loading.subscribe">
                <oui-spinner></oui-spinner>
            </div>
            <p
                data-ng-if="!$ctrl.loading.subscribe"
                data-ng-bind-html="('dedicatedCloud_subscribe_mailing_step2_' + $ctrl.pccType) | translate: {
                    t0: $ctrl.model.email,
                    t1: 'pcc@ml.ovh.net'
                }"
            ></p>
        </div>
    </div>
</div>
