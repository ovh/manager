<oui-header
    data-heading="{{ 'dedicatedCloud_USER_AD_ADD_title' | translate }}"
    data-description="{{ 'dedicatedCloud_USER_AD_ADD_description' | translate }}"
>
    <oui-back-button data-on-click="$ctrl.goBack()"> </oui-back-button>
</oui-header>

<div class="alert-server mt-3 mb-3" data-ovh-alert="federationAddAlert"></div>

<form novalidate name="form">
    <!-- Group one -->
    <div class="mb-3 col-sm-12">
        <div class="col-sm-12">
            <oui-field
                class="col-md-6"
                data-label="{{ 'dedicatedCloud_USER_AD_ADD_field_label_domainName' | translate }}"
                data-label-popover="{{ 'dedicatedCloud_USER_AD_ADD_field_tooltip_domainName' | translate }}"
            >
                <input
                    class="oui-input"
                    name="{{ :: $ctrl.FIELD_NAME.domainName }}"
                    placeholder="{{ :: $ctrl.PLACEHOLDER.domainName }}"
                    type="text"
                    data-ng-model="$ctrl.model.domainName"
                    required
                />
            </oui-field>
            <oui-field
                class="col-md-6"
                data-label="{{ 'dedicatedCloud_USER_AD_ADD_field_label_domainAlias' | translate }}"
                data-label-popover="{{ 'dedicatedCloud_USER_AD_ADD_field_tooltip_domainAlias' | translate }}"
            >
                <input
                    class="oui-input"
                    name="{{ :: $ctrl.FIELD_NAME.domainAlias }}"
                    placeholder="{{ :: $ctrl.PLACEHOLDER.domainAlias }}"
                    type="text"
                    data-ng-model="$ctrl.model.domainAlias"
                    required
                />
            </oui-field>
        </div>
        <div class="col-sm-12">
            <oui-field
                class="col-md-12"
                data-label="{{ 'dedicatedCloud_USER_AD_ADD_field_label_description' | translate }}"
                data-label-popover="{{ 'dedicatedCloud_USER_AD_ADD_field_tooltip_description' | translate }}"
            >
                <input
                    class="oui-input"
                    name="{{ :: $ctrl.FIELD_NAME.description }}"
                    placeholder="{{ :: $ctrl.PLACEHOLDER.description }}"
                    type="text"
                    data-ng-model="$ctrl.model.description"
                />
            </oui-field>
        </div>
    </div>

    <!-- Group two -->
    <div class="mb-3 col-sm-12">
        <div class="col-sm-12">
            <oui-field
                class="col-md-6"
                data-label="{{ 'dedicatedCloud_USER_AD_ADD_field_label_ip' | translate }}"
                data-label-popover="{{ 'dedicatedCloud_USER_AD_ADD_field_tooltip_ip' | translate }}"
            >
                <input
                    class="oui-input"
                    name="{{ :: $ctrl.FIELD_NAME.ip }}"
                    placeholder="{{ :: $ctrl.PLACEHOLDER.ip }}"
                    type="text"
                    data-ng-model="$ctrl.model.ip"
                    required
                />
            </oui-field>
            <oui-field
                class="col-md-6"
                data-label="{{ 'dedicatedCloud_USER_AD_ADD_field_label_ldapHostname' | translate }}"
                data-label-popover="{{ 'dedicatedCloud_USER_AD_ADD_field_tooltip_ldapHostname' | translate }}"
            >
                <input
                    class="oui-input"
                    name="{{ :: $ctrl.FIELD_NAME.ldapHostname }}"
                    placeholder="{{ :: $ctrl.PLACEHOLDER.ldapHostname }}"
                    type="text"
                    data-ng-model="$ctrl.model.ldapHostname"
                    required
                />
            </oui-field>
        </div>
        <div class="col-sm-12">
            <oui-field
                class="col-md-6"
                data-label="{{ 'dedicatedCloud_USER_AD_ADD_field_label_ldapTcpPort' | translate }}"
                data-label-popover="{{ 'dedicatedCloud_USER_AD_ADD_field_tooltip_ldapTcpPort' | translate }}"
            >
                <input
                    class="oui-input"
                    name="{{ :: $ctrl.FIELD_NAME.ldapTcpPort }}"
                    placeholder="{{ :: $ctrl.PLACEHOLDER.ldapTcpPort }}"
                    type="text"
                    data-ng-model="$ctrl.model.ldapTcpPort"
                    required
                />
            </oui-field>
            <oui-field
                class="col-md-6"
                data-label="{{ 'dedicatedCloud_USER_AD_ADD_field_label_sslThumbprint' | translate }}*"
                data-label-popover="{{ 'dedicatedCloud_USER_AD_ADD_field_tooltip_sslThumbprint' | translate }}"
            >
                <input
                    class="oui-input"
                    name="{{ :: $ctrl.FIELD_NAME.sslThumbprint }}"
                    placeholder="{{ :: $ctrl.PLACEHOLDER.sslThumbprint }}"
                    type="text"
                    data-ng-model="$ctrl.model.sslThumbprint"
                    required
                />
            </oui-field>
        </div>
    </div>

    <!-- Group three -->
    <div class="mb-2 col-sm-12">
        <div class="col-sm-12">
            <oui-field
                class="col-md-6"
                data-label="{{ 'dedicatedCloud_USER_AD_ADD_field_label_username' | translate }}"
                data-label-popover="{{ 'dedicatedCloud_USER_AD_ADD_field_tooltip_username' | translate }}"
            >
                <input
                    class="oui-input"
                    name="{{ :: $ctrl.FIELD_NAME.userName }}"
                    placeholder="{{ :: $ctrl.PLACEHOLDER.userName }}"
                    type="text"
                    data-ng-model="$ctrl.model.username"
                    required
                />
            </oui-field>
            <oui-field
                class="col-md-6"
                data-label="{{ 'dedicatedCloud_USER_AD_ADD_field_label_password' | translate }}"
                data-label-popover="{{ 'dedicatedCloud_USER_AD_ADD_field_tooltip_password' | translate }}"
            >
                <oui-password
                    name="{{ :: $ctrl.FIELD_NAME.password }}"
                    placeholder="{{ :: $ctrl.PLACEHOLDER.password }}"
                    model="$ctrl.model.password"
                    required
                ></oui-password>
            </oui-field>
        </div>
        <div class="col-sm-12">
            <oui-field
                class="col-md-6"
                data-label="{{ 'dedicatedCloud_USER_AD_ADD_field_label_baseDnForUsers' | translate }}"
                data-label-popover="{{ 'dedicatedCloud_USER_AD_ADD_field_tooltip_baseDnForUsers' | translate }}"
            >
                <input
                    class="oui-input"
                    name="{{ :: $ctrl.FIELD_NAME.baseDnForUsers }}"
                    placeholder="{{ :: $ctrl.PLACEHOLDER.baseDnForUsers }}"
                    type="text"
                    data-ng-model="$ctrl.model.baseDnForUsers"
                    required
                />
            </oui-field>
            <oui-field
                class="col-md-6"
                data-label="{{ 'dedicatedCloud_USER_AD_ADD_field_label_baseDnForGroups' | translate }}"
                data-label-popover="{{ 'dedicatedCloud_USER_AD_ADD_field_tooltip_baseDnForGroups' | translate }}"
            >
                <input
                    class="oui-input"
                    name="{{ :: $ctrl.FIELD_NAME.baseDnForGroups }}"
                    placeholder="{{ :: $ctrl.PLACEHOLDER.baseDnForGroups }}"
                    type="text"
                    data-ng-model="$ctrl.model.baseDnForGroups"
                    required
                />
            </oui-field>
        </div>
    </div>

    <span data-translate="dedicatedCloud_USER_AD_ADD_foot_information"></span>

    <a href="{{:: $ctrl.guideFederationLink }}" target="_blank" rel="noopener">
        <span data-ng-bind=":: $ctrl.guideFederationLink"></span>
        <span class="oui-icon oui-icon-external-link" aria-hidden="true"></span>
    </a>

    <div class="mt-4 col-sm-12">
        <oui-form-actions
            submit-text="{{ 'dedicatedCloud_USER_AD_ADD_submit' | translate }}"
            on-submit="$ctrl.onSubmit()"
            disabled="$ctrl.loaders.submitting || $ctrl.loaders.submitted || form.$invalid"
        ></oui-form-actions>
    </div>
</form>

<div data-ng-if="$ctrl.loaders.submitted" class="modal d-block" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content oui-modal oui-modal_shadow">
            <div class="modal-header"></div>
            <div class="oui-modal__body oui-modal__body_no-icon">
                <h3
                    data-translate="dedicatedCloud_USER_AD_ADD_modal_title"
                ></h3>
                <dedicated-cloud-task-poll-progress
                    data-ng-if="$ctrl.task"
                    data-dedicated-cloud="$ctrl.dedicatedCloud"
                    data-loaders="$ctrl.loaders"
                    data-product-id="$ctrl.productId"
                    data-task="$ctrl.task"
                >
                </dedicated-cloud-task-poll-progress>
            </div>
            <div class="modal-footer">
                <oui-button
                    size="l"
                    variant="primary"
                    data-on-click="$ctrl.clickOnClose()"
                    disabled="$ctrl.loaders.action"
                >
                    <span
                        data-translate="dedicatedCloud_USER_AD_ADD_button_close"
                    ></span>
                </oui-button>
            </div>
        </div>
    </div>
</div>
<div data-ng-if="$ctrl.loaders.submitted" class="oui-modal-backdrop"></div>
