<div
    data-wizard
    data-wizard-on-cancel="$ctrl.goBack.bind($ctrl)"
    data-wizard-on-finish="$ctrl.order.bind($ctrl)"
    data-wizard-title="'dedicatedCloud_vmware_orderopt_title_' + $ctrl.option | translate"
    data-wizard-confirm-button-text=":: 'dedicatedCloud_vmware_orderopt_activate' | translate"
>
    <div
        data-wizard-step
        data-wizard-step-on-load="$ctrl.loadPrices.bind($ctrl)"
        data-wizard-step-valid="!$ctrl.loaders.loading"
    >
        <div class="text-center" data-ng-if="$ctrl.loaders.loading">
            <oui-spinner></oui-spinner>
        </div>

        <div data-ng-if="!$ctrl.loaders.loading">
            <p class="text-info">
                <strong
                    data-translate="dedicatedCloud_vmware_orderopt_info"
                ></strong>
            </p>
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th
                            scope="col"
                            data-translate="dedicatedCloud_vmware_orderopt_host_name"
                        ></th>
                        <th
                            scope="col"
                            data-translate="dedicatedCloud_vmware_orderopt_datacenter_name"
                        ></th>
                        <th
                            scope="col"
                            class="text-right text-wrap"
                            data-translate="dedicatedCloud_vmware_orderopt_current_price"
                        ></th>
                        <th
                            scope="col"
                            class="text-right text-wrap"
                            data-ng-bind-html="'dedicatedCloud_vmware_orderopt_next_price' | translate "
                        ></th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-ng-repeat="p in $ctrl.prices track by $index">
                        <th scope="row" data-ng-bind="::p.name"></th>
                        <td data-ng-bind="::p.datacenter"></td>
                        <td class="text-right">
                            <span
                                data-ng-if="p.billingType === 'hourly'"
                                data-translate="dedicatedCloud_vmware_orderopt_price_hourly"
                                data-translate-values="{ t0: p.current }"
                            >
                            </span>
                            <span
                                data-ng-if="p.billingType !== 'hourly' && p.billingType !== 'freeSpare'"
                                data-ng-bind="p.current"
                            >
                            </span>
                            <span
                                data-ng-if="p.billingType === 'freeSpare'"
                                data-translate="dedicatedCloud_vmware_price_free_spare"
                            >
                            </span>
                        </td>
                        <td class="text-right">
                            <span
                                data-ng-if="p.billingType === 'hourly'"
                                data-ng-bind="dedicatedCloud_vmware_orderopt_price_hourly"
                                data-translate-values="{ t0: p.next }"
                            >
                            </span>
                            <span
                                data-ng-if="p.billingType !== 'hourly' && p.billingType !== 'freeSpare'"
                                data-ng-bind="p.next"
                            >
                            </span>
                            <span
                                data-ng-if="p.billingType === 'freeSpare'"
                                data-translate="dedicatedCloud_vmware_price_free_spare"
                            >
                            </span>
                        </td>
                    </tr>
                </tbody>
            </table>
            <p
                class="font-italic text-right"
                data-ng-bind-html="'dedicatedCloud_vmware_orderopt_price_info' | translate "
            ></p>
        </div>
    </div>
</div>
