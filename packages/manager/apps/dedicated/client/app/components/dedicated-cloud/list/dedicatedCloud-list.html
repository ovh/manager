<oui-header data-ng-if="$ctrl.header" class="mb-2">
    <oui-header-heading>
        <div class="d-flex justify-content-between">
            <h1
                class="oui-header__title"
                data-translate="{{:: $ctrl.header }}"
            ></h1>
            <div class="d-flex">
                <changelog-button
                    links="$ctrl.constants.CHANGELOG.managed_baremetal.links"
                    chapters="$ctrl.constants.CHANGELOG.managed_baremetal.chapters"
                ></changelog-button>
                <ovh-manager-pcc-guides />
            </div>
        </div>
    </oui-header-heading>
</oui-header>
<div data-ng-bind-html="$ctrl.description"></div>

<div data-ovh-alert="dedicatedCloud"></div>

<oui-datagrid
    class="table-striped"
    id="{{ $ctrl.datagridId }}"
    rows="$ctrl.resources"
    data-page-size="{{ $ctrl.paginationSize }}"
    data-row-loader="$ctrl.loadResource($row)"
    data-criteria="$ctrl.criteria"
    data-on-page-change="$ctrl.onPageChange($pagination)"
    data-customizable
>
    <oui-datagrid-column
        data-title=":: 'dedicatedCloud_list_description' | translate"
        data-property="description"
        data-searchable
        data-filterable
        data-sortable
        data-type="string"
        data-prevent-customization
    >
        <a data-ng-href="{{ $ctrl.getServiceNameLink($row) }}"
            >{{ $row.description || $row.serviceName }}</a
        >
    </oui-datagrid-column>
    <oui-datagrid-column
        data-title=":: 'dedicatedCloud_list_serviceName' | translate"
        data-property="serviceName"
        data-searchable
        data-filterable
        data-sortable
        data-type="string"
    >
    </oui-datagrid-column>
    <oui-datagrid-column
        data-title=":: 'dedicatedCloud_list_softwareSolution' | translate"
        data-property="softwareSolution"
        data-filterable
        data-sortable
        data-type="string"
    >
    </oui-datagrid-column>
    <oui-datagrid-column
        data-title=":: 'dedicatedCloud_list_commercialRange' | translate"
        data-property="commercialRange"
        data-filterable
        data-sortable
        data-type="string"
        data-hidden
    >
    </oui-datagrid-column>
    <oui-datagrid-column
        title=":: 'dedicatedCloud_list_zone' | translate"
        data-property="location"
        data-filterable
        data-sortable
        data-type="string"
        data-hidden
    >
    </oui-datagrid-column>
    <oui-datagrid-column
        title=":: 'dedicatedCloud_list_regionLocation' | translate"
        data-property="regionLocation"
        data-searchable
        data-filterable
        data-sortable
        data-type="string"
    >
        <span
            class="oui-flag oui-flag_{{ $row.countryCode.toLowerCase() }} mr-1"
            aria-hidden="true"
        ></span>
        <span data-ng-bind="$row.regionLocation"></span>
    </oui-datagrid-column>
    <oui-datagrid-column
        title=":: 'dedicatedCloud_list_region' | translate"
        data-property="region"
        data-filterable
        data-sortable
        data-type="string"
        data-hidden
    >
    </oui-datagrid-column>
    <oui-action-menu compact data-placement="end">
        <oui-action-menu-item href="{{ $ctrl.getServiceNameLink($row) }}"
            ><span data-translate="dedicatedCloud_list_popover_details"></span>
        </oui-action-menu-item>
        <oui-action-menu-item
            data-ui-sref="app.dedicatedCloud.index.terminate({ productId: $row.serviceName })"
        >
            <span data-translate="dedicatedCloud_list_popover_delete"></span>
        </oui-action-menu-item>
    </oui-action-menu>
    <oui-datagrid-topbar data-ng-if="$ctrl.topbarOptions">
        <topbar-cta data-options="$ctrl.topbarOptions"> </topbar-cta>
    </oui-datagrid-topbar>
</oui-datagrid>
