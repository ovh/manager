<oui-spinner data-ng-if="$ctrl.loading"> </oui-spinner>
<div data-ng-if="!$ctrl.loading">
    <oui-back-button data-on-click="$ctrl.goBack()"
        ><span data-translate="dedicatedCloud_host_order_title"></span>
    </oui-back-button>
    <div data-ovh-alert></div>
    <oui-message
        class="d-block mb-4"
        data-type="info"
        data-ng-if="$ctrl.user.isEnterprise"
    >
        <span data-translate="core_user_enterprise_retail_prices_hpc"></span>
    </oui-message>
    <p
        data-ng-bind=":: ('dedicatedCloud_host_order_info_' + $ctrl.pccType) | translate"
    ></p>
    <p data-translate="dedicatedCloud_host_order_select"></p>
    <oui-datagrid data-rows-loader="$ctrl.fetchDatagridOffers()">
        <oui-datagrid-column
            data-title=":: 'dedicatedCloud_host_order_host' | translate"
        >
            <oui-radio
                data-name="selectedOffer"
                data-model="$ctrl.selectedOffer"
                data-value="$row"
                ><span data-ng-bind="$row.productName"></span>
            </oui-radio>
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title=":: 'dedicatedCloud_host_order_speed' | translate"
        >
            <span
                data-ng-bind="$row.profile.cpu.value + ' ' + $row.profile.cpu.unit"
            ></span>
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title=":: 'dedicatedCloud_host_order_memory' | translate"
        >
            <span
                data-ng-bind="$row.profile.ram.value + ' ' + $row.profile.ram.unit"
            ></span>
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title=":: 'dedicatedCloud_host_order_cores' | translate"
        >
            <span data-ng-bind="$row.profile.core"></span>
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title=":: 'dedicatedCloud_host_order_price' | translate"
        >
            <span data-ng-bind="$row.prices[0].price.text"></span>
            <br />
            <small data-ng-bind="$row.prices[0].description"></small>
        </oui-datagrid-column>
    </oui-datagrid>
    <p data-translate="dedicatedCloud_host_order_quantity"></p>
    <oui-numeric
        data-model="$ctrl.quantity"
        data-disabled="!$ctrl.selectedOffer"
        data-min="1"
    >
    </oui-numeric>
    <div class="mt-4">
        <oui-button
            data-variant="primary"
            data-disabled="!$ctrl.selectedOffer"
            data-ng-if="!$ctrl.selectedOffer"
            ><span data-translate="dedicatedCloud_host_order_confirm"></span>
        </oui-button>
        <a
            class="btn btn-primary"
            href="{{ $ctrl.getOrderUrl() }}"
            target="_blank"
            rel="noopener"
            data-translate="dedicatedCloud_host_order_confirm"
            data-ng-if="$ctrl.selectedOffer"
        >
        </a>
    </div>
</div>
