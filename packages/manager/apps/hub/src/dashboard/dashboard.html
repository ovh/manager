<div data-ui-view>
    <div
        class="hub-banner"
        data-track-on="click"
        data-track-name="{{:: $ctrl.trackingPrefix + '::action::feedback' }}"
    >
        <span
            data-translate="manager_hub_dashboard_feedback"
            data-translate-values="{ url: $ctrl.feedbackUrl }"
        ></span>
    </div>
    <div class="hub-dashboard-content">
        <hub-dashboard-welcome
            data-name="$ctrl.me.firstname"
        ></hub-dashboard-welcome>
        <div
            class="d-flex flex-wrap flex-lg-nowrap w-100 minw-0 align-items-center justify-content-between"
        >
            <ovh-manager-banner
                class="mb-4"
                tracker="{{ $ctrl.trackingPrefix + '::event-banner' }}"
            ></ovh-manager-banner>
            <ovh-manager-hub-carousel
                class="w-100"
                items="$ctrl.notifications"
                tracking-prefix="{{ $ctrl.trackingPrefix }}"
            ></ovh-manager-hub-carousel>
        </div>
        <h2 data-translate="manager_hub_dashboard_overview"></h2>
        <div class="row">
            <hub-payment-status
                class="col-md-8 mb-3 mb-md-4"
                services="$ctrl.billingServices.data"
                tracking-prefix="{{ $ctrl.trackingPrefix }}"
                total-count="$ctrl.billingServices.count"
                refresh="$ctrl.refreshBillingServices()"
            >
            </hub-payment-status>
            <hub-enterprise-billing-summary
                class="col-md-4 mb-3 mb-md-4 order-3 order-md-2"
                data-ng-if="$ctrl.me.isEnterprise"
                tracking-prefix="hub::dashboard::activity"
            >
            </hub-enterprise-billing-summary>
            <hub-billing-summary
                class="col-md-4 mb-3 mb-md-4 order-3 order-md-2"
                data-ng-if="!$ctrl.me.isEnterprise"
                bills="$ctrl.bills"
                debt="$ctrl.debt"
                me="$ctrl.me"
                tracking-prefix="hub::dashboard::activity"
                refresh="$ctrl.refresh('bills')"
            >
            </hub-billing-summary>
            <ovh-manager-hub-support
                class="col-md-8 mb-3 mb-md-4 order-2 order-md-3"
                me="$ctrl.me"
                tickets="$ctrl.tickets"
                tracking-prefix="{{ $ctrl.trackingPrefix }}"
            >
            </ovh-manager-hub-support>
            <hub-order-tracking
                class="col-md-4 order-4"
                data-ng-if="!$ctrl.me.isEnterprise"
                order="$ctrl.order"
                tracking-prefix="{{ $ctrl.trackingPrefix }}"
                refresh="$ctrl.refreshOrder()"
            >
            </hub-order-tracking>
        </div>
        <div data-ng-if="$ctrl.products.length" class="hub-dashboard-product">
            <h2 data-translate="manager_hub_dashboard_services"></h2>
            <hub-products
                products="$ctrl.products"
                on-product-select="$ctrl.goToProductPage(productType)"
                tracking-prefix="{{ $ctrl.trackingPrefix }}"
                on-expand="$ctrl.expandProducts(expand)"
                expand="$ctrl.expand"
            ></hub-products>
        </div>
    </div>
</div>
