<h1 data-translate="manager_hub_incident_status"></h1>
<p data-translate="manager_hub_incident_status_description"></p>
<strong
    class="d-block"
    data-translate="manager_hub_incident_status_definition"
></strong>
<ul>
    <li>
        <strong
            data-translate="manager_hub_incident_status_service_RECOVERABLE"
        ></strong>
        <span
            data-translate="manager_hub_incident_status_service_status_RECOVERABLE_description"
        ></span>
    </li>
    <li>
        <strong
            data-translate="manager_hub_incident_status_service_NON_RECOVERABLE"
        ></strong>
        <span
            data-translate="manager_hub_incident_status_service_status_NON_RECOVERABLE_description"
        ></span>
    </li>
    <li>
        <strong
            data-translate="manager_hub_incident_status_service_TO_ASSESS"
        ></strong>
        <span
            data-translate="manager_hub_incident_status_service_status_TO_ASSESS_description"
        ></span>
    </li>
</ul>
<p>
    <sup aria-label="(1)">*</sup>
    <span
        data-translate="manager_hub_incident_status_service_status_RECOVERABLE_sidenote"
    ></span>
</p>
<a
    data-ng-href="{{$ctrl.faqLink}}"
    data-translate="manager_hub_incident_status_faq"
></a>

<oui-message
    data-ng-if="$ctrl.message.value"
    type="{{$ctrl.message.type}}"
    class="mt-3"
>
    <span data-ng-bind-html="$ctrl.message.value"></span>
</oui-message>
<oui-datagrid
    class="pb-5"
    rows="$ctrl.services"
    columns-parameters="$ctrl.datagridParameters"
>
    <oui-datagrid-column
        title="::'manager_hub_incident_status_service_name' | translate"
        property="serviceName"
        searchable
        filterable
    >
        <a
            data-ng-href="{{:: $row.url }}"
            data-ng-bind="::$row.serviceName"
        ></a>
        <span
            data-ng-if="!$row.serviceId"
            class="oui-badge oui-badge_info"
            data-translate="manager_hub_incident_status_product_resiliated"
        ></span>
    </oui-datagrid-column>
    <oui-datagrid-column
        title="::'manager_hub_incident_status_service_type' | translate"
        property="productType"
        filterable
        type="options"
        type-options="$ctrl.filtersOptions.products"
    >
        <span
            data-translate="{{ 'manager_hub_incident_status_product_' + $row.productType }}"
        ></span>
    </oui-datagrid-column>
    <oui-datagrid-column
        title="::'manager_hub_incident_status_service_region' | translate"
        property="region"
        filterable
        type="options"
        type-options="$ctrl.filtersOptions.regions"
    >
    </oui-datagrid-column>
    <oui-datagrid-column
        title="::'manager_hub_incident_status_service_datacenter' | translate"
        property="datacenter"
        filterable
        type="options"
        type-options="$ctrl.filtersOptions.datacenters"
    >
    </oui-datagrid-column>
    <oui-datagrid-column
        title="::'manager_hub_incident_status_service_rack' | translate"
        property="rack"
    >
        <p data-ng-if="$value.status !== 'UNKNOWN'">
            <span data-ng-bind=":: $value.id"></span>
            <span
                class="oui-badge"
                data-ng-class="{ 'oui-badge_success' : $value.status === 'UP',  'oui-badge_sold-out' : $value.status === 'DOWN' }"
                data-ng-bind=":: $value.status"
            ></span>
        </p>
    </oui-datagrid-column>
    <oui-datagrid-column
        title="::'manager_hub_incident_status_service_status' | translate"
        property="status"
        filterable
        type="options"
        type-options="$ctrl.filtersOptions.status"
    >
        <span
            data-translate="{{:: 'manager_hub_incident_status_service_status_' + $value }}"
        >
        </span>
    </oui-datagrid-column>
    <oui-action-menu compact placement="end">
        <oui-action-menu-item href="{{$row.url}}">
            <span data-translate="manager_hub_incident_status_see"></span>
        </oui-action-menu-item>
        <div data-ng-if="$ctrl.canResiliate">
            <oui-action-menu-item
                ng-if="::!$ctrl.constructor.hasInstances($row) && $ctrl.constructor.canBeResiliated($row)"
                on-click="$ctrl.goToResiliation($row)"
            >
                <span
                    data-translate="manager_hub_incident_status_resiliate"
                ></span>
            </oui-action-menu-item>
            <oui-action-menu-item
                ng-if="::$ctrl.constructor.hasInstances($row)"
                on-click="$ctrl.goToDeleteInstances($row)"
            >
                <span
                    data-translate="manager_hub_incident_status_delete_instances"
                ></span>
            </oui-action-menu-item>
        </div>
    </oui-action-menu>
</oui-datagrid>
