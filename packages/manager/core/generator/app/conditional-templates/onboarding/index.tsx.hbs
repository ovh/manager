import React from 'react';
import { useTranslation } from 'react-i18next';
import { Card } from '@ovhcloud/manager-components';
import useGuideUtils from '@/components/GuideLink/guide-utils';
import { OnboardingLayout } from '@/components/layout-helpers/Onboarding';
import onboardingImgSrc from './onboarding-img.png';

export default function Onboarding() {
  const { t } = useTranslation('{{appName}}/onboarding');
  const link = useGuideUtils();

  const tileList = [
    {
      id: 1,
      title: t('guide1Title'),
      description: t('guide1Description'),
      href: link?.guideLink1,
    },
    {
      id: 2,
      tileTitle: t('guide2Title'),
      description: t('guide2Description'),
      href: link?.guideLink2,
    },
    {
      id: 3,
      title: t('guide3Title'),
      description: t('guide3Description'),
      href: link?.guideLink3,
    },
  ];

  const title: string = t('title');
  const description: string = t('description');

  return (
    <OnboardingLayout
      title={title}
      imageSrc={onboardingImgSrc}
      description={description}
      orderButtonLabel={t('orderButtonLabel')}
      orderHref={t('orderButtonLink')}
      moreInfoButtonLabel={t('moreInfoButtonLabel')}
      moreInfoHref={t('moreInfoButtonLink')}
    >
      <aside className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 pt-12">
        {tileList.map((tile) => {
          const obj = {
            title: tile.title,
            category: t('guideCategory'),
            description: tile.description,
          };
          return <Card key={tile.id} texts={obj} href={tile.href} />;
        })}
      </aside>
    </OnboardingLayout>
  );
}
