<div class="tracking-progress">
    <div class="text-center" data-ng-if="$ctrl.platformDetail.loading">
        <oui-spinner data-size="l" ></oui-spinner>
    </div>
    <div data-ng-if="!$ctrl.platformDetail.loading" class="row">
        <div class="m-3" >
            <span data-translate="adp_tracking_progress_desc"></span>
        </div>
        <oui-tile class="m-3 w-75" data-heading="{{ ::'adp_tracking_progress_title' | translate }}">
            <oui-progress class="progress-bar-striped">
                <oui-progress-bar data-type="info" data-value="$ctrl.globalProgress"></oui-progress-bar>
            </oui-progress>
            <oui-tile-definition data-term="{{ ::'adp_tracking_progress_completed_tasks' | translate }}">
                <oui-tile-description>
                    <div class="row m-1" data-ng-repeat="task in $ctrl.progress.data track by $index" data-ng-if="!$ctrl.progress.loading">
                        <div class="col-md-3">
                            <p data-translate="{{ ::task.task }}"></p>
                        </div>
                        <div class="col-md-9">
                            <span class="oui-status rounded"
                                  data-ng-class="'oui-status_' + $ctrl.ADP_STATUS_MAP[task.status]"
                                  data-ng-bind=":: 'adp_common_status_' + task.status | translate"></span>
                        </div>
                    </div>
                    <div class="mt-3">
                        <oui-spinner data-size="s" data-ng-if="!$ctrl.accountDetails || $ctrl.accountDetails.loading"></oui-spinner>
                        <p data-ng-if="$ctrl.accountDetails && !$ctrl.accountDetails.loading"
                           data-translate="adp_tracking_progress_email_notification"
                           data-translate-values="{ email: $ctrl.accountDetails.data.email }"></p>
                    </div>
                </oui-tile-description>
            </oui-tile-definition>
        </oui-tile>
    </div>
</div>
