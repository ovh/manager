<div class="adp-cluster">
    <span data-translate="adp_service_cluster_desc"
          data-translate-values="{ public_cloud_project_serviceName : $ctrl.publicCloudDetails.data.description }"></span>

    <oui-datagrid class="mt-3" data-rows="$ctrl.clusterList" row-loader="$ctrl.loadRowWithFlavorDetails($row)">
        <extra-top>
            <form class="row m-0 float-left" data-name="filterForm">
                <oui-field data-label="{{ 'adp_common_filter' | translate }}" data-size="m" class="mr-3">
                    <oui-select data-name="filter"
                                data-model="$ctrl.filterBy"
                                data-placeholder="{{ ::'adp_common_select' | translate}}"
                                data-items="$ctrl.nodeFilters"
                                data-on-change="$ctrl.selectFilter()">
                    </oui-select>
                </oui-field>
                <div data-ng-switch="$ctrl.filterBy">
                    <div data-ng-switch-when="Node type">
                        <oui-field data-size="m" data-label="{{ ::'adp_common_select' | translate }}" >
                            <oui-select data-name="nodeType"
                                        data-model="$ctrl.selectedNodeType"
                                        data-on-change="$ctrl.nodeTypeFilter()"
                                        data-placeholder="{{ ::'adp_common_select' | translate }}"
                                        data-items="$ctrl.nodeTypeList">
                                <span data-translate="{{ ::$item }}" data-value="{{ $item | translate }}"></span>
                            </oui-select>
                        </oui-field>
                    </div>
                    <div data-ng-switch-when="Region">
                        <oui-field data-size="m" data-label="{{ ::'adp_common_select' | translate }}">
                            <oui-select data-name="region"
                                        data-model="$ctrl.selectedRegion"
                                        data-on-change="$ctrl.regionFilter()"
                                        data-placeholder="{{ ::'adp_common_select' | translate }}"
                                        data-items="$ctrl.regions">
                                <span data-translate="{{ ::$item }}"></span>
                            </oui-select>
                        </oui-field>
                    </div>
                </div>
            </form>
            <button class="float-right oui-button oui-button_secondary oui-button_icon-only oui-button_small-width refresh-button"
                    data-title="{{:: 'adp_service_cluster_refresh' | translate }}"
                    data-ng-click="$ctrl.refresh()">
                <span class="fa fa-refresh" aria-hidden="true"></span>
            </button>
        </extra-top>
        <oui-column data-title="::'adp_service_cluster_table_node' | translate" data-property="hostname" data-sortable="asc"></oui-column>
        <oui-column data-title="::'adp_service_cluster_node_type' | translate" data-property="node_type" data-sortable data-type="string" data-searchable></oui-column>
        <oui-column data-title="::'adp_common_region' | translate" data-property="region" data-sortable>
            <span class="flag-icon flag-icon-{{ ::$row.region | lowercase }} flag"></span>
            <span data-ng-bind="::$row.region"></span>
        </oui-column>
        <oui-column data-title="::'adp_service_cluster_table_flavor' | translate" data-property="flavor_type" data-sortable>
            <span data-ng-bind="::$row.flavor_type.toUpperCase()"></span>
        </oui-column>
        <oui-column data-title="::$ctrl.ADP_COMPUTE.CORS" data-property="vcpus" data-sortable></oui-column>
        <oui-column data-title="::$ctrl.ADP_COMPUTE.RAM" data-property="ram" data-sortable>
            <span data-ng-bind="::$row.ram / 1000"></span> <span data-translate="adp_common_unit_gb"></span>
        </oui-column>
        <oui-column data-title="::'adp_common_storage' | translate" data-property="storage" data-sortable>
            <span data-ng-bind="::$row.storage"></span> <span data-translate="adp_common_unit_gb"></span>
        </oui-column>
        <oui-column data-title="::'adp_service_cluster_table_ip' | translate" data-property="ip"></oui-column>
        <oui-column data-title="::'adp_common_status' | translate">
            <span class="oui-status"
                  data-ng-class="'oui-status_' + $ctrl.ADP_STATUS_MAP[$row.status]"
                  data-ng-bind=":: 'adp_common_status_' + $row.status | translate"></span>
        </oui-column>
    </oui-datagrid>

    <div class="m-3">
        <div class="row">
            <span data-translate="adp_service_cluster_total_cores"></span>:
            <span class="ml-1" data-ng-bind="$ctrl.totalCores"></span>
        </div>
        <div class="row">
            <span data-translate="adp_service_cluster_total_ram"></span>:
            <span class="ml-1" data-ng-bind="$ctrl.totalRam / 1000"></span>
            <span data-translate="adp_common_unit_gb"></span>
        </div>
        <div class="row">
            <span data-translate="adp_service_cluster_total_storage"></span>:
            <span class="ml-1" data-ng-bind="$ctrl.totalStorage"></span>
            <span data-translate="adp_common_unit_gb"></span>
        </div>
    </div>
</div>
