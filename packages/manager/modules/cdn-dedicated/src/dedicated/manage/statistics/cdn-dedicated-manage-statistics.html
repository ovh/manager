<div class="row d-md-flex mb-5">
    <div class="col-md-4">
        <div class="oui-tile mb-5 h-100">
            <h2
                class="oui-tile__title oui-heading_4"
                data-translate="cdn_configuration_shortcut_title"
            ></h2>
            <div class="oui-tile__body">
                <div class="oui-tile__item oui-tile__item_button">
                    <button
                        type="button"
                        class="oui-tile__button oui-button oui-button_icon-right oui-button_ghost oui-button_block"
                        data-ng-click="setAction('domain/add/cdn-dedicated-domain-add')"
                        data-translate="cdn_configuration_add_domain_title_button"
                    ></button>
                </div>
                <div class="oui-tile__item oui-tile__item_button">
                    <button
                        type="button"
                        class="oui-tile__button oui-button oui-button_icon-right oui-button_ghost oui-button_block"
                        data-ng-click="setAction('domain/rule/order/cdn-dedicated-domain-rule-order')"
                        data-translate="cdn_configuration_cacherules_upgrade_title_button"
                    ></button>
                </div>
                <div class="oui-tile__item oui-tile__item_button">
                    <button
                        type="button"
                        class="oui-tile__button oui-button oui-button_icon-right oui-button_ghost oui-button_block"
                        data-ng-click="setAction('quota/order/cdn-dedicated-quota-order')"
                        data-translate="cdn_configuration_order_quota_title"
                    ></button>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="oui-tile mb-5 h-100">
            <h2
                class="oui-tile__title oui-heading_4"
                data-translate="cdn_configuration_statistics_title"
            ></h2>
            <div class="oui-tile__body">
                <div class="oui-tile__item">
                    <dl class="oui-tile__definition">
                        <dt
                            class="oui-tile__term"
                            data-translate="cdn_configuration_activity"
                        ></dt>
                        <dd class="oui-tile__description">
                            <span
                                data-ng-pluralize
                                data-count="$ctrl.cdn.activity"
                                data-when="{
                                        '0': ('cdn_configuration_activity_page_viewed_0' | translate),
                                        'one': ('cdn_configuration_activity_page_viewed_one' | translate),
                                        'other': ('cdn_configuration_activity_page_viewed_other' | translate: { count: {} })
                                    }"
                            >
                            </span>
                        </dd>
                    </dl>
                </div>

                <div class="oui-tile__item">
                    <dl class="oui-tile__definition">
                        <dt
                            class="oui-tile__term"
                            data-translate="cdn_configuration_savings"
                        ></dt>
                        <dd class="oui-tile__description">
                            <span
                                class="d-block"
                                data-ng-pluralize
                                data-count="$ctrl.cdn.bandwidthHitPercentage"
                                data-when="{
                                        '0': ('cdn_configuration_savings_bandwidth_percentage_default' | translate),
                                        'other': ('cdn_configuration_savings_bandwidth_percentage' | translate: { count: {} })
                                    }"
                            >
                            </span>
                            <span
                                class="d-block"
                                data-ng-pluralize
                                data-count="$ctrl.cdn.requestHitPercentage"
                                data-when="{
                                        '0': ('cdn_configuration_savings_request_percentage_default' | translate),
                                        'other': ('cdn_configuration_savings_request_percentage' | translate: { count: {} })
                                    }"
                            >
                            </span>
                        </dd>
                    </dl>
                </div>

                <div class="oui-tile__item">
                    <dl class="oui-tile__definition">
                        <dt
                            class="oui-tile__term"
                            data-translate="cdn_configuration_quota"
                        ></dt>
                        <dd class="oui-tile__description">
                            <span
                                data-ng-bind="$ctrl.cdn.quota.value + ' ' + ('unit_size_' + $ctrl.cdn.quota.unit | translate)"
                            ></span>
                        </dd>
                    </dl>
                    <div class="oui-tile__actions">
                        <oui-action-menu
                            aria-label="{{:: 'menu_action_label' | translate:{t0: ('cdn_configuration_domains' | translate)} }}"
                            data-compact
                            data-placement="end"
                        >
                            <oui-action-menu-item
                                aria-label="{{ :: 'cdn_configuration_order_quota_title' | translate }}"
                                data-on-click="setAction('quota/order/cdn-dedicated-quota-order')"
                                ><span
                                    data-translate="cdn_configuration_order_quota_title"
                                ></span
                            ></oui-action-menu-item>
                        </oui-action-menu>
                    </div>
                </div>

                <div class="oui-tile__item">
                    <dl class="oui-tile__definition">
                        <dt
                            class="oui-tile__term"
                            data-translate="cdn_configuration_quota_estimation"
                        ></dt>
                        <dd class="oui-tile__description">
                            <span
                                data-ng-bind="$ctrl.cdn.endingEstimationDate"
                            ></span>
                        </dd>
                    </dl>
                </div>

                <div class="oui-tile__item">
                    <dl class="oui-tile__definition">
                        <dt class="oui-tile__term">
                            <service-expiration-label
                                data-service-infos="$ctrl.serviceInfos"
                            >
                            </service-expiration-label>
                        </dt>
                        <dd class="oui-tile__description">
                            <service-expiration-date
                                data-service-name="$ctrl.cdn.serviceName"
                                data-service-type="'CDN_DEDICATED'"
                                data-service-infos="$ctrl.serviceInfos"
                                data-force-hide-renew-action="true"
                            >
                            </service-expiration-date>
                        </dd>
                    </dl>
                    <div class="oui-tile__actions">
                        <service-expiration-date
                            data-hide-renew-date="true"
                            data-service-name="$ctrl.cdn.serviceName"
                            data-service-type="'CDN_DEDICATED'"
                            data-service-infos="$ctrl.serviceInfos"
                        >
                        </service-expiration-date>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="oui-tile mb-5 h-100">
            <h2
                class="oui-tile__title oui-heading_4"
                data-translate="cdn_configuration_info_title"
            ></h2>
            <div class="oui-tile__body">
                <div class="oui-tile__item">
                    <dl class="oui-tile__definition">
                        <dt
                            class="oui-tile__term"
                            data-translate="cdn_configuration_domains"
                        ></dt>
                        <dd class="oui-tile__description">
                            <span
                                data-ng-pluralize
                                data-count="$ctrl.cdn.domains"
                                data-when="{
                                        '0': ('cdn_configuration_domain_0' | translate),
                                        'one': ('cdn_configuration_domain_one' | translate),
                                        'other': ('cdn_configuration_domain_other' | translate: { count: {} })
                                    }"
                            >
                            </span>
                        </dd>
                    </dl>
                    <div class="oui-tile__actions">
                        <oui-action-menu
                            aria-label="{{:: 'menu_action_label' | translate:{t0: ('cdn_configuration_domains' | translate)} }}"
                            data-compact
                            data-placement="end"
                        >
                            <oui-action-menu-item
                                aria-label="{{ :: 'cdn_configuration_add_domain_title_button' | translate }}"
                                data-on-click="setAction('domain/add/cdn-dedicated-domain-add')"
                                ><span
                                    data-translate="cdn_configuration_add_domain_title_button"
                                ></span
                            ></oui-action-menu-item>
                        </oui-action-menu>
                    </div>
                </div>

                <div class="oui-tile__item">
                    <dl class="oui-tile__definition">
                        <dt
                            class="oui-tile__term"
                            data-translate="cdn_configuration_ip"
                        ></dt>
                        <dd class="oui-tile__description">
                            <span data-ng-bind="$ctrl.cdn.anycast.ipv4"></span>
                        </dd>
                    </dl>
                </div>

                <div class="oui-tile__item">
                    <dl class="oui-tile__definition">
                        <dt
                            class="oui-tile__term"
                            data-translate="cdn_configuration_backends"
                        ></dt>
                        <dd class="oui-tile__description">
                            <span
                                data-translate="cdn_configuration_backend"
                                data-translate-values="{ t0: $ctrl.cdn.backends }"
                            ></span>
                        </dd>
                    </dl>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="text-center" data-ng-show="loadingConsts">
    <oui-spinner></oui-spinner>
</div>

<div data-ng-hide="loadingConsts">
    <div class="oui-box mb-5">
        <div class="row">
            <div class="col-sm-6">
                <label
                    for="datatype"
                    class="oui-label d-inline-block align-middle mr-2"
                >
                    <span data-translate="cdn_statistics_visualize"></span
                    >&nbsp;:
                </label>
                <div class="oui-select mb-0 oui-select_inline align-middle">
                    <select
                        name="datatype"
                        class="oui-select__input"
                        id="datatype"
                        data-ng-options="('cdn_stats_type_' + option) | translate for option in consts.types"
                        data-ng-model="model.dataType"
                        data-ng-change="getStatistics()"
                    >
                    </select>
                    <span
                        class="oui-icon oui-icon-chevron-down"
                        aria-hidden="true"
                    ></span>
                </div>
            </div>
            <div class="col-sm-6">
                <label
                    for="period"
                    class="oui-label d-inline-block align-middle mr-2"
                >
                    <span data-translate="cdn_statistics_from"></span>&nbsp;
                </label>
                <div class="oui-select mb-0 oui-select_inline align-middle">
                    <select
                        name="period"
                        class="oui-select__input"
                        id="period"
                        data-ng-options="('cdn_statistics_period_' + option) | translate for option in consts.periods"
                        data-ng-model="model.period"
                        data-ng-change="getStatistics()"
                    >
                    </select>
                    <span
                        class="oui-icon oui-icon-chevron-down"
                        aria-hidden="true"
                    ></span>
                </div>
            </div>
        </div>
    </div>
    <div class="text-center" data-ng-if="loadingStats">
        <oui-spinner></oui-spinner>
    </div>
    <div data-ng-if="!loadingStats">
        <canvas
            id="cdnStatsChart"
            class="chart chart-line"
            data-chart-labels="labels"
            data-chart-series="series"
            data-chart-data="data"
            data-chart-options="options"
            data-ng-if="model.dataType === 'BANDWIDTH' || model.dataType === 'QUOTA'"
        >
        </canvas>
        <canvas
            id="cdnStatsChartRequests"
            class="chart chart-line"
            data-chart-labels="labels"
            data-chart-series="series"
            data-chart-data="data"
            data-chart-options="requestOptions"
            data-ng-if="model.dataType === 'REQUEST'"
        >
        </canvas>
    </div>
</div>
