<form
    name="$ctrl.form"
    class="oui-modal oui-modal_shadow"
    role="form"
    data-ng-submit="$ctrl.submit()"
>
    <div class="oui-modal__header">
        <button
            class="oui-icon oui-modal__close-button oui-icon-close"
            type="button"
            aria-label="Exit"
            data-ng-click="$ctrl.goBack()"
        ></button>
    </div>

    <div
        class="oui-modal__body oui-modal__body_no-icon"
        data-ng-if="$ctrl.hasPendingRequests() || $ctrl.loaders.allowedVrack || $ctrl.loaders.vrack"
    >
        <div class="text-center">
            <oui-spinner></oui-spinner>
        </div>
    </div>

    <div
        class="oui-modal__body oui-modal__body_no-icon"
        data-ng-if="!($ctrl.hasPendingRequests() || $ctrl.loaders.allowedVrack || $ctrl.loaders.vrack)"
    >
        <div class="oui-modal__body-text">
            <h2
                class="oui-modal__title"
                data-translate="{{ ::('vrack_move_dialog_title_' + $ctrl.service.type) }}"
            ></h2>
            <oui-message data-ng-if="$ctrl.error" data-type="error">
                <span data-ng-bind="$ctrl.error"></span>
            </oui-message>
            <p
                class="oui-modal__text"
                data-translate="{{ ::('vrack_move_dialog_intro_' + $ctrl.service.type) }}"
            ></p>
            <p class="well">
                <i class="fa fa-lg fa-warning"></i>
                <span data-translate="vrack_move_dialog_warning_notice"></span>
            </p>
            <oui-field
                data-label="{{ ::'vrack_move_dialog_choose_vrack_label' | translate }}"
            >
                <oui-select
                    data-name="vrack"
                    data-model="$ctrl.models.vrack"
                    data-items="$ctrl.collections.allowedVracks"
                    data-placeholder="{{ ::'vrack_move_dialog_choose_vrack_default_option' | translate }}"
                    data-match="name"
                >
                </oui-select>
            </oui-field>
        </div>
    </div>

    <div class="oui-modal__footer">
        <button
            type="reset"
            class="oui-button oui-button_secondary"
            data-ng-disabled="$ctrl.hasPendingRequests()"
            data-ng-click="$ctrl.goBack()"
        >
            <span data-translate="vrack_common_cancel"></span>
        </button>
        <button
            type="submit"
            class="oui-button oui-button_primary"
            data-ng-disabled="$ctrl.hasPendingRequests()"
        >
            <span data-translate="vrack_common_move"></span>
        </button>
    </div>
</form>
