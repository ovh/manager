<div data-ui-view>
    <div>
        <oui-header>
            <!-- <Heading> -->
            <oui-header-heading>
                <div class="d-flex justify-content-between">
                    <h1
                        class="oui-header__title"
                        data-translate="iam_api_keys"
                    ></h1>
                    <div
                        class="d-flex justify-content-end align-items-center flex-wrap gap-1"
                    >
                        <changelog-button
                            links="$ctrl.CHANGELOG.default.links"
                            chapters="$ctrl.CHANGELOG.default.chapters"
                        ></changelog-button>
                    </div>
                </div>
            </oui-header-heading>
            <!-- </>Heading> -->
        </oui-header>
    </div>
    <div>
        <p data-translate="iam_api_keys_description"></p>
        <a
            class="mb-3 oui-button oui-button_primary text-light"
            rel="noopener"
            target="_blank"
            data-ng-href="{{:: $ctrl.API_KEY_URL}}"
        >
            <span data-translate="iam_api_keys_create_api_key"></span>
        </a>

        <oui-datagrid data-rows="$ctrl.apiKeys">
            <!-- <Columns> -->
            <oui-datagrid-column
                data-title=":: 'iam_api_keys_datagrid_column_application_id' | translate"
            >
                <span data-ng-bind="$row.applicationId"></span>
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title=":: 'iam_api_keys_datagrid_column_application_name' | translate"
            >
                <span data-ng-bind="$row.name"></span>
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title=":: 'iam_api_keys_datagrid_column_application_description' | translate"
            >
                <span data-ng-bind="$row.description"></span>
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title=":: 'iam_api_keys_datagrid_column_application_status' | translate"
            >
                <span
                    class="oui-badge"
                    data-ng-class="{
                            'oui-badge_success': $row.status === 'active',
                            'oui-badge_error': $row.status !== 'active'
                        }"
                    data-translate="{{:: 'iam_api_keys_datagrid_column_application_status_' + $row.status | translate }}"
                >
                </span>
            </oui-datagrid-column>
            <oui-datagrid-column
                data-title=":: 'iam_api_keys_datagrid_column_application_key' | translate"
            >
                <span data-ng-bind="$row.applicationKey"></span>
            </oui-datagrid-column>
            <!-- </Columns> -->

            <!-- <Actions> -->
            <oui-action-menu data-compact data-placement="end">
                <oui-action-menu-item
                    data-on-click="$ctrl.deleteApplication($row.applicationId)"
                >
                    <span
                        data-translate="iam_api_keys_datagrid_action_delete_application"
                        class="text-danger"
                    ></span>
                </oui-action-menu-item>
            </oui-action-menu>
            <!-- </Actions> -->
        </oui-datagrid>
    </div>
</div>
