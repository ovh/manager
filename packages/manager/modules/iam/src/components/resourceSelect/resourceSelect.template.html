<ng-form name="$ctrl.form">
    <!-- <ResourceTypes> -->
    <div data-ng-transclude="resourceTypesHeaderSlot"></div>
    <oui-field
        data-label="{{:: $ctrl.resourceTypesLabel }}"
        data-size="{{:: $ctrl.size }}"
        data-error-messages="{
            resources: ('iam_resource_select_resource_types_error_resources' | translate),
            required: ('iam_resource_select_resource_types_error_required' | translate)
        }"
    >
        <oui-select
            class="w-100"
            data-load="{{:: $ctrl.url.resourceTypes }}"
            data-load-options="{ global: { serviceType: 'apiv2' } }"
            data-model="$ctrl.resourceTypesModel"
            data-multiple="true"
            data-name="{{:: $ctrl.resourceTypesName }}"
            data-on-change="$ctrl.onResourceTypesChanged(modelValue)"
            data-on-error="$ctrl.onError(error)"
            data-required="$ctrl.isResourceTypesRequired"
        ></oui-select>
    </oui-field>
    <!-- </ResourceTypes> -->

    <!-- <Resources> -->
    <div data-ng-transclude="resourcesHeaderSlot"></div>
    <oui-field
        data-label="{{:: $ctrl.resourcesLabel }}"
        data-size="{{:: $ctrl.size }}"
        data-error-messages="{
            required: $ctrl.resourcesRequiredMessage || ('iam_resource_select_resources_error_required' | translate)
        }"
    >
        <oui-select
            class="w-100"
            data-disabled="$ctrl.isResourcesDisabled"
            data-load="{{ $ctrl.hasSelectedResourceTypes ? $ctrl.url.resources : '' }}"
            data-load-options="{ global: { serviceType: 'apiv2' } }"
            data-match="displayName"
            data-model="$ctrl.resourcesModel"
            data-multiple="true"
            data-name="{{:: $ctrl.resourcesName }}"
            data-on-change="$ctrl.onResourcesChanged(modelValue)"
            data-on-load="$ctrl.onResourcesLoaded(response)"
            data-on-error="$ctrl.onError(error)"
            data-required="$ctrl.isResourcesRequired"
        ></oui-select>
    </oui-field>
    <!-- </Resources> -->
</ng-form>
