<div>
    <oui-header
        class="mb-2"
        data-heading="{{ ::'enterprise_cloud_database_title' | translate }}"
    >
        <oui-guide-menu
            data-text="{{ ::'enterprise_cloud_database_guides' | translate }}"
        >
            <oui-guide-menu-item
                data-href="{{:: $ctrl.GUIDELINK }}"
                data-external
                ><span
                    data-translate="enterprise_cloud_database_guides_main"
                ></span>
            </oui-guide-menu-item>
        </oui-guide-menu>
    </oui-header>
    <div class="container-fluid w-100 h-100 pt-4 px-3 px-md-5">
        <!-- error messages -->
        <cui-message-container
            data-messages="$ctrl.messages"
        ></cui-message-container>
        <h2
            data-translate="enterprise_cloud_database_service_get_started_title"
        ></h2>
        <p
            data-translate="enterprise_cloud_database_service_get_started_description"
        ></p>
        <oui-stepper data-current-index="$ctrl.stepperIndex">
            <oui-step-form
                data-cancel-text="{{ 'enterprise_cloud_database_service_get_started_do_later' | translate }}"
                data-header="{{ 'enterprise_cloud_database_service_get_started_secure_cluster' | translate }}"
                data-ng-class="{ 'step-loading': $ctrl.loaders.savingSecuritySettings }"
                data-on-cancel="$ctrl.gotoClusterDetails()"
                data-on-submit="$ctrl.saveSecurityInfo(form)"
                data-submit-text="{{ 'enterprise_cloud_database_service_get_started_secure_cluster_submit' | translate }}"
            >
                <enterprise-cloud-database-service-get-started-secure-cluster-component
                    data-cluster-name="$ctrl.data.clusterName"
                    data-disabled="$ctrl.loaders.savingSecuritySettings"
                    data-on-data-change="$ctrl.dataChanged(data)"
                >
                </enterprise-cloud-database-service-get-started-secure-cluster-component>
                <div data-ng-if="$ctrl.loaders.savingSecuritySettings">
                    <oui-spinner size="s"></oui-spinner>
                    <span
                        class="ml-2"
                        data-translate="enterprise_cloud_database_service_get_started_saving"
                    ></span>
                </div>
            </oui-step-form>

            <oui-step-form
                data-cancel-text="{{ 'enterprise_cloud_database_service_get_started_do_later' | translate }}"
                data-header="{{ 'enterprise_cloud_database_service_get_started_connection_details' | translate }}"
                data-on-cancel="$ctrl.gotoClusterDetails()"
            >
                <div class="row">
                    <enterprise-cloud-database-service-connection-details-component
                        class="col-md-8"
                        data-cluster-details="$ctrl.clusterDetails"
                        data-cluster-type="$ctrl.clusterType"
                        data-end-points="$ctrl.endPoints"
                    >
                    </enterprise-cloud-database-service-connection-details-component>
                </div>
            </oui-step-form>

            <oui-step-form
                data-cancel-text="{{ 'enterprise_cloud_database_service_get_started_do_later' | translate }}"
                data-header="{{ 'enterprise_cloud_database_service_get_started_next_steps' | translate }}"
                data-ng-class="{ 'step-loading': $ctrl.loaders.savingSettings }"
                data-submit-text="{{ 'enterprise_cloud_database_service_get_started_submit' | translate }}"
                data-on-cancel="$ctrl.gotoClusterDetails()"
                data-on-submit="$ctrl.saveSettings(form)"
            >
                <enterprise-cloud-database-service-get-started-next-steps-component
                    data-add-replicas="$ctrl.gotoAddReplicas()"
                    data-cluster-details="$ctrl.clusterDetails"
                    data-cluster-type="$ctrl.clusterType"
                    data-disabled="$ctrl.loaders.savingSettings"
                    data-end-points="$ctrl.endPoints"
                    data-host-list="$ctrl.hostList"
                    data-maintenance-window="$ctrl.maintenanceWindow"
                    data-on-data-change="$ctrl.dataChanged(data)"
                    data-region-info="$ctrl.regionInfo"
                    data-replica-config="$ctrl.data.replicaConfig"
                >
                </enterprise-cloud-database-service-get-started-next-steps-component>
                <div data-ng-if="$ctrl.loaders.savingSettings">
                    <oui-spinner size="s"></oui-spinner>
                    <span
                        class="ml-2"
                        data-translate="enterprise_cloud_database_service_get_started_saving"
                    ></span>
                </div>
            </oui-step-form>
        </oui-stepper>
    </div>
</div>
