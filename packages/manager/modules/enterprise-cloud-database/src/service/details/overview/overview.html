<cui-message-container data-messages="$ctrl.messages"></cui-message-container>
<div class="row d-lg-flex m-3">
    <div class="col-md-4">
        <oui-tile
            class="h-100"
            data-heading="{{:: 'enterprise_cloud_database_information' | translate }}"
        >
            <oui-tile-definition
                data-term="{{:: 'enterprise_cloud_database_common_name' | translate }}"
            >
                <oui-tile-description>
                    <span data-ng-bind="$ctrl.clusterDetails.name"></span>
                </oui-tile-description>
                <oui-action-menu data-compact data-placement="end">
                    <oui-action-menu-item
                        data-on-click="$ctrl.goToChangeName()"
                    >
                        <span
                            data-translate="enterprise_cloud_database_common_edit"
                        ></span>
                    </oui-action-menu-item>
                </oui-action-menu>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{:: 'enterprise_cloud_database_common_status' | translate }}"
            >
                <oui-tile-description>
                    <span
                        class="oui-badge"
                        data-ng-class="'oui-badge_' + $ctrl.enterpriseCloudDatabaseService.constructor.getStatusGroup($ctrl.clusterDetails.status)"
                        data-ng-bind=":: ('enterprise_cloud_database_common_status_' + $ctrl.clusterDetails.status) | translate"
                    ></span>
                </oui-tile-description>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{:: 'enterprise_cloud_database_region' | translate }}"
            >
                <oui-tile-description>
                    <span data-ng-bind="$ctrl.clusterDetails.regionName"></span>
                </oui-tile-description>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{:: 'enterprise_cloud_database_ram_title' | translate }}"
            >
                <oui-tile-description>
                    <span
                        data-translate="enterprise_cloud_database_ram_size"
                        data-translate-values="{ size: $ctrl.offerDetails.memory.size }"
                    ></span>
                </oui-tile-description>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{ ::'enterprise_cloud_database_storage_title' | translate }}"
            >
                <oui-tile-description>
                    <span
                        data-ng-bind="$ctrl.offerDetails.storage.usableSize | bytes:2:false:'GB'"
                    ></span>
                    <span data-ng-bind="$ctrl.offerDetails.storage.type"></span>
                </oui-tile-description>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{:: 'enterprise_cloud_database_engine' | translate }}"
            >
                <oui-tile-description>
                    <span
                        data-ng-bind="$ctrl.DATABASE_CONSTANTS[$ctrl.clusterDetails.offerType].name + ' ' + $ctrl.clusterDetails.version"
                    ></span>
                </oui-tile-description>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{:: 'enterprise_cloud_database_admin_credentials' | translate }}"
            >
                <oui-tile-description>
                    <div>
                        <span
                            data-translate="enterprise_cloud_database_admin_credentials_username"
                        ></span>
                        <span
                            data-ng-bind="$ctrl.USERNAME[$ctrl.clusterDetails.offerType]"
                        ></span>
                    </div>
                    <div>
                        <span
                            data-translate="enterprise_cloud_database_admin_credentials_password"
                        ></span>
                        <span data-ng-bind="$ctrl.MASKED_PASSWORD"></span>
                    </div>
                </oui-tile-description>
                <oui-action-menu data-compact data-placement="end">
                    <oui-action-menu-item
                        data-on-click="$ctrl.goToUpdatePassword()"
                        data-disabled="$ctrl.enterpriseCloudDatabaseService.constructor.isProcessing($ctrl.clusterDetails.status)"
                    >
                        <span
                            data-translate="enterprise_cloud_database_update_password"
                        ></span>
                    </oui-action-menu-item>
                </oui-action-menu>
            </oui-tile-definition>
        </oui-tile>
    </div>
    <!--Cluster Plan-->
    <div class="col-md-4">
        <oui-tile
            class="oui-tile-h-100"
            data-heading="{{ ::'enterprise_cloud_database_subscription' | translate }}"
            data-loading="$ctrl.account.loading || $ctrl.options.loading || $ctrl.accountDetails.loading"
        >
            <oui-tile-definition
                data-term="{{ ::'enterprise_cloud_database_renewal_date' | translate }}"
            >
                <oui-tile-description
                    data-ng-bind="$ctrl.serviceInfo.expiration | date: 'dd/MM/yyyy'"
                ></oui-tile-description>
                <oui-action-menu data-compact data-placement="end">
                    <oui-action-menu-item
                        aria-label="{{ ::'enterprise_cloud_database_common_manage' | translate }}"
                        data-on-click="$ctrl.goToMyServices($ctrl.clusterDetails.id, $ctrl.SERVICE_TYPE)"
                        ><span
                            data-translate="enterprise_cloud_database_common_manage"
                        ></span>
                    </oui-action-menu-item>
                </oui-action-menu>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{ ::'enterprise_cloud_database_creation_date' | translate }}"
            >
                <oui-tile-description
                    data-ng-bind="$ctrl.serviceInfo.creation | date: 'dd/MM/yyyy'"
                ></oui-tile-description>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{ ::'enterprise_cloud_database_next_payment' | translate }}"
            >
                <oui-tile-description
                    data-ng-bind="$ctrl.serviceInfo.expiration | date: 'dd/MM/yyyy'"
                ></oui-tile-description>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{ ::'enterprise_cloud_database_subscription_contact' | translate}}"
            >
                <oui-tile-description>
                    <div>
                        <span
                            data-ng-bind="$ctrl.serviceInfo.contactAdmin"
                        ></span>
                        <small
                            data-translate="enterprise_cloud_database_common_subscription_contact_admin"
                        ></small>
                    </div>
                    <div>
                        <span
                            data-ng-bind="$ctrl.serviceInfo.contactBilling"
                        ></span>
                        <small
                            data-translate="enterprise_cloud_database_common_subscription_contact_billing"
                        ></small>
                    </div>
                    <div>
                        <span
                            data-ng-bind="$ctrl.serviceInfo.contactTech"
                        ></span>
                        <small
                            data-translate="enterprise_cloud_database_common_subscription_contact_technical"
                        ></small>
                    </div>
                </oui-tile-description>
            </oui-tile-definition>
        </oui-tile>
        <oui-tile
            class="mt-3"
            data-heading="{{ ::'enterprise_cloud_database_backup' | translate }}"
        >
            <oui-tile-definition
                data-term="{{:: 'enterprise_cloud_database_auto_backup' | translate }}"
            >
                <oui-tile-description>
                    <span
                        class="oui-badge"
                        data-ng-class="{
                              'oui-badge_success' : $ctrl.clusterDetails.autoBackup,
                              'oui-badge_warning' : !$ctrl.clusterDetails.autoBackup,
                          }"
                        data-ng-bind=":: ('enterprise_cloud_database_common_status_' + $ctrl.AUTO_BACKUP[$ctrl.clusterDetails.autoBackup]) | translate"
                    >
                    </span>
                </oui-tile-description>
                <oui-action-menu data-compact data-placement="end">
                    <oui-action-menu-item data-on-click="$ctrl.goToSettings()">
                        <span
                            data-translate="enterprise_cloud_database_common_manage"
                        ></span>
                    </oui-action-menu-item>
                </oui-action-menu>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{:: 'enterprise_cloud_database_backup_frequency' | translate }}"
                data-ng-if="$ctrl.clusterDetails.autoBackup"
            >
                <oui-tile-description>
                    <span data-ng-bind="$ctrl.BACKUP_FREQUENCY"></span>
                </oui-tile-description>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{:: 'enterprise_cloud_database_backup_retention' | translate }}"
                data-ng-if="$ctrl.clusterDetails.autoBackup"
            >
                <oui-tile-description>
                    <span data-ng-bind="$ctrl.BACKUP_RETENTION"></span>
                </oui-tile-description>
            </oui-tile-definition>
        </oui-tile>
    </div>
    <!--Cluster Information-->
    <div class="col-md-4">
        <oui-tile
            data-heading="{{ ::'enterprise_cloud_database_links' | translate }}"
        >
            <oui-tile-button data-on-click="$ctrl.createCluster()">
                <span
                    data-translate="enterprise_cloud_database_create_cluster"
                ></span>
            </oui-tile-button>
            <oui-tile-button
                data-on-click="$ctrl.gettingStarted($ctrl.clusterDetails.id)"
                data-disabled="$ctrl.clusterUser"
            >
                <span
                    data-translate="enterprise_cloud_database_getting_started"
                ></span>
            </oui-tile-button>
            <oui-tile-button
                data-on-click="$ctrl.goToClusterNodes($ctrl.clusterDetails.id)"
            >
                <span
                    data-translate="enterprise_cloud_database_manage_nodes"
                ></span>
            </oui-tile-button>
        </oui-tile>
        <oui-tile
            class="mt-3"
            data-heading="{{ ::'enterprise_cloud_database_cluster_info' | translate }}"
        >
            <oui-tile-definition
                data-term="{{:: 'enterprise_cloud_database_primary_info' | translate }}"
            >
                <oui-tile-description>
                    <span
                        data-ng-bind="$ctrl.INCLUDED_CLUSTER_SIZE.PRIMARY"
                    ></span>
                </oui-tile-description>
                <oui-action-menu data-compact data-placement="end">
                    <oui-action-menu-item
                        data-on-click="$ctrl.goToClusterNodes()"
                    >
                        <span
                            data-translate="enterprise_cloud_database_common_manage"
                        ></span>
                    </oui-action-menu-item>
                </oui-action-menu>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{:: 'enterprise_cloud_database_replica_info' | translate }}"
            >
                <oui-tile-description>
                    <span
                        data-ng-bind="$ctrl.clusterDetails.hostCount - 2"
                    ></span>
                </oui-tile-description>
            </oui-tile-definition>
            <oui-tile-definition
                data-term="{{:: 'enterprise_cloud_database_backup_info' | translate }}"
            >
                <oui-tile-description>
                    <span
                        data-ng-bind="$ctrl.INCLUDED_CLUSTER_SIZE.BACKUP"
                    ></span>
                </oui-tile-description>
            </oui-tile-definition>
        </oui-tile>
    </div>
</div>
<!--Connection Information-->
<div class="row d-lg-flex m-3">
    <div class="col-lg-10">
        <oui-tile
            data-heading="{{ ::'enterprise_cloud_database_connection_information' | translate }}"
        >
            <oui-tile-definition>
                <oui-tile-description>
                    <div
                        class="oui-message oui-message_info mr-3 mb-3"
                        role="alert"
                    >
                        <i
                            class="oui-icon oui-icon-info-circle"
                            aria-hidden="true"
                        ></i>
                        <p
                            class="oui-message__body"
                            data-translate="enterprise_cloud_database_connection_message"
                        ></p>
                    </div>
                </oui-tile-description>
                <oui-action-menu data-compact data-placement="end">
                    <oui-action-menu-item data-on-click="$ctrl.goToSettings()">
                        <span
                            data-translate="enterprise_cloud_database_common_manage"
                        ></span>
                    </oui-action-menu-item>
                </oui-action-menu>
            </oui-tile-definition>
            <oui-tile-definition>
                <oui-tile-description>
                    <enterprise-cloud-database-service-connection-details-component
                        data-cluster-details="$ctrl.clusterDetailsDetails"
                        data-cluster-type="$ctrl.clusterType"
                        data-end-points="$ctrl.endPoints"
                    >
                    </enterprise-cloud-database-service-connection-details-component>
                </oui-tile-description>
            </oui-tile-definition>
        </oui-tile>
    </div>
</div>
