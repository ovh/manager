<section class="vp-snapshot-order-legacy">
    <div class="row d-lg-flex">
        <div class="col-xm-12">
            <h1
                class="oui-heading_1"
                data-translate="vps_configuration_activate_snapshot_title"
            ></h1>
            <oui-stepper data-on-init="$ctrl.loadVps()">
                <oui-step-form
                    data-header="{{ ::'vps_common_order' | translate }}"
                    data-description="{{ ::'vps_configuration_activate_snapshot_step1_description' | translate }}"
                    data-loading="!$ctrl.model.optionDetails"
                    data-valid="$ctrl.model.contractsValidated"
                    data-on-cancel="$ctrl.cancel()"
                    data-on-submit="$ctrl.orderOption()"
                >
                    <p
                        data-translate="vps_configuration_activate_snapshot_step1_alert"
                        data-translate-values="{ amount: $ctrl.model.optionDetails.unitaryPrice }"
                    ></p>
                    <div
                        data-translate="vps_configuration_activate_snapshot_step1_confirmation"
                    ></div>
                    <div
                        class="text-bold"
                        data-translate="vps_configuration_activate_snapshot_step1_id"
                    ></div>
                    <oui-checkbox
                        id="contractsValidated"
                        name="contractsValidated"
                        data-model="$ctrl.model.contractsValidated"
                        ><span
                            data-translate="vps_configuration_activate_snapshot_step1_contracts"
                        ></span>
                    </oui-checkbox>
                    <ul>
                        <li
                            data-ng-repeat="contract in $ctrl.model.optionDetails.contracts track by $index"
                        >
                            <a
                                target="_blank"
                                rel="noopener"
                                class="oui-link oui-link_icon"
                                data-ng-href="{{::contract.url}}"
                                title="{{ contract.name + ' (' + ('vps_common_new_window' | translate) + ')' }}"
                            >
                                <span data-ng-bind="contract.name"></span>
                                <span
                                    class="oui-icon oui-icon-external-link"
                                    aria-hidden="true"
                                ></span>
                            </a>
                        </li>
                    </ul>
                    <div class="mb-4">
                        <em
                            data-translate="vps_configuration_activate_snapshot_step1_info"
                        ></em>
                    </div>
                </oui-step-form>
                <oui-step-form
                    data-header="{{ ::'vps_configuration_activate_snapshot_step2_title' | translate }}"
                    data-loading="!$ctrl.model.url"
                    data-valid="$ctrl.model.url"
                    data-on-cancel="$ctrl.cancel()"
                    data-on-submit="$ctrl.confirm()"
                >
                    <dl
                        data-ng-show="$ctrl.model.url"
                        class="vps-dl-horizontal text-bold"
                    >
                        <dt
                            class="vps-item-horizontal"
                            data-translate="vps_configuration_activate_snapshot_step2_totalHT"
                        ></dt>
                        <dd
                            class="vps-item-horizontal"
                            data-ng-bind="::$ctrl.model.optionDetails.withoutTax"
                        ></dd>

                        <dt
                            class="vps-item-horizontal"
                            data-translate="vps_configuration_activate_snapshot_step2_totalTTC"
                        ></dt>
                        <dd
                            class="vps-item-horizontal"
                            data-ng-bind="::$ctrl.model.optionDetails.withTax"
                        ></dd>
                    </dl>
                    <div data-ng-show="$ctrl.model.url" class="mb-4">
                        <span
                            data-translate="vps_configuration_activate_snapshot_step2_bc"
                        ></span>
                        <span
                            class="text-bold"
                            data-translate="vps_configuration_activate_snapshot_step2_continue"
                        ></span>
                        <span
                            data-translate="vps_configuration_activate_snapshot_step2_explication"
                        ></span>
                        <em
                            class="fs11 lh11"
                            data-translate="vps_configuration_activate_snapshot_step2_explication2"
                        ></em>
                    </div>
                </oui-step-form>
            </oui-stepper>
        </div>
    </div>
</section>
