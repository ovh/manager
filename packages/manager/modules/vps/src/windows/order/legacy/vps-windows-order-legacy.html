<section class="vps-windows-order-legacy">
    <div class="row d-lg-flex">
        <div class="col-xm-12">
            <h1
                class="oui-heading_1"
                data-translate="vps_order_windows_title"
            ></h1>
            <oui-stepper data-on-init="$ctrl.getDurations()">
                <oui-step-form
                    data-header="{{ ::'vps_order_windows_step1_title' | translate }}"
                    data-description="{{ ::'vps_order_windows_info' | translate }}"
                    data-loading="$ctrl.loaders.durations || $ctrl.loaders.prices"
                    data-valid="$ctrl.model.duration"
                    data-on-submit="$ctrl.canValidateContracts()"
                    data-on-cancel="$ctrl.cancel()"
                >
                    <label
                        class="oui-label"
                        data-translate="vps_order_windows_order_select_duration"
                    ></label>
                    <div
                        class="oui-radio mb-4"
                        data-ng-repeat="duration in $ctrl.durations.available track by $index"
                    >
                        <input
                            class="oui-radio__input"
                            type="radio"
                            name="durations"
                            data-ng-model="$ctrl.model.duration"
                            id="{{duration}}"
                            data-ng-value="duration"
                        />
                        <label
                            class="oui-radio__label-container"
                            for="{{duration}}"
                        >
                            <span class="oui-radio__label">
                                <span class="oui-radio__icon"></span>
                                <span
                                    class="oui-radio__text"
                                    data-ng-bind="$ctrl.durations.details[duration].label"
                                ></span>
                            </span>
                            <span class="oui-radio__description">
                                <span
                                    data-translate="vps_order_windows_order_price_HT"
                                ></span>
                                <span
                                    data-ng-bind="$ctrl.durations.details[duration].prices.withoutTax.text"
                                ></span>
                            </span>
                        </label>
                    </div>
                </oui-step-form>
                <oui-step-form
                    data-header="{{ ::'vps_order_windows_step2_title' | translate }}"
                    data-valid="$ctrl.model.contractsValidated"
                    data-on-submit="$ctrl.orderOption()"
                    data-on-cancel="$ctrl.cancel()"
                >
                    <ovh-contracts-summary
                        name="agreeContracts"
                        data-items="$ctrl.durations.details[$ctrl.model.duration].contracts"
                        data-model="$ctrl.model.contractsValidated"
                    >
                    </ovh-contracts-summary>
                </oui-step-form>
                <oui-step-form
                    data-header="{{ ::'vps_order_windows_step3_title' | translate }}"
                    data-loading="!$ctrl.model.url"
                    data-valid="$ctrl.model.url"
                    data-on-submit="$ctrl.confirm()"
                    data-on-cancel="$ctrl.cancel()"
                >
                    <dl class="vps-dl-horizontal bold">
                        <dt
                            class="vps-item-horizontal"
                            data-translate="vps_order_windows_order_price_HT"
                        ></dt>
                        <dd
                            class="vps-item-horizontal"
                            data-ng-bind="$ctrl.durations.details[$ctrl.model.duration].prices.withoutTax.text"
                        ></dd>

                        <dt
                            class="vps-item-horizontal"
                            data-translate="vps_order_windows_order_price_TTC"
                        ></dt>
                        <dd
                            class="vps-item-horizontal"
                            data-ng-bind="$ctrl.durations.details[$ctrl.model.duration].prices.withTax.text"
                        ></dd>
                    </dl>
                    <div class="row-fluid mb-4">
                        <p
                            data-translate="vps_order_windows_order_final_txt"
                        ></p>
                        <p
                            data-translate="vps_order_windows_order_final_txt2"
                        ></p>
                    </div>
                </oui-step-form>
            </oui-stepper>
        </div>
    </div>
</section>
