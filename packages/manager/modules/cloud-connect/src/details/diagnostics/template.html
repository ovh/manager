<div>
    <oui-datagrid
        data-rows="$ctrl.diagnosticList"
        data-empty-placeholder="{{:: 'cloud_connect_diagnostics_empty_datagrid' | translate }}"
    >
        <oui-datagrid-topbar>
            <button
                type="button"
                class="float-right oui-button oui-button_secondary oui-button_icon-only mb-2 oui-button_s"
                data-ng-click="$ctrl.refreshDiagnostics()"
            >
                <span class="fa fa-refresh" aria-hidden="true"></span>
            </button>
        </oui-datagrid-topbar>
        <oui-datagrid-column
            data-title=":: 'cloud_connect_diagnostics_id' | translate"
            data-property="id"
        >
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title=":: 'cloud_connect_diagnostics_date' | translate"
            data-property="date"
        >
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title=":: 'cloud_connect_diagnostics_name' | translate"
            data-property="name"
        >
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title=":: 'cloud_connect_diagnostics_scope' | translate"
            data-property="source"
        >
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title=":: 'cloud_connect_diagnostics_status' | translate"
            data-property="status"
        >
            <span
                class="oui-badge"
                data-ng-class="{
                    'oui-badge_error': $row.isError(),
                    'oui-badge_success': $row.isDone(),
                    'oui-badge_info': $row.isInProcess(),
                }"
                data-ng-bind="'cloud_connect_diagnostics_status_' +  $row.status | translate"
            ></span>
        </oui-datagrid-column>

        <oui-datagrid-column>
            <oui-action-menu
                data-compact
                data-placement="end"
                data-disabled="!$row.isDone()"
            >
                <oui-action-menu-item
                    data-ng-click="$ctrl.trackAction('result', $row.function); $ctrl.gotoDiagnosticResult($row.id);"
                    ><span
                        data-translate="cloud_connect_diagnostics_action_result"
                    ></span
                ></oui-action-menu-item>
                <oui-action-menu-item data-ng-if="$row.canDownload()"
                    ><span
                        data-ng-click="$ctrl.trackAction('download', $row.function); $ctrl.downloadResult($row.id);"
                        data-translate="cloud_connect_diagnostics_action_download"
                    ></span
                ></oui-action-menu-item>
            </oui-action-menu>
        </oui-datagrid-column>
    </oui-datagrid>
</div>
