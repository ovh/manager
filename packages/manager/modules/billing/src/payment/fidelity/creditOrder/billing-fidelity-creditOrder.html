<div data-ng-controller="Billing.controllers.FidelityCreditOrder">
    <div
        data-wizard
        data-wizard-on-cancel="resetAction"
        data-wizard-on-finish="displayBC"
        data-wizard-title="::'fidelity_creditOrder_title' | translate"
        data-wizard-bread-crumb
        data-wizard-confirm-button-text="::'wizard_order' | translate"
    >
        <div
            data-wizard-step
            data-wizard-step-on-load="loadAmount"
            data-wizard-step-valid="renewStepValidator()"
        >
            <p
                data-ng-bind-html="'fidelity_creditOrder_step1_msg' | translate:{ t0: currency.symbol }"
            ></p>
            <label
                for="amount"
                class="control-label"
                data-ng-bind="'fidelity_creditOrder_step1_amount' | translate"
            >
            </label>
            <input
                id="amount"
                type="number"
                class="form-control"
                data-ng-model="creditOrder.amount"
                data-ng-model-options="{'debounce': 500}"
                data-ng-change="checkAmount()"
            />
            <span
                data-ng-show="creditOrder.erreurMin"
                class="text-danger"
                role="alert"
                data-ng-bind="'fidelity_creditOrder_step1_erreurmin' | translate:{ t0: creditOrder.min }"
            >
            </span>
            <span
                data-ng-show="creditOrder.erreurMax"
                class="text-danger"
                role="alert"
                data-ng-bind="'fidelity_creditOrder_step1_erreurmax' | translate:{ t0: creditOrder.max }"
            >
            </span>
            <span
                data-ng-show="creditOrder.erreurFormat"
                class="text-danger"
                role="alert"
                data-ng-bind="'fidelity_creditOrder_step1_erreurformat' | translate"
            >
            </span>
        </div>

        <div
            data-wizard-step
            data-wizard-step-on-load="getBC"
            data-wizard-step-valid="creditOrder.BC.url"
        >
            <div data-ng-show="creditOrder.BC.url">
                <p data-translate="fidelity_creditOrder_step2_msg"></p>
                <p class="text-center">
                    <span
                        data-translate="fidelity_creditOrder_step2_credit"
                    ></span>
                    <strong data-ng-bind="creditOrder.amount"></strong>
                    <span data-translate="fidelity_points"></span>
                </p>
            </div>
            <span
                data-ng-show="creditOrder.error"
                role="alert"
                data-translate="fidelity_creditOrder_step2_error"
            >
            </span>
            <div data-ng-show="creditOrder.loading" class="text-center">
                <oui-spinner></oui-spinner>
            </div>
        </div>
    </div>
</div>
