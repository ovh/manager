<div class="billing-payment-vouchers" data-ui-view>
    <div data-ovh-alert></div>

    <h2 data-translate="vouchers_title"></h2>

    <table class="table table-hover mt-2">
        <thead>
            <tr>
                <th
                    scope="col"
                    class="align-middle"
                    data-translate="voucher_table_head_id"
                ></th>
                <th
                    scope="col"
                    class="align-middle"
                    data-translate="voucher_table_head_balance"
                ></th>
                <th
                    scope="col"
                    class="align-middle"
                    data-translate="voucher_table_head_voucher_open_date"
                ></th>
                <th
                    scope="col"
                    class="align-middle"
                    data-translate="voucher_table_head_voucher_last_update"
                ></th>
                <th scope="col" class="align-middle text-center">
                    <button
                        class="btn btn-link"
                        data-ng-attr-title="{{ :: 'refresh' | translate }}"
                        aria-label="{{ :: 'refresh' | translate }}"
                        data-ng-click="getVouchers(true)"
                    >
                        <i class="fa fa-refresh" aria-hidden="true"> </i>
                    </button>
                </th>
            </tr>
        </thead>
        <tbody data-ng-show="loaders.vouchers">
            <tr>
                <td class="text-center" colspan="5">
                    <oui-spinner></oui-spinner>
                </td>
            </tr>
        </tbody>
        <tbody data-ng-show="vouchers.length === 0 && !loaders.vouchers">
            <tr>
                <td
                    colspan="5"
                    class="text-center"
                    data-translate="voucher_table_empty"
                ></td>
            </tr>
        </tbody>
        <tbody data-ng-show="!loaders.vouchers && vouchers.length > 0">
            <tr data-ng-repeat="voucher in vouchers">
                <th
                    scope="col"
                    class="align-middle"
                    data-ng-bind="::voucher.voucherAccountId"
                ></th>
                <td
                    class="align-middle"
                    data-ng-bind="::voucher.balance.text"
                ></td>
                <td
                    class="align-middle"
                    data-ng-bind="::voucher.openDate | date:'medium'"
                ></td>
                <td
                    class="align-middle"
                    data-ng-bind="::voucher.lastUpdate  | date:'medium'"
                ></td>
                <td class="align-middle">
                    <a
                        class="btn btn-link"
                        data-ui-sref="app.account.billing.payment.vouchers.movement({ voucherAccountId: voucher.voucherAccountId })"
                    >
                        <i class="fa fa-eye" aria-hidden="true"> </i>
                    </a>
                </td>
            </tr>
        </tbody>
    </table>

    <div
        data-ng-show="voucherIds.length > 5"
        data-pagination-front
        data-items="voucherIds"
        data-paginated-items="vouchers"
        data-current-page="currentPage"
        data-nb-pages="nbPages"
        data-items-per-page="itemsPerPage"
        data-transform-item="transformItem(item)"
        data-on-transform-item-notify="onTransformItemNotify(item)"
        data-on-transform-item-done="onTransformItemDone(items)"
        data-page-placeholder="{{'pagination_page' | translate:{ t0: currentPage, t1: nbPages } }}"
        data-item-per-page-placeholder="{{ 'pagination_display' | translate }}"
    ></div>
</div>
