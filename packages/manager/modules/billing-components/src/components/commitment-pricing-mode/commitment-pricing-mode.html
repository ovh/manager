<div>
    <span
        data-ng-if="$ctrl.discount"
        data-translate="billing_commitment_payment_description"
        data-translate-values="{ discount: $ctrl.discount }"
    ></span>
    <div class="row mb-1">
        <div
            class="col-md-4"
            data-ng-repeat="engagement in $ctrl.pricingModes track by engagement.commitmentType"
        >
            <oui-select-picker
                name="{{:: 'engagement-' + engagement.commitmentType }}"
                model="$ctrl.pricingMode"
                label="{{:: ('billing_commitment_payment_' + engagement.commitmentType) | translate }}"
                values="[engagement]"
            >
                <oui-select-picker-description
                    data-ng-if="engagement.isUpfront()"
                >
                    <span
                        data-translate="billing_commitment_payment_upfront_savings"
                        data-translate-values="{ price: $ctrl.getDiscount().text }"
                    ></span>
                </oui-select-picker-description>
                <oui-select-picker-description
                    data-ng-if="!engagement.isUpfront()"
                >
                    <span
                        data-translate="billing_commitment_payment_monthly"
                        data-translate-values="{ price: engagement.pricing.monthlyPrice.text,  duration: engagement.durationInMonths}"
                    ></span>
                </oui-select-picker-description>
                <oui-select-picker-footer>
                    <span
                        data-ng-if="engagement.isPeriodic()"
                        class="oui-heading_6"
                        data-translate="billing_commitment_pricing_price_month"
                        data-translate-values="{
                            price: engagement.pricing.price.text
                        }"
                    ></span>
                    <span
                        data-ng-if="engagement.isUpfront()"
                        class="oui-heading_6"
                        data-ng-bind="engagement.pricing.price.text"
                    ></span>
                </oui-select-picker-footer>
            </oui-select-picker>
        </div>
    </div>
</div>
