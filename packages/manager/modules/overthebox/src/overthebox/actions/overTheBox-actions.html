<div class="telecom-overTheBox-actions">
    <div class="telecom-section-content">
        <oui-message type="error" dismissable data-ng-if="$ctrl.isError">
            <span data-ng-bind="$ctrl.errorMessage"></span>
        </oui-message>

        <div class="widget-presentation">
            <h2
                class="widget-presentation-title"
                data-translate="overTheBox_actions_list"
            ></h2>

            <div class="oui-criteria__actions" data-ng-if="!$ctrl.isLoading">
                <button
                    type="button"
                    class="oui-button oui-button_secondary oui-button_icon-only oui-button_s"
                    data-ng-click="$ctrl.getActions()"
                    title="{{'overTheBox_actions_refresh' | translate}}"
                >
                    <span
                        class="oui-icon oui-icon-refresh"
                        aria-hidden="true"
                    ></span>
                </button>
            </div>
            <oui-datagrid
                data-rows="$ctrl.actionIds"
                data-row-loader="$ctrl.transformItem($row)"
            >
                <oui-datagrid-column
                    data-title=":: 'overTheBox_actions_name' | translate"
                    data-property="name"
                    data-sortable="asc"
                ></oui-datagrid-column>
                <oui-datagrid-column
                    data-title="'overTheBox_actions_id' | translate"
                    data-property="actionId"
                    data-sortable
                ></oui-datagrid-column>
                <oui-datagrid-column
                    data-title="'overTheBox_actions_created_date' | translate"
                    data-property="createdAt"
                    data-sortable
                >
                    <span
                        data-ng-bind="$row.createdAt | date:'dd/MM/yyyy'"
                    ></span>
                </oui-datagrid-column>
                <oui-datagrid-column
                    data-title="'overTheBox_actions_updated_date' | translate"
                    data-property="updatedAt"
                    data-sortable
                >
                    <span
                        data-ng-bind="$row.updatedAt | date:'dd/MM/yyyy'"
                    ></span>
                </oui-datagrid-column>
                <oui-datagrid-column
                    data-title="'overTheBox_actions_status' | translate"
                    data-property="status"
                    data-sortable
                >
                    <span
                        class="oui-badge"
                        data-ng-class="{
                                'oui-badge_success': $row.status === 'done',
                                'oui-badge_error': $row.status === 'error',
                                'oui-badge_info': $row.status === 'doing',
                                'oui-badge_info': $row.status === 'todo'
                            }"
                    >
                        <span
                            data-ng-bind="'overTheBox_actions_status_' + $row.status | translate"
                        ></span>
                    </span>
                </oui-datagrid-column>
            </oui-datagrid>
        </div>
    </div>
</div>
