<section class="cda-user-details-permission-list-edit">
    <a
        class="oui-button oui-button_icon-left oui-button_ghost"
        data-ui-sref="cda.dashboard.cda-user.cda-user-details.cda-user-details-permission-list({serviceName: CdaUserDetailsPermissionListEditCtrl.serviceName, userName: CdaUserDetailsPermissionListEditCtrl.userName})"
    >
        <i class="oui-icon oui-icon-chevron-left"></i>
        {{ "cda_user_details_permissions_list_edit_btn_back" | translate }}
    </a>
    <header>
        <h3
            data-translate="cda_user_details_permissions_list_edit_title"
            class="oui-heading_3"
        ></h3>
        <dl>
            <dd
                data-translate="cda_user_details_permissions_list_username"
            ></dd>
            <dt
                data-ng-bind="CdaUserDetailsPermissionListEditCtrl.userName"
            ></dt>
        </dl>
    </header>
    <div
        class="text-center"
        data-ng-if="CdaUserDetailsPermissionListEditCtrl.loading || CdaUserDetailsPermissionListEditCtrl.saving"
    >
        <oui-spinner></oui-spinner>
    </div>
    <form
        name="PermissionsForm"
        data-ng-if="!CdaUserDetailsPermissionListEditCtrl.loading"
        data-ng-submit="CdaUserDetailsPermissionListEditCtrl.saveUserPermissions()"
        class="pt-2"
    >
        <div
            data-ng-repeat="pool in CdaUserDetailsPermissionListEditCtrl.datas.poolsDisplay track by pool.poolName"
        >
            <h5 class="pt-1">
                <b data-ng-bind="pool.poolName"></b>
            </h5>
            <p
                data-translate="cda_user_details_permissions_list_label_permission"
            ></p>
            <div class="pr-3 pb-3 permission-chk-list">
                <span
                    data-ng-repeat="(key, value) in CdaUserDetailsPermissionListEditCtrl.accessTypes track by key"
                >
                    <input
                        id="{{ pool.poolName + key }}"
                        type="checkbox"
                        ng-model="pool[key]"
                        class="ng-pristine ng-untouched ng-valid ng-empty mt-0 permission-chk"
                    />
                    <label
                        for="{{ pool.poolName + key }}"
                        data-translate="{{ 'cda_user_details_permissions_list_type_' + key }}"
                        class="ml-0 pr-3 d-inline-block"
                    ></label>
                </span>
            </div>
        </div>
        <div class="pt-3 mt-3">
            <button
                class="oui-button oui-button_primary"
                type="submit"
                data-ng-disabled="PermissionsForm.$invalid || self.saving"
            >
                <span data-translate="cda_common_modify"></span>
            </button>
        </div>
    </form>
</section>
