<oui-datagrid rows="$ctrl.nodesMapped" data-page-size="25" class="mt-5">
    <oui-datagrid-topbar>
        <oui-button
            data-on-click="$ctrl.goToAddNode()"
            data-disabled="$ctrl.isMaxNodesReached"
            data-oui-tooltip="{{ $ctrl.addNodeTooltipContent }}"
            ><span
                data-translate="nutanix_dashboard_nodes_list_add_nodes"
            ></span
        ></oui-button>
    </oui-datagrid-topbar>

    <oui-datagrid-column
        data-title="'nutanix_dashboard_nodes_list_display_name' | translate"
        data-property="iam.displayName"
        data-sortable
        data-searchable
        data-filterable
    >
        <iam-protected-data is-hidden=":: $row.isHiddenNode">
            <a
                class="oui-link"
                data-ui-sref="{{:: $ctrl.constructor.getNodeDetailsState($row.name) }}"
                data-ng-bind=":: $row.iam.displayName"
            >
            </a>
        </iam-protected-data>
    </oui-datagrid-column>
    <oui-datagrid-column
        data-title="'nutanix_dashboard_nodes_list_type_of_server' | translate"
        data-property="commercialRange"
        data-sortable
        data-searchable
        data-filterable
    >
    </oui-datagrid-column>
    <oui-datagrid-column
        data-title="'nutanix_dashboard_nodes_list_status' | translate"
        data-property="serviceStatus"
        data-sortable
        data-type="options"
        data-type-options="$ctrl.stateColumnOptions"
        data-filterable
    >
        <iam-protected-data data-is-hidden=":: $row.isHiddenNode">
            <div class="d-flex align-items-center">
                <service-status status="$row.serviceStatus"></service-status>
                <span
                    data-ng-if="$row.serviceStatus === $ctrl.SERVICE_STATES.SUSPENDED"
                    class="oui-icon oui-icon-help-circle"
                    title="{{ 'nutanix_dashboard_nodes_suspended_tooltip' | translate }}"
                    oui-tooltip
                ></span>
            </div>
        </iam-protected-data>
    </oui-datagrid-column>
    <oui-datagrid-column
        data-title="'nutanix_dashboard_nodes_list_localisation' | translate"
        data-property="datacenter"
    >
        <iam-protected-data data-is-hidden=":: $row.isHiddenNode">
            <datacenter-name datacenter="$row.datacenter"> </datacenter-name>
        </iam-protected-data>
    </oui-datagrid-column>

    <oui-datagrid-column
        data-title="'nutanix_dashboard_nodes_list_os_installed' | translate"
        data-property="status"
    >
        <oui-skeleton data-ng-if="$ctrl.loadingNodesStatus"></oui-skeleton>
        <node-os-datagrid
            data-ng-else
            data-status="$row.status"
            data-service-status="$row.serviceStatus"
            data-power-state="$row.powerState"
            data-os="$row.os"
        ></node-os-datagrid>
    </oui-datagrid-column>
    <oui-datagrid-column
        data-title="'nutanix_dashboard_nodes_list_node_ip' | translate"
        data-property="ahvIp"
        data-sortable
        data-searchable
        data-filterable
    >
        <oui-skeleton data-ng-if="$ctrl.loadingNodesStatus"></oui-skeleton>
        <span data-ng-else data-ng-bind="$row.ahvIp"></span>
    </oui-datagrid-column>
    <oui-datagrid-column
        data-title="'nutanix_dashboard_nodes_list_node_cvm' | translate"
        data-property="cvmIp"
        data-sortable
        data-searchable
        data-filterable
    >
        <oui-skeleton data-ng-if="$ctrl.loadingNodesStatus"></oui-skeleton>
        <span data-ng-else data-ng-bind="$row.cvmIp"></span>
    </oui-datagrid-column>
</oui-datagrid>
