<div class="manager-hub-user-infos">
    <a
        class="manager-hub-user-infos_initials"
        data-ng-class="{
            'manager-hub-user-infos_initials-centered': !$ctrl.isExpanded,
            'float-left': $ctrl.isExpanded
          }"
        data-ng-if="$ctrl.me"
        aria-label="{{:: 'hub_user_account' | translate }}"
        data-ng-bind="$ctrl.getNameInitials()"
        data-ng-href="{{:: $ctrl.userAccountUrl }}"
        data-track-on="click"
        data-track-name="hub::sidebar::profile::go-to-account"
    ></a>
    <p class="oui-chip" data-ng-if="!$ctrl.isExpanded">
        <oui-skeleton
            class="mx-auto"
            data-ng-if="$ctrl.loading"
            data-size="xs"
        ></oui-skeleton>
        <span
            class="manager-hub-user-infos_text-small"
            data-ng-if="$ctrl.supportLevel"
            data-ng-bind="('hub_user_support_level_' + $ctrl.supportLevel.level) | translate"
        ></span>
    </p>
    <p data-ng-if="!$ctrl.me">
        <oui-skeleton class="mx-auto" data-size="s"></oui-skeleton>
    </p>
    <div
        class="manager-hub-user-infos_user-name mb-2"
        data-ng-class="{
         'manager-hub-user-infos_user-name__expanded': $ctrl.isExpanded,
       }"
        data-ng-if="$ctrl.me"
    >
        <button
            type="button"
            role="button"
            class="btn btn-link"
            data-ng-click="$ctrl.isExpanded = !$ctrl.isExpanded"
        >
            <span
                class="manager-hub-user-infos_user-name__login"
                data-ng-bind="$ctrl.getDisplayName()"
            >
            </span>
            <span
                class="oui-icon"
                aria-hidden="true"
                data-ng-class="{
                    'oui-icon-chevron-up': $ctrl.isExpanded,
                    'oui-icon-chevron-down': !$ctrl.isExpanded,
                  }"
            >
            </span>
            <span
                class="sr-only"
                data-ng-if="$ctrl.isExpanded"
                data-translate="hub_user_actions_aria_reduce"
            >
            </span>
            <span
                class="sr-only"
                data-ng-if="!$ctrl.isExpanded"
                data-translate="hub_user_actions_aria_expand"
            >
            </span>
        </button>
        <div>
            <span
                class="manager-hub-user-infos_role oui-status oui-status_warning"
                data-ng-if="!$ctrl.isExpanded && $ctrl.role"
                data-ng-bind=":: ('hub_user_role_' + $ctrl.role) | translate"
            >
            </span>
        </div>
    </div>
    <div data-ng-if="!$ctrl.isExpanded">
        <p data-ng-if="!$ctrl.me">
            <oui-skeleton class="mx-auto" data-size="m"></oui-skeleton>
            <oui-skeleton class="mx-auto" data-size="s"></oui-skeleton>
        </p>
        <p data-ng-if="$ctrl.me">
            <span
                class="d-block manager-hub-user-infos_text-small"
                data-ng-bind="$ctrl.me.email"
            >
            </span>
            <span
                class="d-block manager-hub-user-infos_text-small"
                data-ng-bind="$ctrl.me.nichandle"
            ></span>
        </p>
    </div>
    <div
        class="text-left manager-hub-user-infos_links"
        data-ng-if="$ctrl.isExpanded"
    >
        <hr class="mb-1" />
        <a
            class="btn btn-link"
            data-ng-href="{{:: $ctrl.userAccountUrl }}"
            data-track-on="click"
            data-track-name="hub::sidebar::profile::go-to-account"
        >
            <span data-translate="hub_user_account"></span>
        </a>
        <hr class="my-1" />
        <button
            type="button"
            role="button"
            class="btn btn-link"
            data-ng-click="$ctrl.logout()"
            data-translate="hub_user_logout"
        ></button>
    </div>
</div>
