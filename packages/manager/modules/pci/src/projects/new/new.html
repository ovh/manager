<div class="pci-projects-new h-100">
    <div class="container-fluid h-100">
        <div class="row h-100 justify-content-md-center">
            <div class="col-md-7 p-4 p-md-5 bg-white h-100" style="overflow: auto;">
                <div class="p-0 p-md-5">
                    <!-- progress -->
                    <div class="oui-progress-tracker mx-auto mb-5">
                        <ol class="oui-progress-tracker__steps">
                            <li class="oui-progress-tracker__step"
                                data-ng-repeat="step in $ctrl.steps track by $index"
                                data-ng-class="{
                                    'oui-progress-tracker__step_active': $ctrl.getCurrentStep().name === step.name,
                                    'oui-progress-tracker__step_complete': $ctrl.getCurrentStep().name !== step.name && $ctrl.isStepComplete(step),
                                }">
                                <span class="oui-progress-tracker__status"></span>
                            </li>
                        </ol>
                    </div>

                    <!-- title -->
                    <h1 data-translate="pci_projects_new_title">
                    </h1>

                    <cui-message-container data-messages="$ctrl.messages.list"></cui-message-container>

                    <div data-ui-view
                        data-ng-if="!$ctrl.loading.creating && !$ctrl.loading.addPayment">
                        <pci-project-new-description
                            data-contracts="$ctrl.contracts"
                            data-description-model="$ctrl.getCurrentStep().model"
                            data-new-project-info="$ctrl.newProjectInfo"
                            data-get-current-step="$ctrl.getCurrentStep"
                            data-on-description-step-form-submit="$ctrl.onDescriptionStepFormSubmit">
                        </pci-project-new-description>
                    </div>

                    <div class="text-center"
                        data-ng-if="$ctrl.loading.creating || $ctrl.loading.addPayment">
                        <oui-spinner data-size="l"></oui-spinner>
                    </div>

                    <div class="d-flex flex-row-reverse justify-content-between align-items-center my-3">
                        <button class="oui-button oui-button_primary oui-button_icon-right no-transition"
                                type="submit" form="projectDescriptionForm"
                                data-ng-disabled="$ctrl.isNextButtonDisabled()"
                                data-ng-click="$ctrl.onNextBtnClick()"
                                data-ng-if="$ctrl.isNextButtonVisible()">
                            <span data-ng-bind="$ctrl.getNextButtonText()"></span>
                            <span class="oui-icon oui-icon_circle oui-icon-chevron-right"
                                  aria-hidden="true">
                            </span>
                        </button>

                        <a class="oui-button oui-button_primary oui-button_icon-right no-transition"
                           data-ng-href="{{ $ctrl.getNextLinkHref() }}"
                           data-ng-if="!$ctrl.isNextButtonVisible()">
                            <span data-ng-bind="$ctrl.getNextButtonText()"></span>
                            <span class="oui-icon oui-icon_circle oui-icon-chevron-right"
                                  aria-hidden="true">
                            </span>
                        </a>

                        <a data-ng-href="{{ $ctrl.getStateLink('cancel') }}"
                           data-translate="pci_projects_new_cancel">
                        </a>
                    </div>

                    <p data-ng-if="$ctrl.isCreditAsteriskVisible()">
                        <small data-translate="pci_projects_new_create_credit_asterisk"></small>
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
