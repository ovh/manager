<oui-modal
    data-heading="{{:: 'pci_additional_ips_floatingips_edit' | translate}}"
    data-primary-action="$ctrl.edit()"
    data-primary-label="{{:: 'pci_additional_ips_floatingips_edit_submit_label' | translate }}"
    data-primary-disabled="$ctrl.isLoading || !$ctrl.instance || $ctrl.instance.id === $ctrl.ip.routedTo"
    data-secondary-action="$ctrl.onCancelClick()"
    data-secondary-label="{{:: 'pci_additional_ips_floatingips_edit_cancel_label' | translate }}"
    data-on-dismiss="$ctrl.onCancelClick()"
    data-loading="$ctrl.isLoading"
>
    <div data-ng-if="$ctrl.instance">
        <p
            data-translate="pci_additional_ips_floatingips_edit_description"
            data-translate-values="{ serviceName: $ctrl.ip.ip }"
        ></p>
        <oui-field
            data-label="{{:: 'pci_additional_ips_floatingips_edit_select_instance' | translate }}"
        >
            <oui-select
                name="instance"
                data-model="$ctrl.instance"
                data-placeholder="{{ ::'pci_additional_ips_floatingips_edit_select_instance' | translate }}"
                data-items="$ctrl.instances"
                data-disable-items="!$item.canAttachIPFO()"
                data-on-change="$ctrl.loadPrivateNetworks(modelValue)"
                data-match="name"
                data-required
            >
            </oui-select>
        </oui-field>
        <oui-field
            data-ng-if="$ctrl.privateNetwork"
            data-label="{{:: 'pci_additional_ips_floatingips_edit_select_ip' | translate }}"
        >
            <oui-select
                name="privateNetwork"
                data-placeholder="{{:: 'pci_additional_ips_floatingips_edit_select_ip' | translate }}"
                data-model="$ctrl.privateNetwork"
                data-items="$ctrl.privateNetworks"
                data-match="ip"
                data-required
            >
            </oui-select>
        </oui-field>
        <oui-message
            data-type="warning"
            data-ng-if="$ctrl.instance && !$ctrl.privateNetwork.gatewayIp"
        >
            <p
                data-translate="pci_additional_ips_floatingips_edit_gateway_error"
            ></p>
        </oui-message>
    </div>
    <oui-message data-type="info" data-ng-if="!$ctrl.instance">
        <p
            data-translate="pci_additional_ips_floatingips_edit_gateway_no_instance_error"
        ></p>
    </oui-message>
</oui-modal>
