<div data-ui-view>
    <oui-header
        data-heading="{{:: 'pci_additional_ips_title' | translate }}"
        class="mb-3"
    >
        <oui-guide-menu
            data-text="{{:: 'pci_project_guides_header' | translate }}"
        >
            <oui-guide-menu-item href="{{:: $ctrl.guideUrl }}" data-external>
                <span
                    data-translate="pci_project_guides_header_all_guides"
                ></span>
            </oui-guide-menu-item>
        </oui-guide-menu>
    </oui-header>
    <div>
        <p data-translate="pci_additional_ips_additional_ips_description"></p>
        <pci-maintenance-banner
            data-steins="$ctrl.steins"
            data-customer-regions="$ctrl.customerRegions"
            data-product-regions="$ctrl.additionalIpsRegions"
            data-is-list-page="true"
            data-product-name=":: 'pci_additional_ips_title' | translate"
        ></pci-maintenance-banner>

        <pci-announcement-banner
            data-get-state-name="$ctrl.getStateName()"
            data-on-go-to-region="$ctrl.goToRegion()"
        ></pci-announcement-banner>

        <cui-message-container
            data-messages="$ctrl.messages"
        ></cui-message-container>

        <oui-tabs>
            <oui-tabs-item
                heading="{{:: 'pci_additional_ips_failover_ip_title' | translate}}"
            >
                <oui-datagrid
                    rows="$ctrl.additionalIps"
                    criteria="$ctrl.criteria"
                    on-criteria-change="$ctrl.onListParamChange($criteria)"
                >
                    <oui-datagrid-topbar>
                        <oui-action-menu
                            data-text="{{:: 'pci_additional_ips_actions' | translate }}"
                        >
                            <oui-action-menu-item
                                state="pci.projects.project.additional-ips.imports"
                            >
                                <span
                                    data-translate="pci_additional_ips_import_failover_ip"
                                ></span>
                            </oui-action-menu-item>
                            <oui-action-menu-item
                                data-on-click="$ctrl.goToAdditionalIpOrderPage()"
                            >
                                <span
                                    data-translate="pci_additional_ips_order"
                                ></span>
                            </oui-action-menu-item>
                        </oui-action-menu>
                    </oui-datagrid-topbar>
                    <oui-datagrid-column
                        data-title=":: 'pci_additional_ips_failover_ip_title' | translate"
                        data-property="ip"
                        data-type="string"
                        data-searchable
                        data-filterable
                    >
                    </oui-datagrid-column>
                    <oui-datagrid-column
                        data-title=":: 'pci_additional_ips_ip_block' | translate"
                        data-property="block"
                        data-type="string"
                        data-searchable
                        data-filterable
                    >
                    </oui-datagrid-column>
                    <oui-datagrid-column
                        data-title=":: 'pci_additional_ips_geoloc' | translate"
                        data-property="geoloc"
                        data-type="string"
                    >
                        <span
                            data-ng-bind="'pci_additional_ips_country_' + $row.geoloc | translate"
                        ></span>
                    </oui-datagrid-column>
                    <oui-datagrid-column
                        data-title=":: 'pci_additional_ips_id' | translate"
                        data-property="id"
                        data-type="string"
                    >
                    </oui-datagrid-column>
                    <oui-datagrid-column
                        data-title=":: 'pci_additional_ips_routedTo' | translate"
                        data-property="instance.name"
                        data-type="string"
                        data-searchable
                        data-filterable
                    >
                        <a
                            data-ng-if="$row.instance"
                            data-ui-sref="pci.projects.project.instances.instance({projectId : $ctrl.projectId, instanceId: $row.instance.id})"
                            data-ng-bind="$row.instance.name"
                        ></a>
                    </oui-datagrid-column>
                    <oui-action-menu data-compact data-placement="end">
                        <oui-action-menu-item
                            data-ui-sref="pci.projects.project.additional-ips.edit({ projectId: $ctrl.projectId, serviceName: $row.id })"
                        >
                            <span
                                data-translate="pci_additional_ips_update_instance"
                            ></span>
                        </oui-action-menu-item>
                        <oui-action-menu-item
                            data-href="{{:: $ctrl.FAILOVER_IPS_URL }}"
                        >
                            <span
                                data-translate="pci_additional_ips_manage_network_security"
                            ></span>
                        </oui-action-menu-item>
                        <oui-action-menu-item
                            data-href="{{:: $ctrl.FAILOVER_IPS_URL }}"
                        >
                            <span
                                data-translate="pci_additional_ips_manage_ip_failover_service"
                            ></span>
                        </oui-action-menu-item>
                    </oui-action-menu>
                </oui-datagrid>
            </oui-tabs-item>
        </oui-tabs>
    </div>
</div>
