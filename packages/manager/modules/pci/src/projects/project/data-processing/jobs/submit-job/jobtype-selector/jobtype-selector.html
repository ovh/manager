<div class="row">
    <oui-select-picker
        data-ng-repeat="item in $ctrl.availableEngines"
        class="d-inline-block col-md-6 col-xl-4 my-3"
        data-name="jobType"
        data-match="description"
        data-on-change="$ctrl.onChange(modelValue)"
        data-model="$ctrl.jobEngine"
        data-values="[item]"
        data-label="{{ item.name }}"
        data-description="{{ 'data_processing_submit_job_' + item.name.toLowerCase() + '_description' | translate }}"
        data-variant="light"
    >
        <oui-select-picker-section>
            <oui-select
                data-items="item.versions"
                data-match="version"
                data-model="item.selectedVersion"
                data-on-change="$ctrl.onChange(item, modelValue)"
            >
                <div>
                    <span data-ng-bind="$item.version"></span>
                    <span
                        class="oui-badge oui-badge_s oui-badge_warning"
                        data-ng-if="$item.status === $ctrl.$scope.$parent.$ctrl.VERSION_STATUS.SOON_DEPRECATED"
                        data-translate="data_processing_submit_job_soon_deprecated"
                    ></span>
                    <span
                        class="oui-badge oui-badge_s oui-badge_warning"
                        data-ng-if="$item.status === $ctrl.$scope.$parent.$ctrl.VERSION_STATUS.DEPRECATED"
                        data-translate="data_processing_submit_job_deprecated"
                    ></span>
                </div>
            </oui-select>
        </oui-select-picker-section>
    </oui-select-picker>
</div>
