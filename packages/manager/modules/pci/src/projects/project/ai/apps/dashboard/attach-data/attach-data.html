<div data-ui-view>
    <!--Banner messages-->
    <div class="mt-0">
        <cui-message-container
            data-messages="$ctrl.messages"
        ></cui-message-container>
    </div>

    <!--Attach data section-->
    <div>
        <!--Title and description-->
        <div class="oui-box oui-box_light mb-4 p-0 border-0">
            <h4
                class="oui-box__heading"
                data-translate="pci_apps_tab_attach_data_page_title"
            ></h4>
            <span
                data-translate="pci_apps_tab_attach_data_page_description"
            ></span>
            <a
                data-ng-href="{{::$ctrl.app.attachDataInfoLink}}"
                target="_blank"
                rel="noopener"
            >
                <span
                    data-translate="pci_apps_tab_attach_data_page_description_link"
                ></span>
                <span
                    class="oui-icon oui-icon-external-link"
                    aria-hidden="true"
                ></span>
            </a>
        </div>

        <!--Table-->
        <oui-datagrid
            rows="$ctrl.dataStoreVolumes"
            page-size="::$ctrl.DATAGRID_MAX_ITEMS_PER_PAGE"
        >
            <oui-datagrid-column
                title=":: 'pci_apps_tab_attach_data_page_volumes_column_type_swift' | translate"
                sortable="true"
            >
                <span data-ng-bind="$row.dataStore.container"></span>
            </oui-datagrid-column>
            <oui-datagrid-column
                title=":: 'pci_apps_tab_attach_data_page_volumes_column_prefix' | translate"
                sortable="true"
            >
                <span data-ng-bind="$row.dataStore.prefix"></span>
            </oui-datagrid-column>
            <oui-datagrid-column
                title=":: 'pci_apps_tab_attach_data_page_volumes_column_region' | translate"
                sortable="true"
            >
                <span data-ng-bind="$row.dataStore.alias"></span>
            </oui-datagrid-column>
            <oui-datagrid-column
                title=":: 'pci_apps_tab_attach_data_page_volumes_column_mount_path' | translate"
            >
                <oui-clipboard model="$row.mountPath"></oui-clipboard>
            </oui-datagrid-column>
            <oui-datagrid-column
                title=":: 'pci_app_data_permission' | translate"
                sortable="true"
                property="permission"
            >
                <span
                    data-ng-bind=":: 'pci_app_permission_' + $row.permission | translate"
                ></span>
            </oui-datagrid-column>
            <oui-datagrid-column
                title=":: 'pci_app_data_cache' | translate"
                sortable="true"
            >
                <span data-ng-bind="$row.cache"></span>
            </oui-datagrid-column>
            <oui-action-menu data-compact data-placement="left-start">
                <oui-action-menu-item
                    data-on-click="$ctrl.manualDataSync($row)"
                >
                    <span
                        data-translate="pci_apps_tab_attach_data_sync_data"
                    ></span>
                </oui-action-menu-item>
            </oui-action-menu>
            <oui-datagrid-topbar>
                <oui-button
                    data-variant="primary"
                    data-on-click="$ctrl.manualDataSync()"
                >
                    <span
                        data-translate="pci_apps_tab_attach_data_sync_all_data"
                    ></span>
                </oui-button>
            </oui-datagrid-topbar>
        </oui-datagrid>

        <!--Title and description-->
        <h4
            class="oui-box__heading"
            data-translate="pci_apps_tab_attach_data_page_title_git"
        ></h4>
        <!--Table-->
        <oui-datagrid
            rows="$ctrl.publicGitVolumes"
            empty-placeholder="{{:: 'pci_apps_tab_attach_data_page_volumes_git_none' | translate }}"
            page-size="::$ctrl.DATAGRID_MAX_ITEMS_PER_PAGE"
        >
            <oui-datagrid-column
                title=":: 'pci_apps_tab_attach_data_page_volumes_column_git_url' | translate"
                sortable="true"
            >
                <span data-ng-bind="$row.publicGit.url"></span>
            </oui-datagrid-column>
            <oui-datagrid-column
                title=":: 'pci_apps_tab_attach_data_page_volumes_column_mount_path' | translate"
            >
                <oui-clipboard model="$row.mountPath"></oui-clipboard>
            </oui-datagrid-column>
            <oui-datagrid-column
                title=":: 'pci_app_data_permission' | translate"
                sortable="true"
                property="permission"
            >
                <span
                    data-ng-bind=":: 'pci_app_permission_' + $row.permission | translate"
                ></span>
            </oui-datagrid-column>
            <oui-datagrid-column
                title=":: 'pci_app_data_cache' | translate"
                sortable="true"
            >
                <span data-ng-bind="$row.cache"></span>
            </oui-datagrid-column>
        </oui-datagrid>
    </div>
</div>
