<div data-ui-view>
    <oui-header
        data-heading="{{:: 'pci_projects_project_serving_title' | translate }}"
        class="mb-3"
    ></oui-header>

    <pci-maintenance-banner
        data-steins="$ctrl.steins"
        data-customer-regions="$ctrl.customerRegions"
        data-product-regions="$ctrl.namespacesRegions"
        data-is-list-page="true"
        data-product-name=":: 'pci_projects_project_serving_title' | translate"
    ></pci-maintenance-banner>

    <cui-message-container
        data-messages="$ctrl.messages"
    ></cui-message-container>

    <oui-datagrid
        data-rows="$ctrl.namespaces"
        data-row-loader="$row"
        criteria="$ctrl.criteria"
        on-criteria-change="$ctrl.onListParamChange($criteria)"
    >
        <oui-datagrid-column
            title=":: 'pci_projects_project_serving_description_label' | translate"
            data-property="description"
            data-type="string"
            data-searchable
            data-filterable
            data-sortable="asc"
        >
            <a
                data-ng-href="{{:: $ctrl.namespaceLink($row) }}"
                data-ng-bind="$value"
                target="_top"
            ></a>
        </oui-datagrid-column>
        <oui-datagrid-column
            title=":: 'pci_projects_project_serving_id_label' | translate"
            data-property="id"
            data-type="string"
            data-filterable
            data-sortable
        >
        </oui-datagrid-column>

        <oui-datagrid-column
            data-title=":: 'pci_projects_project_serving_region_label' | translate"
            data-property="region"
            data-type="string"
            data-searchable
            data-filterable
            data-sortable="asc"
        >
            <span data-ng-bind="$value"></span>
        </oui-datagrid-column>

        <oui-datagrid-column
            data-title=":: 'pci_projects_project_serving_container_label' | translate"
            data-property="container"
            data-type="string"
            data-searchable
            data-filterable
            data-sortable="asc"
        >
            <span data-ng-bind="$value"></span>
        </oui-datagrid-column>

        <oui-action-menu data-compact data-placement="left-start">
            <oui-action-menu-item data-on-click="$ctrl.viewNamespace($row)">
                <span
                    data-translate="pci_projects_project_serving_view_label"
                ></span>
            </oui-action-menu-item>
            <oui-action-menu-item data-on-click="$ctrl.listModels($row)">
                <span
                    data-translate="pci_projects_project_serving_list_models_label"
                ></span>
            </oui-action-menu-item>
            <oui-action-menu-item data-on-click="$ctrl.deployModel($row)">
                <span
                    data-translate="pci_projects_project_serving_deploy_model_label"
                ></span>
            </oui-action-menu-item>
            <oui-action-menu-item data-on-click="$ctrl.deleteNamespace($row)">
                <span
                    data-translate="pci_projects_project_serving_delete_label"
                ></span>
            </oui-action-menu-item>
        </oui-action-menu>

        <oui-datagrid-topbar>
            <a
                data-ng-href="{{ $ctrl.addNamespaceLink }}"
                class="oui-button oui-button_secondary oui-button_icon-left"
                data-track-on="click"
                data-track-name="public-cloud::pci::projects::project::serving::add-namespace"
                data-track-type="action"
                target="_top"
            >
                <span
                    class="oui-icon oui-icon-add pr-1"
                    aria-hidden="true"
                ></span>
                <span
                    data-translate="pci_projects_project_serving_add_label"
                ></span>
            </a>
        </oui-datagrid-topbar>
    </oui-datagrid>
</div>
