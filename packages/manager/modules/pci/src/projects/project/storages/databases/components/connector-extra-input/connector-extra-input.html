<div class="oui-field__control">
    <div class="oui-inline-adder mb-2">
        <div
            class="oui-inline-adder__form"
            data-ng-class="{ 'oui-inline-adder__form_added': $ctrl.extraConfig[$index].added }"
            data-ng-repeat="extra in $ctrl.extraConfig track by $index"
        >
            <fieldset class="oui-inline-adder__fieldset">
                <legend class="d-none" aria-hidden="true">
                    Add a new configuration
                </legend>
                <div class="oui-inline-adder__row">
                    <div class="oui-inline-adder__field">
                        <oui-field label="Configuration key">
                            <input
                                class="oui-input"
                                data-ng-attr-name="extra-key-{{$index}}"
                                data-ng-attr-id="extra-key-{{$index}}"
                                type="text"
                                data-ng-model="$ctrl.extraConfig[$index].key"
                                required="true"
                                data-ng-disabled="$ctrl.extraConfig[$index].added"
                            />
                        </oui-field>
                    </div>
                    <div class="oui-inline-adder__field">
                        <oui-field label="Value">
                            <input
                                class="oui-input"
                                data-ng-attr-name="extra-value-{{$index}}"
                                data-ng-attr-id="extra-value-{{$index}}"
                                type="text"
                                data-ng-model="$ctrl.extraConfig[$index].value"
                                required="true"
                                data-ng-disabled="$ctrl.extraConfig[$index].added"
                            />
                        </oui-field>
                    </div>
                </div>
            </fieldset>
            <footer class="oui-inline-adder__footer">
                <button
                    type="button"
                    class="oui-inline-adder__action oui-button oui-button_primary oui-button_s"
                    data-ng-click="$ctrl.onAddExtra($index)"
                    data-ng-if="!$ctrl.extraConfig[$index].added"
                    data-ng-disabled="!$ctrl.extraConfig[$index].key || !$ctrl.extraConfig[$index].value"
                >
                    <span class="oui-icon oui-icon-add"></span>
                </button>
                <button
                    type="button"
                    class="oui-inline-adder__action oui-button oui-button_primary oui-button_s"
                    data-ng-click="$ctrl.onRemoveExtra($index)"
                    data-ng-if="$ctrl.extraConfig[$index].added"
                >
                    <span class="oui-icon oui-icon-trash"></span>
                </button>
            </footer>
        </div>
    </div>
</div>
