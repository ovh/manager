<oui-modal
    data-ng-form="editNamespaceForm"
    data-on-dismiss="$ctrl.cancel()"
    data-primary-label="{{:: 'pci_databases_namespaces_edit_button_label' | translate}}"
    data-primary-disabled="editNamespaceForm.$invalid"
    data-primary-action="$ctrl.edit()"
    data-secondary-action="$ctrl.cancel()"
    data-secondary-label="{{:: 'pci_databases_namespaces_edit_cancel_button_label' | translate}}"
    data-loading="$ctrl.processing"
    data-heading="{{:: 'pci_databases_namespaces_edit_title' | translate}}"
>
    <div class="row">
        <div class="col">
            <oui-field>
                <label class="oui-field__label">
                    <span
                        data-translate="{{:: 'pci_databases_namespaces_edit_name_label' | translate }}"
                    ></span>
                    <small class="text-danger">*</small>
                </label>
                <input
                    class="oui-input"
                    type="text"
                    id="namespace_name"
                    name="namespace_name"
                    ng-model="$ctrl.model.name"
                    ng-pattern="$ctrl.FORM_RULES.name.pattern"
                    ng-maxlength="$ctrl.FORM_RULES.name.max"
                    ng-minlength="$ctrl.FORM_RULES.name.min"
                    placeholder="{{:: 'pci_databases_namespaces_edit_name_placeholder' | translate }}"
                    disabled
                    required
                />
            </oui-field>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <oui-field>
                <label class="oui-field__label">
                    <span
                        data-translate="{{:: 'pci_databases_namespaces_edit_type_label' | translate }}"
                    ></span>
                    <small class="text-danger">*</small>
                </label>
                <button
                    type="button"
                    class="oui-popover-button"
                    aria-label="Help"
                    oui-popover="{{:: 'pci_databases_namespaces_edit_type_popover' | translate }}"
                    oui-popover-id="popover-name"
                    oui-popover-placement="right"
                ></button>
                <oui-radio-group model="$ctrl.model.type">
                    <oui-radio
                        inline
                        value="$ctrl.NAMESPACES_TYPES.AGGREGATED"
                        disabled
                    >
                        <span>Aggregated</span>
                    </oui-radio>
                    <oui-radio
                        inline
                        value="$ctrl.NAMESPACES_TYPES.UNAGGREGATED"
                        disabled
                    >
                        <span>Unaggregated</span>
                    </oui-radio>
                </oui-radio-group>
            </oui-field>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <oui-field>
                <label class="oui-field__label">
                    <span
                        data-translate="{{:: 'pci_databases_namespaces_edit_retention_period_duration_label' | translate }}"
                    ></span>
                    <small class="text-danger">*</small>
                </label>
                <button
                    type="button"
                    class="oui-popover-button"
                    aria-label="Help"
                    oui-popover="{{:: 'pci_databases_namespaces_edit_retention_period_duration_popover' | translate }}"
                    oui-popover-id="popover-name"
                    oui-popover-placement="right"
                ></button>
                <input
                    class="oui-input"
                    type="text"
                    id="retention_period"
                    name="retention_period"
                    placeholder="{{:: 'pci_databases_namespaces_edit_retention_period_duration_placeholder' | translate }}"
                    ng-model="$ctrl.model.retention.periodDuration"
                    ng-model-options="{allowInvalid: true}"
                    ng-pattern="$ctrl.FORM_RULES.periodDuration.pattern"
                    ng-maxlength="$ctrl.FORM_RULES.periodDuration.max"
                    required
                />
            </oui-field>
        </div>
        <div
            class="col"
            ng-if="$ctrl.model.type === $ctrl.NAMESPACES_TYPES.AGGREGATED"
        >
            <oui-field>
                <label class="oui-field__label">
                    <span
                        data-translate="{{:: 'pci_databases_namespaces_edit_resolution_label' | translate }}"
                    ></span>
                    <small class="text-danger">*</small>
                </label>
                <button
                    type="button"
                    class="oui-popover-button"
                    aria-label="Help"
                    oui-popover="{{:: 'pci_databases_namespaces_edit_resolution_popover' | translate }}"
                    oui-popover-id="popover-name"
                    oui-popover-placement="right"
                ></button>
                <input
                    class="oui-input"
                    type="text"
                    id="resolution_period"
                    name="resolution_period"
                    placeholder="{{:: 'pci_databases_namespaces_edit_resolution_placeholder' | translate }}"
                    ng-model="$ctrl.model.resolution"
                    ng-model-options="{allowInvalid: true}"
                    ng-pattern="$ctrl.FORM_RULES.resolution.pattern"
                    ng-maxlength="$ctrl.FORM_RULES.resolution.max"
                    required
                />
            </oui-field>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <oui-collapsible
                class="overflow-collapsible"
                heading="{{:: 'pci_databases_namespaces_edit_advanced_label' | translate }}"
            >
                <div class="row">
                    <div class="col">
                        <oui-field
                            data-label="writesToCommitLogEnabled"
                            label-popover="{{:: 'pci_databases_namespaces_edit_writes_commitlog_popover' | translate }}"
                        >
                            <label class="oui-select">
                                <select
                                    class="oui-select__input"
                                    name="writesCommitlog"
                                    id="writesCommitlog"
                                    data-ng-model="$ctrl.model.writesToCommitLogEnabled"
                                >
                                    <option ng-value="{{true}}">True</option>
                                    <option ng-value="{{false}}">False</option>
                                </select>
                                <span
                                    class="oui-icon oui-icon-chevron-down"
                                    aria-hidden="true"
                                ></span>
                            </label>
                        </oui-field>
                    </div>
                    <div class="col">
                        <oui-field
                            data-label="snapshotEnabled"
                            label-popover="{{:: 'pci_databases_namespaces_edit_snaphot_enabled_popover' | translate }}"
                        >
                            <label class="oui-select">
                                <select
                                    class="oui-select__input"
                                    name="snapshotEnabled"
                                    id="snapshotEnabled"
                                    data-ng-model="$ctrl.model.snapshotEnabled"
                                >
                                    <option ng-value="{{true}}">True</option>
                                    <option ng-value="{{false}}">False</option>
                                </select>
                                <span
                                    class="oui-icon oui-icon-chevron-down"
                                    aria-hidden="true"
                                ></span>
                            </label>
                        </oui-field>
                    </div>
                    <div class="col">
                        <oui-field
                            data-label="retention.blockSizeDuration"
                            label-popover="{{:: 'pci_databases_namespaces_edit_blocksize_duration_popover' | translate }}"
                        >
                            <input
                                ng-model="$ctrl.model.retention.blockSizeDuration"
                                class="oui-input"
                                type="text"
                                id="blocksize_duration"
                                name="blocksize_duration"
                                placeholder="{{:: 'pci_databases_namespaces_edit_blocksize_duration_placeholder' | translate }}"
                                ng-model-options="{allowInvalid: true}"
                                ng-pattern="$ctrl.FORM_RULES.blockSizeDuration.pattern"
                                ng-maxlength="$ctrl.FORM_RULES.blockSizeDuration.max"
                            />
                        </oui-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <oui-field
                            data-label="retention.bufferPastDuration"
                            label-popover="{{:: 'pci_databases_namespaces_edit_buffer_past_duration_popover' | translate }}"
                        >
                            <input
                                ng-model="$ctrl.model.retention.bufferPastDuration"
                                class="oui-input"
                                type="text"
                                id="buffer_past_duration"
                                name="buffer_past_duration"
                                placeholder="{{:: 'pci_databases_namespaces_edit_buffer_past_duration_placeholder' | translate }}"
                                ng-model-options="{allowInvalid: true}"
                                ng-pattern="$ctrl.FORM_RULES.bufferPastDuration.pattern"
                                ng-maxlength="$ctrl.FORM_RULES.bufferPastDuration.max"
                            />
                        </oui-field>
                    </div>
                    <div class="col">
                        <oui-field
                            data-label="retention.bufferFutureDuration"
                            label-popover="{{:: 'pci_databases_namespaces_edit_buffer_future_duration_popover' | translate }}"
                        >
                            <input
                                ng-model="$ctrl.model.retention.bufferFutureDuration"
                                class="oui-input"
                                type="text"
                                id="buffer_future_duration"
                                name="buffer_future_duration"
                                placeholder="{{:: 'pci_databases_namespaces_edit_buffer_future_duration_placeholder' | translate }}"
                                ng-model-options="{allowInvalid: true}"
                                ng-pattern="$ctrl.FORM_RULES.bufferFutureDuration.pattern"
                                ng-maxlength="$ctrl.FORM_RULES.bufferFutureDuration.max"
                            />
                        </oui-field>
                    </div>
                    <div class="col">
                        <oui-field
                            data-label="retention.blockDataExpirationDuration"
                            label-popover="{{:: 'pci_databases_namespaces_edit_block_data_expiry_duration_popover' | translate }}"
                        >
                            <input
                                ng-model="$ctrl.model.retention.blockDataExpirationDuration"
                                class="oui-input"
                                type="text"
                                id="block_data_expiry_duration"
                                name="block_data_expiry_duration"
                                placeholder="{{:: 'pci_databases_namespaces_edit_block_data_expiry_duration_placeholder' | translate }}"
                                ng-model-options="{allowInvalid: true}"
                                ng-pattern="$ctrl.FORM_RULES.blockDataExpirationDuration.pattern"
                                ng-maxlength="$ctrl.FORM_RULES.blockDataExpirationDuration.max"
                            />
                        </oui-field>
                    </div>
                </div>
            </oui-collapsible>
            <p>
                <small class="text-danger">*</small>
                <small
                    data-translate="pci_databases_namespaces_edit_required_fields"
                ></small>
            </p>
        </div>
    </div>
</oui-modal>
