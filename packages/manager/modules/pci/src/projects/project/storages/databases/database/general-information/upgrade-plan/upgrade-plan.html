<oui-back-button
    data-previous-page="{{:: 'pci_databases_general_information_upgrade_plan_back' | translate }}"
    data-on-click="$ctrl.goBack()"
>
    <span
        data-translate="pci_databases_general_information_upgrade_plan"
    ></span>
</oui-back-button>
<oui-message type="warning">
    <span
        data-translate="pci_databases_general_information_upgrade_plan_warning"
    ></span>
</oui-message>
<p
    data-translate="pci_databases_general_information_upgrade_plan_description"
></p>
<database-plans-list
    data-current-plan="$ctrl.currentPlan"
    data-on-change="$ctrl.onPlanSelect(selectedPlan)"
    data-plans="$ctrl.plans"
    data-selected-plan="$ctrl.selectedPlan"
    data-user="$ctrl.user"
></database-plans-list>
<div ng-if="$ctrl.showFlavors">
    <p
        data-translate="pci_databases_general_information_upgrade_plan_select_flavor"
        data-translate-values="{flavor: $ctrl.database.flavor, plan: $ctrl.selectedPlan.name}"
    ></p>
    <database-flavors-list
        data-on-change="$ctrl.onFlavorSelect(selectedFlavor)"
        data-flavors="$ctrl.possibleFlavors"
        data-selected-flavor="$ctrl.selectedFlavor"
        data-user="$ctrl.user"
    ></database-flavors-list>
</div>
<div data-ng-if="$ctrl.upgradingPlan">
    <oui-spinner data-size="s"></oui-spinner>
    <span
        data-translate="pci_databases_general_information_upgrade_plan_processing"
    ></span>
</div>
<oui-form-actions
    class="mb-4"
    data-ng-if="!$ctrl.upgradingPlan"
    data-submit-text="{{:: 'pci_databases_general_information_upgrade_plan_confirm' | translate }}"
    data-cancel-text="{{:: 'pci_databases_general_information_upgrade_plan_cancel' | translate }}"
    data-on-submit="$ctrl.upgradePlan()"
    data-on-cancel="$ctrl.cancel()"
    data-disabled="!$ctrl.selectedPlan || $ctrl.selectedPlan === $ctrl.currentPlan"
>
</oui-form-actions>
