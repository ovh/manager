<oui-modal
    data-heading="{{ 'pci_projects_project_storages_cold_archive_containers_container_archive_title' | translate }}"
    data-primary-action="$ctrl.archiveContainer()"
    data-primary-label="{{:: 'pci_projects_project_storages_cold_archive_containers_container_archive_submit_label' | translate }}"
    data-primary-disabled="$ctrl.isLoading  || $ctrl.hasRetention && !$ctrl.lockedUntilDays"
    data-secondary-action="$ctrl.cancel()"
    data-on-dismiss="$ctrl.cancel()"
    data-secondary-label="{{:: 'pci_projects_project_storages_cold_archive_containers_container_archive_cancel_label' | translate }}"
    data-loading="$ctrl.isLoading"
>
    <div
        data-translate="pci_projects_project_storages_cold_archive_containers_container_archive_description"
        data-translate-values="{ 'containerName': '<strong>' + $ctrl.container.name + '</strong>'}"
    ></div>
    <p
        data-translate="pci_projects_project_storages_cold_archive_containers_container_archive_description_2"
    ></p>

    <form novalidate name="form">
        <oui-radio-group data-model="$ctrl.hasRetention" class="mb-3">
            <oui-radio data-value="true" class="mb-3">
                <span
                    data-translate="pci_projects_project_storages_cold_archive_containers_container_archive_has_retention"
                ></span>
            </oui-radio>

            <div class="ml-4" data-ng-if="$ctrl.hasRetention">
                <oui-field
                    data-label="{{ 'pci_projects_project_storages_cold_archive_containers_container_archive_retention_days' | translate }}"
                >
                    <oui-numeric
                        id="lockedUntilDays"
                        data-name="number"
                        data-min="1"
                        data-max="4500"
                        data-model="$ctrl.lockedUntilDays"
                        data-on-change="$ctrl.onLockedUntilDaysChange(modelValue)"
                        class="mb-3"
                    >
                    </oui-numeric>
                </oui-field>

                <oui-message data-type="warning">
                    <div
                        class="d-flex flex-row justify-content-between align-items-center"
                    >
                        <div class="mr-1 mb-1">
                            <div
                                data-translate="pci_projects_project_storages_cold_archive_containers_container_retention_warning"
                                data-translate-values="{ date: ($ctrl.retentionDate | date:'shortDate') }"
                            ></div>
                            <div
                                data-translate="pci_projects_project_storages_cold_archive_containers_container_retention_warning_2"
                            ></div>
                        </div>
                    </div>
                </oui-message>
            </div>

            <oui-radio data-value="false" class="mb-3">
                <span
                    data-translate="pci_projects_project_storages_cold_archive_containers_container_archive_has_no_retention"
                ></span>
            </oui-radio>
        </oui-radio-group>
    </form>
</oui-modal>
