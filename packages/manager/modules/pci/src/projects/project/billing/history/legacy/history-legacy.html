<cui-message-container data-messages="$ctrl.messages"></cui-message-container>
<div class="row">
    <div class="col-xs-2 col-md-4">
        <button
            type="button"
            class="oui-button oui-button_icon-left oui-button_ghost"
            data-ng-click="$ctrl.previousMonth()"
        >
            <i class="oui-icon oui-icon-chevron-left" aria-hidden="true"></i>
            <span data-translate="cpbh_previous_month"></span>
        </button>
    </div>
    <div class="col-xs-8 col-md-4">
        <div class="active">
            <h4
                class="text-center"
                data-translate="cpbh_current_month"
                data-translate-values="$ctrl.getBillingDateInfo()"
            ></h4>
        </div>
    </div>
    <div class="col-xs-2 col-md-4 text-right">
        <button
            type="button"
            class="oui-button oui-button_icon-right oui-button_ghost"
            data-ng-click="$ctrl.nextMonth()"
            data-ng-disabled="$ctrl.isLimitReached()"
        >
            <span data-translate="cpbh_next_month"></span>
            <i class="oui-icon oui-icon-chevron-right" aria-hidden="true"></i>
        </button>
    </div>
</div>
<div>
    <div class="text-center" data-ng-if="$ctrl.loading">
        <oui-spinner></oui-spinner>
    </div>
    <div data-ng-if="!$ctrl.loading">
        <div class="bg-light border my-4 p-4">
            <div data-ng-if="$ctrl.data.details.totals">
                <span
                    data-ng-bind="$ctrl.data.details.totals.total.toFixed(2)"
                ></span
                >&nbsp;
                <span
                    data-ng-bind="$ctrl.data.details.totals.currencySymbol"
                ></span>
            </div>
            <a data-ng-href="{{ $ctrl.currentMonthlyBillingBill.pdfUrl }}">
                <span
                    data-ng-if="$ctrl.currentMonthlyBillingBill"
                    data-translate="cpbhd_bill_pdf_link"
                    data-translate-values="$ctrl.getBillingDateInfo()"
                ></span>
                <i
                    data-ng-if="$ctrl.currentMonthlyBillingBill"
                    class="fa fa-file-pdf-o"
                    title="{{ :: 'cpbhd_bill_pdf_tooltip' | translate }}"
                ></i>
            </a>
            <a
                data-ng-href="{{ $ctrl.billingUrl }}"
                data-translate="cpbhd_bill_link"
            ></a>
        </div>
        <div class="row">
            <div class="col-lg-6">
                <oui-tile>
                    <span
                        class="oui-heading_4 oui-tile__title"
                        data-translate="cpbhd_hourly_header"
                        data-translate-values="$ctrl.getBillingDateInfo()"
                    ></span>
                    <monthly-resource-list
                        resources="$ctrl.data.details"
                    ></monthly-resource-list>
                </oui-tile>
            </div>
            <div class="col-lg-6">
                <oui-tile>
                    <span
                        class="oui-heading_4 oui-tile__title"
                        data-translate="cpbhd_hourly_header"
                        data-translate-values="$ctrl.getBillingDateInfo()"
                    ></span>
                    <hourly-resource-list
                        resources="$ctrl.data.details"
                        show-additional-instance-details="true"
                    ></hourly-resource-list>
                </oui-tile>
            </div>
        </div>
    </div>
</div>
