<oui-modal
    data-primary-action="$ctrl.closeModal()"
    data-primary-label="{{ ::'analytics_data_platform_deploy_quota_error_model_button_increase_quota' | translate }}"
    data-secondary-action="$ctrl.dismissModal()"
    data-on-dismiss="$ctrl.dismissModal()"
    data-secondary-label="{{ ::'analytics_data_platform_common_close' | translate }}"
    data-type="error"
    data-ng-init="localizedStorageUnit = ('analytics_data_platform_common_unit_gb' | translate)"
    data-heading="{{ ::'analytics_data_platform_deploy_quota_error_model_title' | translate }}"
>
    <p
        data-translate="analytics_data_platform_deploy_quota_error_model_description"
        data-translate-values="{cloud_name: $ctrl.publicCloudName}"
    ></p>
    <div
        class="oui-datagrid-responsive-container_sticky-checkbox analytics-data-platform-quota-info oui-datagrid-responsive"
    >
        <div
            class="oui-datagrid-responsive-container__sticky-container
                oui-datagrid-responsive-container__sticky-container_scroll-end
                analytics-data-platform-quota-info-container"
        >
            <div class="oui-datagrid-responsive-container__overflow-container">
                <table class="oui-datagrid">
                    <thead class="oui-datagrid__headers">
                        <tr>
                            <th class="oui-datagrid__header text-center"></th>
                            <th
                                class="oui-datagrid__header text-center"
                                tabindex="0"
                                data-translate="analytics_data_platform_deploy_quota_used"
                            ></th>
                            <th
                                class="oui-datagrid__header text-center"
                                tabindex="0"
                                data-translate="analytics_data_platform_deploy_quota_required_for_cluster"
                            ></th>
                            <th
                                class="oui-datagrid__header text-center"
                                tabindex="0"
                                data-translate="analytics_data_platform_deploy_quota_available"
                            ></th>
                            <th
                                class="oui-datagrid__header text-center"
                                tabindex="0"
                                data-translate="analytics_data_platform_deploy_quota_total_required"
                            ></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr
                            class="oui-datagrid__row"
                            data-ng-repeat="compute in $ctrl.quotas track by compute.computeName"
                        >
                            <td class="oui-datagrid__cell text-center">
                                <span data-ng-bind="compute.computeName"></span>
                            </td>
                            <td class="oui-datagrid__cell text-center">
                                <span
                                    data-ng-bind="compute.unit ? compute.currentlyUsed + ' ' + localizedStorageUnit : compute.currentlyUsed"
                                ></span>
                            </td>
                            <td class="oui-datagrid__cell text-center">
                                <span
                                    data-ng-bind="compute.unit ? compute.requiredForCluster + ' ' + localizedStorageUnit : compute.requiredForCluster"
                                ></span>
                            </td>
                            <td class="oui-datagrid__cell text-center">
                                <span
                                    data-ng-bind="compute.unit ? compute.maxLimit + ' ' + localizedStorageUnit : compute.maxLimit"
                                ></span>
                            </td>
                            <td class="oui-datagrid__cell text-center">
                                <span
                                    data-ng-class="['oui-status', {'oui-status_success': compute.maxLimit >= compute.required}, {'oui-status_error': compute.maxLimit < compute.required} ]"
                                    data-ng-bind="compute.unit ? compute.required + ' ' + localizedStorageUnit : compute.required"
                                >
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <p
        class="pt-2"
        data-translate="analytics_data_platform_deploy_quota_error_model_info"
        data-translate-values="{cloud_name: $ctrl.publicCloudName}"
    ></p>
</oui-modal>
