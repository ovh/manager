<oui-modal
    data-heading="{{:: 'pci_ai_dashboard_create_token_header' | translate}}"
    data-ng-form="createToken"
    data-on-dismiss="$ctrl.closeModal()"
    data-primary-label="{{:: 'pci_ai_dashboard_create_token_common_add' | translate}}"
    data-primary-disabled="createToken.$invalid"
    data-primary-action="$ctrl.addToken()"
    data-secondary-label="{{:: 'pci_ai_dashboard_create_token_common_cancel' | translate}}"
    data-secondary-action="$ctrl.closeModal()"
    data-loading="$ctrl.processing"
>
    <oui-field
        data-label="{{:: 'pci_ai_dashboard_create_token_name' | translate }}"
        data-size="auto"
    >
        <input
            class="oui-input"
            type="text"
            id="name"
            name="name"
            required
            maxlength="100"
            data-ng-model="$ctrl.model.name"
            data-ng-pattern="/^[\w]+/"
        />
    </oui-field>

    <p data-translate="pci_ai_dashboard_create_token_add_info_1"></p>
    <p>
        <span data-translate="pci_ai_dashboard_create_token_add_info_2"></span>
        <code>label=valeur</code><code>id=uuid</code><code>type=app</code>
    </p>
    <p
        data-translate="pci_ai_dashboard_create_token_add_info_3"
        data-translate-values="{
        label1: '<code>id</code>',
        label2: '<code>type</code>'
    }"
    ></p>

    <oui-field
        data-label="{{:: 'pci_ai_dashboard_create_token_label_selector' | translate }}"
        data-error-messages="{ pattern: ('pci_ai_dashboard_create_token_label_selector_validation_error' | translate) }"
        data-size="auto"
    >
        <input
            class="oui-input"
            type="text"
            id="labelSelector"
            name="labelSelector"
            maxlength="100"
            data-ng-model="$ctrl.model.labelSelector"
            data-ng-pattern="/(^[\w]+=[\w]+$)/"
            required
        />
    </oui-field>

    <oui-field
        data-label="{{:: 'pci_ai_dashboard_create_token_role' | translate  }}"
        data-label-popover="{{:: 'pci_ai_dashboard_create_token_role_help' | translate }}"
        data-size="auto"
    >
        <label class="oui-select">
            <select
                name="role"
                data-ng-model="$ctrl.model.role"
                class="oui-select__input"
                data-ng-required="true"
            >
                <option
                    data-ng-repeat="role in $ctrl.aiRoles"
                    value="{{role.name}}"
                    data-ng-bind=":: 'pci_ai_dashboard_create_token_role_name_' + role.name | translate"
                >
                </option>
            </select>
            <span
                class="oui-icon oui-icon-chevron-down"
                aria-hidden="true"
            ></span>
        </label>
    </oui-field>

    <oui-field
        data-label="{{:: 'pci_ai_dashboard_create_token_region' | translate  }}"
        data-label-popover="{{:: 'pci_ai_dashboard_create_token_region_help' | translate }}"
        data-size="auto"
    >
        <label class="oui-select">
            <select
                name="region"
                data-ng-model="$ctrl.model.region"
                class="oui-select__input"
                data-ng-required="true"
            >
                <option
                    data-ng-repeat="region in $ctrl.regions"
                    value="{{region.id}}"
                    data-ng-bind="::region.id"
                >
                </option>
            </select>
            <span
                class="oui-icon oui-icon-chevron-down"
                aria-hidden="true"
            ></span>
        </label>
    </oui-field>
</oui-modal>
