<oui-header
    data-heading="{{:: 'pci_projects_project_sshKeys_title' | translate }}"
    class="mb-3"
>
    <oui-guide-menu data-text="{{:: 'pci_project_guides_header' | translate }}">
        <oui-guide-menu-item
            data-ng-repeat="guide in $ctrl.guideUrl.instances track by $index"
            data-href="{{:: guide.url }}"
            data-on-click="$ctrl.trackClick($ctrl.guideTrackingSectionTags.ml_serving + guide.tracking)"
            data-external
        >
            <span
                data-translate="{{:: 'pci_project_guides_header_' + guide.key }}"
            ></span>
        </oui-guide-menu-item>
    </oui-guide-menu>
</oui-header>
<cui-message-container data-messages="$ctrl.messages"></cui-message-container>

<pci-activate-project-banner
    data-ng-if="$ctrl.isDiscoveryProject"
    data-on-click="$ctrl.goToDiscoveryProjectActivationPage()"
    data-tracking-page-name="PublicCloud::pci::projects::project::sshKeys"
></pci-activate-project-banner>

<oui-datagrid data-rows="$ctrl.keys">
    <oui-datagrid-topbar>
        <a
            class="oui-button oui-button_secondary oui-button_icon-left mb-3"
            data-ui-sref="pci.projects.project.sshKeys.add"
            data-track-on="click"
            data-track-name="PCI_PROJECTS_SSH_KEYS_ADD"
            data-track-type="navigation"
            ng-disabled="$ctrl.isDiscoveryProject"
        >
            <span class="oui-icon oui-icon-add" aria-hidden="true"></span>
            <span data-translate="pci_projects_project_sshKeys_add"></span>
        </a>
    </oui-datagrid-topbar>
    <oui-datagrid-column
        data-title=":: 'pci_projects_project_sshKeys_name' | translate"
        data-property="name"
        data-type="string"
        data-searchable
    >
    </oui-datagrid-column>
    <oui-datagrid-column
        data-title=":: 'pci_projects_project_sshKeys_public' | translate"
        data-property="publicKey"
        data-type="string"
        data-searchable
    >
        <oui-clipboard data-model="$value"> </oui-clipboard>
    </oui-datagrid-column>
    <oui-action-menu data-compact data-placement="end">
        <oui-action-menu-item
            data-ui-sref="pci.projects.project.sshKeys.remove({ projectId: $ctrl.projectId, keyId: $row.id })"
        >
            <span data-translate="pci_projects_project_sshKeys_remove"></span>
        </oui-action-menu-item>
    </oui-action-menu>
</oui-datagrid>
