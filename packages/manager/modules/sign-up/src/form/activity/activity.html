<div class="sign-up-form-activity">
    <div class="row" data-ng-if="!$ctrl.siretFieldIsAvailable()">
        <!-- Should only be visible when country IT and legalform individual -->
        <div
            class="col-lg-6"
            data-ng-if="$ctrl.signUpFormCtrl.rules.nationalIdentificationNumber"
        >
            <!-- nationalIdentificationNumber -->
            <oui-field
                data-label="{{ 'sign_up_activity_field_nationalIdentificationNumber' | translate}}"
                data-ng-class="{ 'required-field': $ctrl.signUpFormCtrl.rules.nationalIdentificationNumber.mandatory }"
            >
                <input
                    type="text"
                    class="oui-input"
                    name="nationalIdentificationNumber"
                    id="nationalIdentificationNumber"
                    data-ng-model="$ctrl.signUpFormCtrl.model.nationalIdentificationNumber"
                    data-ng-required="$ctrl.signUpFormCtrl.rules.nationalIdentificationNumber.mandatory"
                    data-ng-pattern="$ctrl.signUpFormCtrl.rules.nationalIdentificationNumber.regularExpression"
                    data-ng-blur="$ctrl.onFieldBlur($ctrl.formCtrl.nationalIdentificationNumber)"
                />
            </oui-field>
            <!-- /input[name="nationalIdentificationNumber"] -->
        </div>

        <div
            class="col-lg-6"
            data-ng-if="$ctrl.signUpFormCtrl.rules.organisation"
        >
            <!-- organisation -->
            <oui-field
                data-label="{{ 'sign_up_activity_field_organisation_' + $ctrl.signUpFormCtrl.model.legalform | translateDefault:'sign_up_activity_field_organisation' }}"
                data-ng-class="{ 'required-field': $ctrl.signUpFormCtrl.rules.organisation.mandatory }"
            >
                <input
                    type="text"
                    class="oui-input"
                    name="organisation"
                    id="organisation"
                    data-ng-model="$ctrl.signUpFormCtrl.model.organisation"
                    data-ng-required="$ctrl.signUpFormCtrl.rules.organisation.mandatory"
                    data-ng-blur="$ctrl.onFieldBlur($ctrl.formCtrl.organisation)"
                />
            </oui-field>
            <!-- /input[name="organisation"] -->
        </div>

        <div class="col-lg-6" data-ng-if="$ctrl.signUpFormCtrl.rules.vat">
            <!-- vat -->
            <oui-field
                data-label="{{ $ctrl.getVatFieldLabel() }}"
                data-ng-class="{ 'required-field': $ctrl.signUpFormCtrl.rules.vat.mandatory }"
            >
                <input
                    type="text"
                    class="oui-input"
                    name="vat"
                    id="vat"
                    data-ng-model="$ctrl.signUpFormCtrl.model.vat"
                    data-ng-required="$ctrl.signUpFormCtrl.rules.vat.mandatory"
                    data-ng-pattern="$ctrl.signUpFormCtrl.rules.vat.regularExpression"
                    data-ng-blur="$ctrl.onFieldBlur($ctrl.formCtrl.vat)"
                />
            </oui-field>
            <!-- /input[name="vat"] -->
        </div>

        <div
            class="col-lg-6"
            data-ng-if="$ctrl.signUpFormCtrl.rules.corporationType"
        >
            <!-- corporationType -->
            <oui-field
                data-label="{{ 'sign_up_activity_field_corporationType' | translate}}"
                data-ng-class="{ 'required-field': $ctrl.signUpFormCtrl.rules.corporationType.mandatory }"
            >
                <label class="oui-select">
                    <select
                        id="corporationType"
                        name="corporationType"
                        class="oui-select__input"
                        data-ng-options="corporationType.value as corporationType.label for corporationType in $ctrl.signUpFormCtrl.rules.corporationType.in"
                        data-ng-model="$ctrl.signUpFormCtrl.model.corporationType"
                        data-ng-required="$ctrl.signUpFormCtrl.rules.corporationType.mandatory"
                        data-ng-blur="$ctrl.onFieldBlur($ctrl.formCtrl.corporationType)"
                    >
                    </select>
                    <span
                        class="oui-icon oui-icon-chevron-down bg-transparent"
                        aria-hidden="true"
                    >
                    </span>
                </label>
            </oui-field>
            <!-- /select[name="corporationType"] -->
        </div>

        <div
            class="col-lg-6"
            data-ng-if="$ctrl.signUpFormCtrl.rules.companyNationalIdentificationNumber"
        >
            <!-- companyNationalIdentificationNumber -->
            <oui-field
                data-label="{{ 'sign_up_activity_field_companyNationalIdentificationNumber_' + $ctrl.signUpFormCtrl.me.ovhSubsidiary.toLowerCase() | translateDefault:'sign_up_activity_field_companyNationalIdentificationNumber'}}"
                data-label-popover="{{ 'sign_up_activity_field_companyNationalIdentificationNumber_' + $ctrl.signUpFormCtrl.me.ovhSubsidiary.toLowerCase() + '_tooltip' | translate}}"
                data-ng-class="{ 'required-field': $ctrl.signUpFormCtrl.rules.companyNationalIdentificationNumber.mandatory }"
            >
                <input
                    type="text"
                    class="oui-input"
                    name="companyNationalIdentificationNumber"
                    id="companyNationalIdentificationNumber"
                    data-ng-model="$ctrl.signUpFormCtrl.model.companyNationalIdentificationNumber"
                    data-ng-required="$ctrl.signUpFormCtrl.rules.companyNationalIdentificationNumber.mandatory"
                    data-ng-pattern="$ctrl.signUpFormCtrl.rules.companyNationalIdentificationNumber.regularExpression"
                    data-ng-blur="$ctrl.onFieldBlur($ctrl.formCtrl.companyNationalIdentificationNumber)"
                />
            </oui-field>
            <!-- /input[name="companyNationalIdentificationNumber"] -->
        </div>

        <div
            class="col-lg-6"
            data-ng-if="$ctrl.signUpFormCtrl.rules.italianSDI"
        >
            <!-- italianSDI -->
            <oui-field
                data-label="{{ 'sign_up_activity_field_italian_sdi' | translate}}"
                data-ng-class="{ 'required-field': $ctrl.signUpFormCtrl.rules.italianSDI.mandatory }"
            >
                <input
                    type="text"
                    class="oui-input"
                    name="italianSDI"
                    id="italianSDI"
                    data-ng-model="$ctrl.signUpFormCtrl.model.italianSDI"
                    data-ng-required="$ctrl.signUpFormCtrl.rules.italianSDI.mandatory"
                    data-ng-pattern="$ctrl.signUpFormCtrl.rules.italianSDI.regularExpression"
                    data-ng-blur="$ctrl.onFieldBlur($ctrl.formCtrl.italianSDI)"
                />
            </oui-field>
            <!-- /input[name="italianSDI"] -->
        </div>
    </div>

    <div data-ng-if="$ctrl.siretFieldIsAvailable()">
        <oui-select-picker
            name="ouiSelectPickerCompany"
            data-model="$ctrl.corporationIsCreated"
            data-required
            data-label="{{:: 'sign_up_activity_corporation_created_title' | translate }}"
            data-values="[true]"
            data-on-change="$ctrl.onCorporationCreationStatusChange(modelValue)"
        >
            <oui-select-picker-description>
                <span
                    data-translate="sign_up_activity_corporation_created_description"
                ></span>
            </oui-select-picker-description>
        </oui-select-picker>

        <oui-select-picker
            class="mb-4"
            name="ouiSelectPickerCompany"
            data-model="$ctrl.corporationIsCreated"
            data-required
            data-label="{{:: 'sign_up_activity_corporation_not_created_title' | translate }}"
            data-values="[false]"
            data-on-change="$ctrl.onCorporationCreationStatusChange(modelValue)"
        >
            <oui-select-picker-description>
                <span
                    data-translate="sign_up_activity_corporation_not_created_description"
                ></span>
            </oui-select-picker-description>
        </oui-select-picker>

        <div data-ng-if="!$ctrl.corporationIsCreated">
            <form id="companyForm" name="companyForm">
                <div class="row">
                    <oui-field
                        class="col-lg-6"
                        data-ng-class="{ 'required-field': $ctrl.signUpFormCtrl.rules.organisation.mandatory }"
                        data-label="{{ 'siret_manual_company_name' | translate }}"
                    >
                        <input
                            class="oui-input"
                            name="companyName"
                            placeholder="{{ 'siret_manual_company_name' | translate }}"
                            type="text"
                            data-ng-model="$ctrl.signUpFormCtrl.model.organisation"
                            data-ng-required="$ctrl.signUpFormCtrl.rules.organisation.mandatory"
                            data-ng-blur="$ctrl.onFieldBlur($ctrl.formCtrl.companyName)"
                            data-required
                        />
                    </oui-field>
                    <oui-field
                        class="col-lg-6"
                        data-label="{{ 'siret_manual_company_legal_form' | translate }}"
                    >
                        <oui-select
                            data-items="$ctrl.legalFormList"
                            data-name="corporationType"
                            data-model="$ctrl.signUpFormCtrl.model.corporationType"
                            data-on-blur="$ctrl.onFieldBlur($ctrl.formCtrl.corporationType)"
                            data-required
                        >
                        </oui-select>
                    </oui-field>
                </div>
            </form>
        </div>
        <siret-component
            data-ng-if="$ctrl.corporationIsCreated"
            data-country="$ctrl.signUpFormCtrl.model.country"
            data-model="$ctrl.signUpFormCtrl.model"
            data-rules="$ctrl.signUpFormCtrl.rules"
            data-tracking-mode="'creation'"
            data-is-valid="$ctrl.signUpFormCtrl.isValid"
            data-form-ctrl="$ctrl.formCtrl"
            data-on-field-error="$ctrl.onFieldError"
        ></siret-component>
    </div>
</div>
