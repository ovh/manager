<div data-ovh-alert></div>

<oui-back-button data-ng-href="{{ $ctrl.paymentsHref() }}"
    ><span data-translate="payment_details_return_to_payments"></span>
</oui-back-button>

<dl class="dl-horizontal mt-4">
    <dt data-translate="payment_details_payment_id"></dt>
    <dd data-ng-bind="::$ctrl.paymentId"></dd>
    <dt data-translate="payment_details_payment_date"></dt>
    <dd data-ng-bind="::$ctrl.payment.date | date:'mediumDate'"></dd>
    <dt data-translate="payment_details_payment_amount"></dt>
    <dd data-ng-bind="::$ctrl.payment.amount.text"></dd>
</dl>

<oui-datagrid
    data-rows-loader="$ctrl.loadBills($config)"
    data-row-loader="$ctrl.loadDetails($row)"
>
    <oui-datagrid-column
        data-title=":: 'payment_details_table_header_id' | translate"
        data-property="billId"
    >
    </oui-datagrid-column>
    <oui-datagrid-column
        data-title=":: 'payment_details_table_header_date' | translate"
    >
        <span data-ng-bind="$row.date | date:'mediumDate'"></span>
    </oui-datagrid-column>
    <oui-datagrid-column
        data-title=":: 'payment_details_table_header_payment' | translate"
        data-property="payment"
    >
    </oui-datagrid-column>
    <oui-datagrid-column
        data-title=":: 'payment_details_table_header_document' | translate"
    >
    </oui-datagrid-column>
    <oui-action-menu data-compact data-placement="end">
        <oui-action-menu-item data-href="{{ $row.url }}" data-external
            ><span
                data-translate="statements_details_table_invoice_html_link"
            ></span>
        </oui-action-menu-item>
        <oui-action-menu-item data-href="{{ $row.pdfUrl }}" data-external
            ><span
                data-translate="statements_details_table_invoice_pdf_link"
            ></span>
        </oui-action-menu-item>
    </oui-action-menu>
</oui-datagrid>
