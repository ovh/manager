<div class="text-center" data-ng-if="$ctrl.loading">
    <oui-spinner></oui-spinner>
</div>
<div class="container-fluid" data-ng-if="!$ctrl.loading && !$ctrl.orderId">
    <oui-back-button on-click="$ctrl.goBack()">
        <span data-translate="server_configuration_impi_order_kvm"></span>
    </oui-back-button>
    <p
        data-translate="server_configuration_kvm_price_per_month"
        data-translate-values="{t0: $ctrl.kvmPrice}"
    ></p>
    <h3
        data-translate="server_configuration_kvm_contract_validation_title"
    ></h3>
    <div data-ng-if="$ctrl.contracts.length">
        <p
            data-translate="server_configuration_kvm_contract_validation_text"
        ></p>
        <ul class="list-group">
            <li
                data-ng-repeat="contrat in $ctrl.contracts track by $index"
                class="list-group-item border-0 p-0"
            >
                <a target="_blank" rel="noopener" href="{{::contrat.url}}"
                    >{{::contrat.name}}</a
                >
            </li>
        </ul>

        <oui-checkbox data-model="$ctrl.contractAgreement">
            <span
                data-translate="server_configuration_kvm_contract_agreement"
            ></span>
        </oui-checkbox>
    </div>
    <p
        data-ng-if="!$ctrl.contracts.length"
        data-translate="server_configuration_kvm_contract_agreed"
    ></p>
    <oui-button
        class="pt-4"
        data-variant="primary"
        data-disabled="!$ctrl.contractAgreement || $ctrl.pendingOrder"
        data-on-click="$ctrl.orderKvm()"
    >
        <span data-translate="server_configuration_kvm_proceed_payment"></span>
    </oui-button>
    <oui-spinner data-size="s" data-ng-if="$ctrl.pendingOrder"></oui-spinner>
</div>
