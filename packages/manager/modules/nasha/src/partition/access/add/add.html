<form
    data-ng-submit="NashaPartitionAccessAddCtrl.addAccess()"
    name="nashaPartitionAccessAddForm"
    data-ng-validate="NashaPartitionAccessAddCtrl.data.type && NashaPartitionAccessAddCtrl.data.accessToAdd"
>
    <oui-modal
        data-primary-label="{{ ::'nasha_common_add' | translate }}"
        data-secondary-action="NashaPartitionAccessAddCtrl.dismiss()"
        data-secondary-label="{{ ::'nasha_common_cancel' | translate }}"
        data-on-dismiss="NashaPartitionAccessAddCtrl.dismiss()"
        data-loading="NashaPartitionAccessAddCtrl.loading"
    >
        <oui-message type="info">
            <span data-translate="nasha_partitions_access_notice"></span>
        </oui-message>

        <h2
            class="oui-modal__title"
            data-translate="nasha_access_action_add"
        ></h2>

        <oui-field
            data-label="{{::'nasha_access_action_add_message' | translate}}"
        >
            <cuc-cloud-auto-complete
                id="selectAccess"
                name="selectAccess"
                data-ng-model="NashaPartitionAccessAddCtrl.data.accessToAdd"
                data-ng-disabled="NashaPartitionAccessAddCtrl.loading"
                data-options="NashaPartitionAccessAddCtrl.data.accessAvailable"
                data-group-by="description"
                data-order-by="['!!description' ,'description', 'ip']"
                data-display-property="ip"
                data-group-description="{{ 'nasha_access_action_add_services' | translate }}"
                placeholder="{{ 'nasha_access_action_add_placeholder' | translate }}"
            >
            </cuc-cloud-auto-complete>
        </oui-field>

        <oui-field
            data-label="{{::'nasha_partitions_access_permissions' | translate}}"
            data-label-popover="{{::'nasha_partitions_access_permissions_warning_cifs' | translate}}"
        >
            <oui-radio
                name="permission"
                data-model="NashaPartitionAccessAddCtrl.data.type"
                value="'readwrite'"
                ><span
                    data-translate="nasha_partitions_access_readwrite"
                ></span>
            </oui-radio>
            <oui-radio
                name="permission"
                data-model="NashaPartitionAccessAddCtrl.data.type"
                value="'readonly'"
                data-disabled="NashaPartitionAccessAddCtrl.partitionDetails.protocol !== 'NFS'"
                ><span data-translate="nasha_partitions_access_readonly"></span>
            </oui-radio>
        </oui-field>
    </oui-modal>
</form>
