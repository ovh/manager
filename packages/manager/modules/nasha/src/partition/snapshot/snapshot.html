<form
    name="nashaPartitionSnapshot"
    data-ng-submit="NashaPartitionSnapshotCtrl.applyScheduleChanges()"
    novalidate
>
    <oui-modal
        data-primary-label="{{ ::'nasha_common_add' | translate }}"
        data-secondary-action="NashaPartitionSnapshotCtrl.dismiss()"
        data-secondary-label="{{ ::'nasha_common_cancel' | translate }}"
        data-on-dismiss="NashaPartitionSnapshotCtrl.dismiss()"
        data-loading="NashaPartitionSnapshotCtrl.loading"
    >
        <oui-message
            data-ng-if="!NashaPartitionSnapshotCtrl.loading && !NashaPartitionSnapshotCtrl.snapshots.after.length"
            data-type="warning"
        >
            <span data-translate="nasha_snapshot_warning_frequency"></span>
        </oui-message>
        <oui-message data-type="info">
            <span data-translate="nasha_snapshot_informations_size"></span>
        </oui-message>

        <h2
            class="oui-modal__title"
            data-translate="nasha_snapshot_of"
            data-translate-values="{partitionName: NashaPartitionSnapshotCtrl.data.partition.partitionName}"
        ></h2>

        <oui-field
            data-label="{{ :: 'nasha_snapshot_frequency' | translate }}"
            data-label-popover="{{ :: 'nasha_snapshot_informations' | translate }}"
        >
            <div
                class="oui-checkbox"
                data-ng-repeat="snapshot in NashaPartitionSnapshotCtrl.snapshotEnum track by $index"
            >
                <input
                    class="oui-checkbox__input"
                    id="{{ ::'frequency' + $index }}"
                    name="{{ ::'frequency' + $index }}"
                    type="checkbox"
                    data-ng-checked="NashaPartitionSnapshotCtrl.isScheduled(snapshot)"
                    data-ng-click="NashaPartitionSnapshotCtrl.changeSchedule(snapshot, !NashaPartitionSnapshotCtrl.isScheduled(snapshot))"
                />
                <label
                    class="oui-checkbox__label-container"
                    for="{{ ::'frequency' + $index }}"
                >
                    <span class="oui-checkbox__label m-0">
                        <span class="oui-checkbox__icon"></span>
                        <span
                            class="oui-checkbox__text"
                            data-translate="{{ ::'nasha_snapshot_'+ snapshot }}"
                        ></span>
                    </span>
                </label>
            </div>
        </oui-field>
    </oui-modal>
</form>
