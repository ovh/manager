<div>
    <oui-header data-heading="{{::'nasha_new_title' | translate}}">
    </oui-header>

    <!-- init loading... -->
    <cui-message-container
        data-ng-if="!$ctrl.isLoadingOfferData()"
        data-messages="$ctrl.messages"
    >
    </cui-message-container>

    <div>
        <div class="text-center" data-ng-if="$ctrl.isLoadingOfferData()">
            <oui-spinner size="l"></oui-spinner>
        </div>

        <div data-ng-if="!$ctrl.isLoadingOfferData()">
            <!--Step One-->
            <div>
                <h2
                    class="oui-heading_2"
                    data-translate="nasha_new_step_1_configure"
                ></h2>
            </div>

            <div>
                <form
                    name="nashaOrderForm"
                    data-ng-submit="$ctrl.order()"
                    novalidate
                >
                    <div class="oui-field">
                        <label
                            class="oui-field__label oui-label"
                            data-translate="nasha_new_name"
                            for="selectModel"
                        ></label>
                        <div class="oui-field__content">
                            <div class="oui-field-control oui-field-control_4">
                                <label class="oui-select">
                                    <select
                                        id="selectModel"
                                        name="select"
                                        class="oui-select__input"
                                        data-ng-change="$ctrl.onOfferChanged()"
                                        data-ng-model="$ctrl.data.selectedModel"
                                        data-ng-options="offer.planCode as offer.productName + ' - ' + offer.prices[0].price.text + '/' + ('nasha_new_month' | translate) for offer in $ctrl.offers.data | orderBy: 'prices[0].priceInUcents'"
                                    >
                                        <option
                                            value
                                            data-translate="nasha_new_select_placeholder"
                                        ></option>
                                    </select>
                                    <i
                                        class="oui-icon oui-icon-chevron-down"
                                        aria-hidden="true"
                                    ></i>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="oui-field">
                        <label
                            class="oui-field__label oui-label"
                            data-translate="nasha_new_datacenter"
                            for="selectDatacenter"
                        ></label>
                        <div class="oui-field__content">
                            <div class="oui-field-control oui-field-control_4">
                                <label class="oui-select">
                                    <select
                                        id="selectDatacenter"
                                        name="select"
                                        class="oui-select__input"
                                        data-ng-model="$ctrl.data.selectedDatacenter"
                                        data-ng-options="datacenter as ('nasha_new_datacenter_' + datacenter.toLowerCase() | translate) for datacenter in $ctrl.datacenters"
                                    >
                                        <option
                                            value
                                            data-translate="nasha_new_select_placeholder"
                                        ></option>
                                    </select>
                                    <i
                                        class="oui-icon oui-icon-chevron-down"
                                        aria-hidden="true"
                                    ></i>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div>
                        <button
                            type="submit"
                            data-ng-show="!$ctrl.isLoadingOfferData()"
                            class="oui-button oui-button_primary"
                            data-translate="nasha_new_validate"
                            data-ng-disabled="!$ctrl.data.selectedDatacenter || !$ctrl.data.selectedModel || !$ctrl.data.selectedDuration || $ctrl.data.orderValidated"
                        ></button>
                        <oui-spinner
                            data-ng-show="$ctrl.isLoadingOfferData()"
                            size="s"
                        ></oui-spinner>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
