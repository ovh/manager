<div class="cui-page">
    <oui-header data-heading="{{::'nasha_order_title' | translate}}">
    </oui-header>

    <!-- init loading... -->
    <cui-message-container
        data-ng-if="!NashaAddCtrl.isLoadingOfferData()"
        data-messages="NashaAddCtrl.messages"
    ></cui-message-container>

    <div class="cui-page__content">
        <div class="text-center" data-ng-if="NashaAddCtrl.isLoadingOfferData()">
            <oui-spinner size="l"></oui-spinner>
        </div>

        <div data-ng-if="!NashaAddCtrl.isLoadingOfferData()">
            <!--Step One-->
            <div>
                <h2
                    class="oui-heading_2"
                    data-translate="nasha_order_step_1_configure"
                ></h2>
            </div>

            <div>
                <form
                    name="nashaOrderForm"
                    data-ng-submit="NashaAddCtrl.order()"
                    novalidate
                >
                    <div class="oui-field">
                        <label
                            class="oui-field__label oui-label"
                            data-translate="nasha_order_datacenter"
                            for="selectDatacenter"
                        ></label>
                        <div class="oui-field__content">
                            <div class="oui-field-control oui-field-control_4">
                                <label class="oui-select">
                                    <select
                                        id="selectDatacenter"
                                        name="select"
                                        class="oui-select__input"
                                        data-ng-model="NashaAddCtrl.data.selectedDatacenter"
                                        data-ng-options="datacenter as ('nasha_order_datacenter_' + datacenter | translate) for datacenter in NashaAddCtrl.datacenters.data"
                                    >
                                        <option
                                            value
                                            data-translate="nasha_order_select_placeholder"
                                        ></option>
                                    </select>
                                    <i
                                        class="oui-icon oui-icon-chevron-down"
                                        aria-hidden="true"
                                    ></i>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="oui-field">
                        <label
                            class="oui-field__label oui-label"
                            data-translate="nasha_order_name"
                            for="selectModel"
                        ></label>
                        <div class="oui-field__content">
                            <div class="oui-field-control oui-field-control_4">
                                <label class="oui-select">
                                    <select
                                        id="selectModel"
                                        name="select"
                                        class="oui-select__input"
                                        data-ng-model="NashaAddCtrl.data.selectedModel"
                                        data-ng-options="offer.planCode as offer.productName + ' - ' + offer.prices[0].price.text + '/' + ('nas_order_month' | translate) for offer in NashaAddCtrl.offers.data | orderBy: 'prices[0].priceInUcents'"
                                    >
                                        <option
                                            value
                                            data-translate="nasha_order_select_placeholder"
                                        ></option>
                                    </select>
                                    <i
                                        class="oui-icon oui-icon-chevron-down"
                                        aria-hidden="true"
                                    ></i>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="oui-field">
                        <label
                            class="oui-field__label oui-label"
                            data-translate="nasha_order_duration"
                            for="selectDuration"
                        ></label>
                        <div class="oui-field__content">
                            <div class="oui-field-control oui-field-control_4">
                                <label class="oui-select">
                                    <select
                                        id="selectDuration"
                                        name="select"
                                        class="oui-select__input"
                                        data-ng-model="NashaAddCtrl.data.selectedDuration"
                                        data-ng-options="duration.value as duration.text for duration in NashaAddCtrl.durations.data | orderBy : 'value'"
                                    >
                                        <option
                                            value
                                            data-translate="nasha_order_select_placeholder"
                                        ></option>
                                    </select>
                                    <i
                                        class="oui-icon oui-icon-chevron-down"
                                        aria-hidden="true"
                                    ></i>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div>
                        <button
                            type="submit"
                            data-ng-show="!NashaAddCtrl.isLoadingOfferData()"
                            class="oui-button oui-button_primary"
                            data-translate="nasha_common_validate"
                            data-ng-disabled="!NashaAddCtrl.data.selectedDatacenter || !NashaAddCtrl.data.selectedModel || !NashaAddCtrl.data.selectedDuration || NashaAddCtrl.data.orderValidated"
                        ></button>
                        <oui-spinner
                            data-ng-show="NashaAddCtrl.isLoadingOfferData()"
                            size="s"
                        ></oui-spinner>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
