<form novalidate name="ctrl.form" class="logs-change-password">
    <oui-modal
        data-primary-action="ctrl.changePassword()"
        data-primary-label="{{ ::'logs_save' | translate }}"
        data-secondary-action="ctrl.cancel()"
        data-secondary-label="{{ ::'logs_cancel' | translate }}"
        data-on-dismiss="ctrl.cancel()"
        data-loading="ctrl.saving.loading"
        data-heading="{{ ::'logs_password_change_title' | translate }}"
    >
        <div
            class="oui-field"
            data-ng-class="{'oui-field_error': ctrl.form.$submitted && ctrl.form.new_password.$invalid}"
        >
            <label
                for="new_password"
                class="oui-label"
                data-translate="logs_password_new_label"
            ></label>
            <div class="oui-field__content">
                <div class="oui-field-control oui-field-control_5">
                    <oui-password
                        id="new_password"
                        name="new_password"
                        model="ctrl.newPassword"
                        required
                    >
                        <oui-password-rule
                            data-ng-repeat="rule in ctrl.passwordRules track by rule.message"
                            validator="rule.validator(modelValue)"
                        >
                            <span
                                data-translate="{{:: rule.message }}"
                                data-translate-values="rule.translateParams"
                            ></span>
                        </oui-password-rule>
                    </oui-password>
                </div>
            </div>
        </div>
    </oui-modal>
</form>
