<section class="subscriptions-home">
    <oui-back-button data-on-click="$ctrl.goBack()"
        ><span data-translate="logs_streams_subscriptions"></span
    ></oui-back-button>

    <h6>
        {{'streams_subscriptions_current_title' | translate:{ name:
        $ctrl.stream.data.title } }}
    </h6>
    <p data-translate="streams_subscriptions_intro_text"></p>

    <oui-datagrid
        id="subscriptions-datagrid"
        rows-loader="$ctrl.loadSubscriptions($config)"
    >
        <oui-datagrid-topbar>
            <oui-spinner
                size="s"
                data-ng-if="$ctrl.deleteSubscriptionLoading"
            ></oui-spinner>
        </oui-datagrid-topbar>

        <oui-datagrid-column
            data-title="::'streams_subscriptions_resource_name_label' | translate"
            data-property="resource.name"
            data-type="string"
            data-sortable
            data-searchable
            data-filterable
        ></oui-datagrid-column>
        <oui-datagrid-column
            data-title="::'streams_subscriptions_resource_type_label' | translate"
            data-property="resource.type"
            data-type="string"
            data-sortable="asc"
            data-searchable
            data-filterable
        >
            <span data-ng-bind=":: $ctrl.getResourceName($row)"> </span>
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title=":: 'streams_subscriptions_kind_label' | translate"
            data-property="kind"
            data-type="string"
            data-sortable="asc"
            data-searchable
            data-filterable
        >
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title="::'logs_col_last_modified' | translate"
            data-property="updatedAt"
            data-sortable
            data-type="date"
        >
            {{ $row.updatedAt | cucMomentFormat:'L'}}
        </oui-datagrid-column>
        <oui-datagrid-column>
            <button
                type="button"
                class="btn btn-secondary float-right mr-2"
                data-ng-click="$ctrl.showSubscriptionDeleteConfirm($row)"
            >
                <span
                    class="oui-icon oui-icon-trash_concept"
                    aria-hidden="true"
                ></span>
            </button>
        </oui-datagrid-column>
    </oui-datagrid>
</section>
