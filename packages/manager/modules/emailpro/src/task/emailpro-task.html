<div>
    <div
        class="alert alert-warning"
        role="alert"
        data-ng-if="tasksList && tasksList.list.messages.length > 0"
        data-translate="emailpro_tab_TASKS_partial"
    ></div>

    <oui-datagrid data-rows-loader="loadPaginated($config)">
        <oui-datagrid-column
            data-title="'emailpro_tab_TASKS_table_function' | translate"
        >
            <span
                data-ng-if="$row.status"
                data-ng-bind="'emailpro_tab_TASKS_'+ $row.function | translate"
            ></span>
            <span
                data-ng-if="$row.action.includes(mailinglist)"
                data-ng-bind="'emailpro_tab_TASKS_mailinglist' | translate"
            ></span>
            <span
                data-ng-if="$row.action.includes(redirection)"
                data-ng-bind="'emailpro_tab_TASKS_redirection' | translate"
            ></span>
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title="'emailpro_tab_TASKS_table_state' | translate"
        >
            <div
                data-ng-if="$row.status == stateDoing || $row.status == stateTodo"
            >
                <span
                    class="fa fa-hourglass-half text-info"
                    aria-hidden="true"
                ></span>
                <span
                    data-ng-bind="'emailpro_tab_TASKS_'+ $row.status | translate"
                ></span>
            </div>
            <div data-ng-if="$row.status == stateError">
                <span
                    class="fa fa-times-circle text-danger"
                    aria-hidden="true"
                ></span>
                <span
                    data-ng-bind="'emailpro_tab_TASKS_'+ $row.status | translate"
                ></span>
            </div>
            <div data-ng-if="$row.status == stateCancelled">
                <span class="fa fa-ban text-muted" aria-hidden="true"></span>
                <span
                    data-ng-bind="'emailpro_tab_TASKS_'+ $row.status | translate"
                ></span>
            </div>
            <span
                data-ng-if="$row.status == stateDone"
                data-ng-bind="'emailpro_tab_TASKS_'+ $row.status | translate"
            ></span>
            <span
                data-ng-if="$row.action"
                data-ng-bind="'emailpro_tab_TASKS_todo' | translate"
            ></span>
        </oui-datagrid-column>

        <oui-datagrid-column
            data-title="'emailpro_tab_TASKS_table_start_date' | translate"
            data-property="todoDate"
            data-sortable="desc"
        >
            <span data-ng-bind="::$row.todoDate | date:'short'"></span>
        </oui-datagrid-column>
        <oui-datagrid-column
            data-title="'emailpro_tab_TASKS_table_finish_date' | translate"
            data-property="finishDate"
        >
            <span data-ng-bind="::$row.finishDate | date:'short'"></span>
        </oui-datagrid-column>
    </oui-datagrid>
</div>
