<div>
    <div class="text-center" data-ng-if="$ctrl.isFetchingUpdateOptions">
        <oui-spinner data-size="l"></oui-spinner>
    </div>

    <form
        data-ng-if="!$ctrl.isFetchingUpdateOptions"
        name="$ctrl.updateAccountForm"
        class="container m-0"
    >
        <oui-back-button data-on-click="$ctrl.goBack()">
            <span data-translate="exchange_account_update_back_button"></span>
        </oui-back-button>

        <div
            class="mb-3"
            data-ng-bind=":: 'exchange_account_update_header' | translate"
        ></div>

        <!--Account info-->
        <div>
            <!--Title-->
            <p
                class="oui-heading_4 p-0"
                data-translate="exchange_account_update_personal_account_info_title"
            ></p>

            <!--Account section-->
            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!--Account type-->
                    <div
                        class="oui-field"
                        data-ng-if="$ctrl.updateAccountOptions.availableTypes.length > 1"
                    >
                        <label
                            class="oui-field__label oui-label"
                            for="selectedAccountType"
                            data-translate="exchange_account_update_accountType_label"
                        ></label>
                        <div class="oui-field__content">
                            <div class="oui-field-control oui-field-control_3">
                                <div class="oui-select">
                                    <select
                                        class="oui-select__input"
                                        id="selectedAccountType"
                                        name="selectedAccountType"
                                        data-ng-model="$ctrl.selectedAccount.accountLicense"
                                        data-ng-options="$ctrl.exchangeAccountTypes.getDisplayValue(type) for type in $ctrl.updateAccountOptions.availableTypes track by type"
                                        data-ng-disabled="$ctrl.selectedAccount.outlook"
                                        required
                                    ></select>
                                    <span
                                        class="oui-icon oui-icon-chevron-down"
                                        aria-hidden="true"
                                    ></span>
                                </div>
                            </div>
                        </div>
                        <small
                            class="help-block"
                            data-translate="exchange_ACTION_update_account_step1_type_cant_change"
                            data-ng-if="$ctrl.selectedAccount.outlook"
                        ></small>
                    </div>

                    <!--Email address-->
                    <div
                        class="form-group"
                        data-ng-class="{'oui-field_error has-error': $ctrl.updateAccountForm.selectedAccountAddress.$dirty && ($ctrl.updateAccountForm.selectedAccountAddress.$invalid || $ctrl.takenEmailError)}"
                    >
                        <label
                            class="control-label"
                            for="selectedAccountAddress"
                            data-translate="exchange_account_update_emailAddress_label"
                        ></label>
                        <div class="input-group">
                            <input
                                type="text"
                                class="form-control"
                                id="selectedAccountAddress"
                                maxlength="256"
                                name="selectedAccountAddress"
                                required
                                data-ng-change="$ctrl.checkTakenEmails()"
                                data-ng-disabled="!$ctrl.canChangePrimary()"
                                data-ng-model="$ctrl.selectedAccount.login"
                                data-ng-pattern="$ctrl.ACCOUNT_EMAIL_ADDRESS_REGEX"
                            />
                            <span class="input-group-addon">@</span>
                            <select
                                class="form-control"
                                required
                                data-ng-change="$ctrl.checkTakenEmails()"
                                data-ng-disabled="!$ctrl.canChangePrimary()"
                                data-ng-model="$ctrl.selectedAccount.completeDomain"
                                data-ng-options="domain.displayName for domain in ($ctrl.updateAccountOptions.availableDomains | orderBy:'formattedName') track by domain.name"
                            >
                            </select>
                        </div>
                        <small
                            class="help-block"
                            data-translate="exchange_tab_ALIAS_taken_error_message"
                            data-ng-if="$ctrl.takenEmailError"
                        ></small>
                        <div
                            class="oui-field__error"
                            data-ng-if="$ctrl.newAccountForm.login.$error.required"
                            role="alert"
                        >
                            <span
                                class="oui-icon oui-icon-error"
                                aria-hidden="true"
                            ></span>
                            <span
                                data-ng-bind=":: 'exchange_account_update_field_error_required' | translate"
                            ></span>
                        </div>
                        <div
                            class="oui-field__error"
                            data-ng-if="$ctrl.newAccountForm.login.$error.pattern"
                            role="alert"
                        >
                            <span
                                class="oui-icon oui-icon-error"
                                aria-hidden="true"
                            ></span>
                            <span
                                data-ng-bind=":: 'exchange_account_update_field_error_pattern' | translate"
                            ></span>
                        </div>
                        <div
                            class="oui-field__error"
                            data-ng-if="$ctrl.newAccountForm.login.$error.emailAddressIsAlreadyTaken"
                            role="alert"
                        >
                            <span
                                class="oui-icon oui-icon-error"
                                aria-hidden="true"
                            ></span>
                            <span
                                data-ng-bind=":: 'exchange_account_update_emailAddress_error_alreadyExists' | translate"
                            ></span>
                        </div>
                        <div class="oui-field__helper">
                            <span
                                data-translate="exchange_account_update_emailAddress_hint"
                            ></span>
                            <ul>
                                <li
                                    data-translate="exchange_account_update_emailAddress_hint_part_1"
                                ></li>
                                <li
                                    data-translate="exchange_account_update_emailAddress_hint_part_2"
                                ></li>
                                <li
                                    data-translate="exchange_account_update_emailAddress_hint_part_3"
                                ></li>
                            </ul>
                        </div>
                        <div>
                            <oui-checkbox
                                data-model="$ctrl.selectedAccount.hiddenFromGAL"
                                data-name="accountInfoHiddenFromGAL"
                            >
                                <span
                                    data-translate="exchange_account_update_emailAddress_hide_from_directory"
                                ></span>
                            </oui-checkbox>
                        </div>
                    </div>

                    <!--Name and first name-->
                    <div class="row">
                        <!--First name-->
                        <oui-field
                            class="col-md-6"
                            label="{{:: 'exchange_account_update_firstName_label' | translate }}"
                        >
                            <input
                                class="oui-input"
                                id="accountInfoFirstName"
                                name="accountInfoFirstName"
                                type="text"
                                maxlength="256"
                                data-ng-model="$ctrl.selectedAccount.firstName"
                                data-ng-required="$ctrl.selectedAccount.firstName"
                            />
                        </oui-field>

                        <!--Last name-->
                        <oui-field
                            class="col-md-6"
                            label="{{:: 'exchange_account_update_lastName_label' | translate }}"
                        >
                            <input
                                class="oui-input"
                                id="accountInfoLastName"
                                name="accountInfoLastName"
                                type="text"
                                maxlength="256"
                                data-ng-model="$ctrl.selectedAccount.lastName"
                                data-ng-required="$ctrl.selectedAccount.lastName"
                            />
                        </oui-field>
                    </div>

                    <!--Name to display and Initial-->
                    <div class="row">
                        <!--Display name-->
                        <oui-field
                            class="col-md-6"
                            label="{{:: 'exchange_account_update_displayName_label' | translate }}"
                        >
                            <input
                                class="oui-input"
                                id="accountInfoDisplayName"
                                name="accountInfoDisplayName"
                                type="text"
                                maxlength="256"
                                data-ng-model="$ctrl.selectedAccount.displayName"
                                required
                            />
                        </oui-field>

                        <!--Initials-->
                        <oui-field
                            class="col-md-6"
                            label="{{:: 'exchange_account_update_initials_label' | translate }}"
                        >
                            <input
                                class="oui-input"
                                id="accountInfoInitial"
                                name="accountInfoInitial"
                                type="text"
                                maxlength="256"
                                data-ng-model="$ctrl.selectedAccount.initial"
                                data-ng-required="$ctrl.selectedAccount.initial"
                            />
                        </oui-field>
                    </div>

                    <!--Description-->
                    <oui-field
                        label="{{:: 'exchange_account_update_description_label' | translate }}"
                    >
                        <textarea
                            class="oui-input"
                            id="accountInfoDescription"
                            name="accountInfoDescription"
                            type="text"
                            maxlength="256"
                            data-ng-model="$ctrl.selectedAccount.description"
                            data-ng-required="$ctrl.selectedAccount.description"
                        >
                        </textarea>
                    </oui-field>

                    <!--Password and confirm password-->
                    <div class="row">
                        <!--Password-->
                        <div
                            class="col-md-6 oui-field"
                            data-ng-class="{'oui-field_error has-error': $ctrl.simplePasswordFlag || $ctrl.containsNameFlag || $ctrl.containsSamAccountNameFlag || $ctrl.containsWhitespaces}"
                        >
                            <label
                                class="oui-field__label oui-label"
                                for="selectedAccountPassword"
                                data-translate="exchange_ACTION_update_account_step1_password_label"
                                data-ng-class="{'required': !$ctrl.selectedAccount.canBeConfigured}"
                            ></label>
                            <div class="oui-field__content">
                                <div
                                    class="oui-field-control oui-field-control_3"
                                >
                                    <div class="mb-0 oui-input-overlay">
                                        <input
                                            class="oui-input"
                                            id="selectedAccountPassword"
                                            name="selectedAccountPassword"
                                            maxlength="256"
                                            placeholder="{{$ctrl.getPasswordPlaceholder()}}"
                                            data-ng-attr-type="{{ $ctrl.shouldDisplayPasswordInput ? 'password' : 'text' }}"
                                            data-ng-change="$ctrl.onPasswordChange()"
                                            data-ng-class="{'oui-input_error': $ctrl.simplePasswordFlag || $ctrl.containsNameFlag || $ctrl.containsSamAccountNameFlag || $ctrl.containsWhitespaces}"
                                            data-ng-model="$ctrl.selectedAccount.password"
                                            data-ng-required="!$ctrl.selectedAccount.canBeConfigured"
                                            data-oui-tooltip="{{$ctrl.passwordTooltip}}"
                                        />
                                        <button
                                            data-ng-if="$ctrl.shouldDisplayPasswordInput"
                                            class="oui-button"
                                            type="button"
                                            aria-label="{{:: 'exchange_account_update_password_button_show' | translate }}"
                                            data-ng-click="$ctrl.switchBetweenPasswordAndTextInput()"
                                        >
                                            <span
                                                class="oui-icon oui-icon-eye-open"
                                                aria-hidden="true"
                                            ></span>
                                        </button>
                                        <button
                                            data-ng-if="!$ctrl.shouldDisplayPasswordInput"
                                            class="oui-button"
                                            type="button"
                                            aria-label="{{:: 'exchange_account_update_password_button_hide' | translate }}"
                                            data-ng-click="$ctrl.switchBetweenPasswordAndTextInput()"
                                        >
                                            <span
                                                class="oui-icon oui-icon-eye-closed"
                                                aria-hidden="true"
                                            ></span>
                                        </button>
                                        <small
                                            class="help-block"
                                            data-translate="exchange_ACTION_update_account_step1_password_weak"
                                            data-ng-if="$ctrl.simplePasswordFlag"
                                        ></small>
                                        <small
                                            class="help-block"
                                            data-translate="exchange_ACTION_update_account_step1_password_contains_name"
                                            data-ng-if="$ctrl.containsNameFlag"
                                        ></small>
                                        <small
                                            class="help-block"
                                            data-ng-bind="$ctrl.containsSamAccountNameLabel"
                                            data-ng-if="$ctrl.containsSamAccountNameFlag"
                                        ></small>
                                        <small
                                            class="help-block"
                                            data-translate="exchange_ACTION_update_account_step1_password_whitespace"
                                            data-ng-if="$ctrl.containsWhitespaces"
                                        ></small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--Confirm password-->
                        <div
                            class="col-md-6 oui-field"
                            data-ng-class="{'oui-field_error has-error': $ctrl.selectedAccount.passwordConfirmation && $ctrl.differentPasswordFlag}"
                        >
                            <label
                                class="oui-field__label oui-label"
                                for="selectedAccountPasswordConfirmation"
                                data-translate="exchange_ACTION_update_account_step1_password_confirmation_label"
                                data-ng-class="{'required': !$ctrl.selectedAccount.canBeConfigured}"
                            ></label>
                            <div class="oui-field__content">
                                <div
                                    class="oui-field-control oui-field-control_3"
                                >
                                    <div class="mb-0 oui-input-overlay">
                                        <input
                                            type="password"
                                            class="oui-input"
                                            id="selectedAccountPasswordConfirmation"
                                            name="selectedAccountPasswordConfirmation"
                                            placeholder="{{$ctrl.getPasswordPlaceholder()}}"
                                            data-ng-attr-type="{{ $ctrl.shouldDisplayPasswordInput ? 'password' : 'text' }}"
                                            data-ng-change="$ctrl.setPasswordsFlag($ctrl.selectedAccount)"
                                            data-ng-class="{'oui-input_error': $ctrl.selectedAccount.passwordConfirmation && $ctrl.differentPasswordFlag}"
                                            data-ng-model="$ctrl.selectedAccount.passwordConfirmation"
                                            data-oui-tooltip="{{$ctrl.passwordTooltip}}"
                                        />
                                        <button
                                            data-ng-if="$ctrl.shouldDisplayPasswordInput"
                                            class="oui-button"
                                            type="button"
                                            aria-label="{{:: 'exchange_account_update_password_button_show' | translate }}"
                                            data-ng-click="$ctrl.switchBetweenPasswordAndTextInput()"
                                        >
                                            <span
                                                class="oui-icon oui-icon-eye-open"
                                                aria-hidden="true"
                                            ></span>
                                        </button>
                                        <button
                                            data-ng-if="!$ctrl.shouldDisplayPasswordInput"
                                            class="oui-button"
                                            type="button"
                                            aria-label="{{:: 'exchange_account_update_password_button_hide' | translate }}"
                                            data-ng-click="$ctrl.switchBetweenPasswordAndTextInput()"
                                        >
                                            <span
                                                class="oui-icon oui-icon-eye-closed"
                                                aria-hidden="true"
                                            ></span>
                                        </button>
                                        <small
                                            class="help-block"
                                            data-translate="exchange_ACTION_update_account_step1_password_different"
                                            data-ng-if="$ctrl.selectedAccount.passwordConfirmation && $ctrl.differentPasswordFlag"
                                        ></small>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--Password alert-->
                        <div
                            class="col-md-12 alert alert-warning"
                            role="alert"
                            data-translate="exchange_ACTION_update_account_shared_password_warning"
                            data-ng-if="$ctrl.shouldDisplaySharepointPasswordWarning()"
                        ></div>
                    </div>

                    <!--Email redirection and keep a copy-->
                    <div class="row">
                        <!--Email redirection-->
                        <oui-field
                            class="col-md-6"
                            label="{{:: 'exchange_account_update_email_redirect_label' | translate }}"
                        >
                            <input
                                class="oui-input"
                                id="accountInfoForwardingEmail"
                                name="accountInfoForwardingEmail"
                                type="email"
                                data-ng-model="$ctrl.selectedAccount.forwardingEmail"
                            />
                        </oui-field>

                        <!--Email copy-->
                        <div class="col-md-6 my-4">
                            <oui-checkbox
                                data-disabled="!$ctrl.selectedAccount.forwardingEmail"
                                data-model="$ctrl.selectedAccount.storeCopyOfEmail"
                                data-name="accountInfoStoreCopyOfEmail"
                            >
                                <span
                                    data-translate="exchange_account_update_email_keep_copy_label"
                                ></span>
                            </oui-checkbox>
                        </div>
                    </div>

                    <!--Quota-->
                    <div class="row">
                        <div
                            class="col-md-6 oui-field mb-4"
                            data-ng-if="$ctrl.updateAccountOptions && $ctrl.exchangeServiceInfrastructure.isProvider()"
                        >
                            <label
                                class="oui-field__label oui-label"
                                for="accountInfoSelectedAccountQuota"
                                data-translate="exchange_ACTION_update_account_step1_quota_label"
                            ></label>
                            <div class="oui-field__content">
                                <div class="oui-field-control text-nowrap">
                                    <div class="oui-select oui-select_inline">
                                        <select
                                            class="oui-select__input"
                                            id="accountInfoSelectedAccountQuota"
                                            name="accountInfoSelectedAccountQuota"
                                            required
                                            data-ng-model="$ctrl.selectedAccount.quota"
                                            data-ng-options="quota for quota in $ctrl.updateAccountOptions.quotaArray track by quota"
                                        >
                                            <option
                                                value="quota"
                                                data-ng-bind="$ctrl.quota"
                                            ></option>
                                        </select>
                                        <span
                                            class="oui-icon oui-icon-chevron-down"
                                            aria-hidden="true"
                                        ></span>
                                    </div>
                                    <span
                                        class="d-inline-block form-control-static ml-2"
                                        data-translate="unit_size_GB"
                                    ></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--ExchangeGuid-->
                    <div class="row">
                        <div class="col-md-6 oui-field mb-4">
                            <label
                                class="oui-field__label oui-label"
                                data-translate="exchange_account_update_exchange_guid"
                            ></label>
                            <div class="oui-field__content">
                                <div class="oui-field-control text-nowrap">
                                    <span
                                        data-ng-bind="$ctrl.emailAccount.exchangeGuid"
                                    ></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--Exchange 2010-->
                    <div
                        class="row"
                        data-ng-if="$ctrl.exchangeVersion.isVersion(2010)"
                    >
                        <div class="col-md-6 oui-field mb-4">
                            <label
                                class="oui-field__label oui-label"
                                data-translate="exchange_account_update_samAccountName_label"
                            ></label>
                            <div class="oui-field__content">
                                <div class="oui-field-control text-nowrap">
                                    <span
                                        data-ng-bind="$ctrl.emailAccount.samaccountName"
                                    ></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Button to display complementary sections-->
        <oui-button
            class="mb-4"
            data-variant="link"
            data-icon-right="{{'oui-icon-chevron-' + ($ctrl.displayAdvancedSections ? 'up' : 'down')}}"
            data-ng-click="$ctrl.displayAdvancedSections = !$ctrl.displayAdvancedSections"
        >
            <span
                data-translate="exchange_account_update_sections_title"
            ></span>
        </oui-button>

        <!--Company info-->
        <div data-ng-if="$ctrl.displayAdvancedSections">
            <!--Title-->
            <p
                class="oui-heading_4"
                data-translate="exchange_account_update_company_account_info_title"
            ></p>

            <!--Company fields sections-->
            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <!--Company name and Job department name-->
                    <div class="row">
                        <!--Company-->
                        <oui-field
                            class="col-md-6"
                            label="{{:: 'exchange_account_update_company_name_label' | translate }}"
                        >
                            <input
                                class="oui-input"
                                id="companyInfoName"
                                name="companyInfoName"
                                type="text"
                                maxlength="256"
                                data-ng-model="$ctrl.selectedAccount.company"
                                data-ng-required="$ctrl.selectedAccount.company"
                            />
                        </oui-field>

                        <!--Job department-->
                        <oui-field
                            class="col-md-6"
                            label="{{:: 'exchange_account_update_company_job_department_label' | translate }}"
                        >
                            <input
                                class="oui-input"
                                id="companyInfoJobDepartment"
                                name="companyInfoJobDepartment"
                                type="text"
                                maxlength="256"
                                data-ng-model="$ctrl.selectedAccount.jobDepartment"
                                data-ng-required="$ctrl.selectedAccount.jobDepartment"
                            />
                        </oui-field>
                    </div>

                    <!--Job and office location-->
                    <div class="row">
                        <!--Job-->
                        <oui-field
                            class="col-md-6"
                            label="{{:: 'exchange_account_update_company_job_label' | translate }}"
                        >
                            <input
                                class="oui-input"
                                id="companyInfoJobTitle"
                                name="companyInfoJobTitle"
                                type="text"
                                maxlength="256"
                                data-ng-model="$ctrl.selectedAccount.jobTitle"
                                data-ng-required="$ctrl.selectedAccount.jobTitle"
                            />
                        </oui-field>

                        <!--Office-->
                        <oui-field
                            class="col-md-6"
                            label="{{:: 'exchange_account_update_company_desk_label' | translate }}"
                        >
                            <input
                                class="oui-input"
                                id="companyInfoDesk"
                                name="companyInfoOffice"
                                type="text"
                                maxlength="256"
                                data-ng-model="$ctrl.selectedAccount.office"
                                data-ng-required="$ctrl.selectedAccount.office"
                            />
                        </oui-field>
                    </div>
                </div>
            </div>
        </div>

        <!--Contact info-->
        <div data-ng-if="$ctrl.displayAdvancedSections">
            <!--Contact title-->
            <p
                class="oui-heading_4"
                data-translate="exchange_account_update_contact_account_info_title"
            ></p>

            <!--Address fields sections-->
            <div class="row">
                <div class="col-sm-12 col-md-8">
                    <div class="row">
                        <!--Address column-->
                        <div class="col-md-6">
                            <!--Street field-->
                            <oui-field
                                label="{{:: 'exchange_account_update_contact_street_label' | translate }}"
                            >
                                <input
                                    class="oui-input"
                                    id="contactInfoStreet"
                                    name="contactInfoStreet"
                                    type="text"
                                    maxlength="256"
                                    data-ng-model="$ctrl.selectedAccount.streetAddress"
                                    data-ng-required="$ctrl.selectedAccount.streetAddress"
                                />
                            </oui-field>

                            <!--Zipcode and city field-->
                            <div class="w-100 oui-input-group">
                                <oui-field
                                    size="s"
                                    label="{{:: 'exchange_account_update_contact_postalCode_label' | translate }}"
                                >
                                    <input
                                        class="oui-input"
                                        id="contactInfoPostalCode"
                                        name="contactInfoPostalCode"
                                        type="text"
                                        data-ng-model="$ctrl.selectedAccount.postalCode"
                                    />
                                </oui-field>

                                <oui-field
                                    class="w-100 ml-2"
                                    label="{{:: 'exchange_account_update_contact_city_label' | translate }}"
                                >
                                    <input
                                        class="oui-input"
                                        id="contactInfoCity"
                                        name="contactInfoCity"
                                        type="text"
                                        maxlength="256"
                                        data-ng-model="$ctrl.selectedAccount.city"
                                        data-ng-required="$ctrl.selectedAccount.city"
                                    />
                                </oui-field>
                            </div>

                            <!--Country and region field-->
                            <div class="w-100 oui-input-group">
                                <oui-field
                                    size="s"
                                    label="{{:: 'exchange_account_update_contact_country_label' | translate }}"
                                >
                                    <label class="oui-select">
                                        <select
                                            class="oui-select__input"
                                            name="contactInfoCountry"
                                            id="contactInfoCountry"
                                            data-ng-model="$ctrl.selectedAccount.countryCode"
                                            data-ng-options="country.label for country in $ctrl.countries"
                                            data-ng-required="$ctrl.selectedAccount.countryCode"
                                        >
                                        </select>
                                        <span
                                            class="oui-icon oui-icon-chevron-down"
                                            aria-hidden="true"
                                        ></span>
                                    </label>
                                </oui-field>

                                <oui-field
                                    class="w-100 ml-2"
                                    label="{{:: 'exchange_account_update_contact_region_label' | translate }}"
                                >
                                    <input
                                        class="oui-input"
                                        id="contactInfoRegion"
                                        name="contactInfoRegion"
                                        type="text"
                                        data-ng-model="$ctrl.selectedAccount.region"
                                    />
                                </oui-field>
                            </div>
                        </div>

                        <!--Phone column-->
                        <div class="col-md-6">
                            <!--Phone field-->
                            <div>
                                <label
                                    class="control-label"
                                    for="contactInfoPhone"
                                    data-ng-bind=":: 'exchange_account_update_contact_phone_label' | translate"
                                ></label>
                                <div class="oui-field">
                                    <div
                                        class="w-100 oui-input-group_inline"
                                        data-ng-class="{ 'oui-field_error has-error': $ctrl.updateAccountForm.contactInfoPhone.$invalid && $ctrl.updateAccountForm.contactInfoPhone.$touched }"
                                    >
                                        <input
                                            class="w-100 oui-input"
                                            id="contactInfoPhone"
                                            name="contactInfoPhone"
                                            type="text"
                                            data-ng-pattern="$ctrl.ACCOUNT_WORLD_PHONE_REGEX"
                                            data-ng-model="$ctrl.telephonyModel.phone.number"
                                            data-ng-change="$ctrl.onCountryPhoneCodeChange('phone')"
                                            data-ng-required="$ctrl.telephonyModel.phone.selected"
                                            data-oui-tooltip="{{:: 'exchange_account_update_contact_phone_help_text' | translate}}"
                                        />
                                    </div>
                                    <div class="oui-field__footer">
                                        <div
                                            class="oui-field__error"
                                            data-ng-if="$ctrl.updateAccountForm.contactInfoPhone.$error.required"
                                            role="alert"
                                        >
                                            <span
                                                class="oui-icon oui-icon-error"
                                                aria-hidden="true"
                                            ></span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--Mobile field-->
                            <div>
                                <label
                                    class="control-label"
                                    for="contactInfoMobile"
                                    data-ng-bind=":: 'exchange_account_update_contact_mobile_label' | translate"
                                ></label>
                                <div class="oui-field">
                                    <div
                                        class="w-100 oui-input-group_inline"
                                        data-ng-class="{ 'oui-field_error has-error': $ctrl.updateAccountForm.contactInfoMobile.$invalid && $ctrl.updateAccountForm.contactInfoMobile.$touched }"
                                    >
                                        <input
                                            class="w-100 oui-input"
                                            id="contactInfoMobile"
                                            name="contactInfoMobile"
                                            type="text"
                                            data-ng-pattern="$ctrl.ACCOUNT_WORLD_PHONE_REGEX"
                                            data-ng-model="$ctrl.telephonyModel.mobile.number"
                                            data-ng-change="$ctrl.onCountryPhoneCodeChange('mobile')"
                                            data-ng-required="$ctrl.telephonyModel.mobile.selected"
                                            data-oui-tooltip="{{:: 'exchange_account_update_contact_phone_help_text' | translate}}"
                                        />
                                    </div>
                                    <div class="oui-field__footer">
                                        <div
                                            class="oui-field__error"
                                            data-ng-if="$ctrl.updateAccountForm.contactInfoMobile.$error.required"
                                            role="alert"
                                        >
                                            <span
                                                class="oui-icon oui-icon-error"
                                                aria-hidden="true"
                                            ></span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!--Fax field-->
                            <div>
                                <label
                                    class="control-label"
                                    for="contactInfoFax"
                                    data-ng-bind=":: 'exchange_account_update_contact_fax_label' | translate"
                                ></label>
                                <div class="oui-field">
                                    <div
                                        class="w-100 oui-input-group_inline"
                                        data-ng-class="{ 'oui-field_error has-error': $ctrl.updateAccountForm.contactInfoFax.$invalid && $ctrl.updateAccountForm.contactInfoFax.$touched }"
                                    >
                                        <input
                                            class="w-100 oui-input"
                                            id="contactInfoFax"
                                            name="contactInfoFax"
                                            type="text"
                                            data-ng-pattern="$ctrl.ACCOUNT_WORLD_PHONE_REGEX"
                                            data-ng-model="$ctrl.telephonyModel.fax.number"
                                            data-ng-change="$ctrl.onCountryPhoneCodeChange('fax')"
                                            data-ng-required="$ctrl.telephonyModel.fax.selected"
                                            data-oui-tooltip="{{:: 'exchange_account_update_contact_phone_help_text' | translate}}"
                                        />
                                    </div>
                                    <div class="oui-field__footer">
                                        <div
                                            class="oui-field__error"
                                            data-ng-if="$ctrl.updateAccountForm.contactInfoFax.$error.required"
                                            role="alert"
                                        >
                                            <span
                                                class="oui-icon oui-icon-error"
                                                aria-hidden="true"
                                            ></span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Update and cancel buttons-->
        <div class="m-0">
            <button
                type="submit"
                class="oui-button oui-button_primary"
                data-ng-disabled="!$ctrl.isFormFieldsChanged() || $ctrl.updateAccountForm.$invalid || $ctrl.isSendingNewAccount"
                data-ng-bind=":: 'exchange_account_update_confirm_button' | translate"
                data-ng-click="$ctrl.updateExchangeAccount()"
            ></button>
            <button
                class="oui-button oui-button_secondary"
                data-translate="exchange_account_update_cancel_button"
                data-ng-click="$ctrl.goBack()"
            ></button>
        </div>
    </form>
</div>
