import { Meta } from '@storybook/blocks';
import {
    StorybookHeading,
} from '../../../../../../manager-wiki/components/';

<Meta title="Core/Manager React Components/Hooks/useServiceDetails" />

<StorybookHeading label="Overview" level={2} />

A React Query hook that fetches service details for a given resource.

<StorybookHeading label="Api" level={2} />

The hook uses two API endpoints:

1. Get Service ID:
   ```typescript
   GET /services?resourceName={resourceName}
   ```
   - Method: `GET`
   - Query Parameters:
     - `resourceName`: Filter on a specific service family
   - Response: `number[]` (array of service IDs)

2. Get Service Details:
   ```typescript
   GET /services/{serviceId}
   ```
   - Method: `GET`
   - Path Parameters:
     - `serviceId`: The ID of the service to fetch
   - Response: `ServiceDetails` object

<StorybookHeading label="Parameters" level={2} />

```typescript
type UseServiceDetailsParams = {
  /** Optional custom query key */
  queryKey?: string[];
  /** Resource name to fetch details for */
  resourceName: string;
};
```

<StorybookHeading label="Returns" level={2} />

Returns a React Query result object containing:
- `data`: The service details
- `isLoading`: Loading state
- `isError`: Error state
- `error`: Error object if any
- Other React Query result properties

<StorybookHeading label="Exemple" level={2} />

```tsx
const { data, isLoading, isError } = useServiceDetails({
  resourceName: 'my-service',
});

if (isLoading) return <Loading />;
if (isError) return <Error />;

return <div>{data.displayName}</div>;
```