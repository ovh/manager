import { Icon, ICON_NAME } from '@ovhcloud/ods-react';
import { Canvas, Meta } from '@storybook/blocks';
import * as TooltipStories from './tooltip.stories';
import { Banner } from '../../../base-documents/components/banner/Banner';
import { BestPractices } from '../../../base-documents/components/bestPractices/BestPractices';
import { Canvas as OdsCanvas } from '../../../base-documents/components/canvas/Canvas';
import { ExternalLink } from '../../../base-documents/components/externalLink/ExternalLink';
import { Heading } from '../../../base-documents/components/heading/Heading';
import { IdentityCard } from '../../../base-documents/components/identityCard/IdentityCard';
import { StorybookLink } from '../../../base-documents/components/storybookLink/StorybookLink';
import { REACT_COMPONENTS_TITLE, STORY } from '../../../base-documents/constants/meta';

<Meta of={ TooltipStories } name="Documentation" />

<Banner of={ TooltipStories } />

_**Tooltip** component is used to display contextual information when the user hovers or focuses a UI element in a page._

<Canvas of={ TooltipStories.Overview } sourceState="none" />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ ['Info Bubble'] }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=55-23473"
              githubUrl="@ovhcloud/ods-react"
              name="Tooltip">
  **Tooltip** component is used to display contextual information when the user hovers or focuses an element.

  It enhances user experience by providing helpful hints, explanations, or descriptions without cluttering the UI.

  **Tooltips** are commonly used with a button, an icon, or interactive elements.
</IdentityCard>

<Heading label="Usage" level={ 2 } />

Use the **Tooltip** component to provide additional information or context for UI elements.

**Tooltips** should be brief and helpful, enhancing user understanding without overwhelming them.

They are suitable for a button, an icon, a link, and any other elements where additional context would be beneficial.

<Heading label="Tooltip vs Popover" level={ 3 } />

- Both components look similar but a **Tooltip** is displayed on hover and focus while a <StorybookLink kind={ REACT_COMPONENTS_TITLE.popover } story={ STORY.documentation }>Popover</StorybookLink> is triggered by click.
- **Tooltips** are commonly used for shorter explanations, while longer text / complex UIs would suit Popovers better.
- Use a Popover when you need to insert interactive elements such as a button.
- A Popover can be dismissed if an action button allows it.

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={[
    '- Don\'t place critical or essential information inside a Tooltip, users may miss it',
    '- Don\'t use Tooltip to show error messages',
    '- Don\'t include interactive elements (e.g., buttons, links) inside a Tooltip',
    '- Don\'t repeat content already visible in the UI. Tooltips should complement, not duplicate',
    '- Don\'t overload Tooltips with rich content (images, media, long paragraphs)',
  ]}
  dos={[
    '- Use a Tooltip to provide concise, contextual help or clarification',
    '- Keep the content brief and easy to read, ideally under two lines',
    '- Use complete sentences with punctuation when space allows for improved readability',
    '- Use Tooltips only when the user might need additional context, not by default on every element',
    '- Position the Tooltip so it does not obstruct important elements',
  ]}
/>

<Heading label="Best Practices in Context" level={ 3 } />

![Component anatomy](/assets/base-assets/components/tooltip/anatomy.png "Component anatomy")

1. **Tooltip**
2. **Content**
3. **Carret tip** - optional
4. **Trigger**

<Heading label="Placement" level={ 2 } />

**Tooltip** has automatic positioning feature. It can detect the edge of the browser so the container always stays visible on a page.

<Heading label="Behavior" level={ 2 } />

By default, a **Tooltip** is hidden to the user.

It triggers when the user hovers or focuses on the **Tooltip**'s trigger element such as an icon.

The **Tooltip** remains visible while the user's mouse or focus is active, with customizable open and close delays.

It will hide when the users stop hovering over or focusing on this element.

On a mobile device, a **Tooltip** is displayed upon tapping, and it will hide when the user taps an area outside the **Tooltip** container.

<Heading label="Variation" level={ 2 } />

**With extra arrow**: providing a more pronounced visual connection between the tooltip and the element it describes, ensuring users clearly understand which element the tooltip is associated with.

<Heading label="Navigation" level={ 2 } />

<Heading label="Focus Management" level={ 3 } />

The **Tooltip** is tied to its trigger element and becomes visible when the trigger receives focus.

It remains open as long as the trigger element is focused.

<Heading label="General Keyboard Shortcuts" level={ 3 } />

Pressing `Tab` moves focus to the trigger, opening the **Tooltip** without delay.

Pressing `Tab` again moves focus away, closing the **Tooltip**.

Pressing `Escape` closes the **Tooltip** immediately if it is open.

<Heading label="Accessibility" level={ 2 } />

**Tooltips** are used to provide supplementary information about a UI element.
This component complies with the <ExternalLink href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Roles/tooltip_role">Tooltip WAI-ARIA design pattern</ExternalLink>.

You should set a minimal **Tooltip Trigger** height to at least `24px` to provide sufficient visual clarity.

<Heading label="Use tooltips to provide additional context" level={ 3 } />

If your UI includes an unlabeled or ambiguous element, consider attaching a **Tooltip** that explains its purpose.

<OdsCanvas of={ TooltipStories.AccessibilityTooltip } sourceState="shown" />

<Icon name={ ICON_NAME.circleCheck }
      style={{ color: 'var(--ods-color-success-500)' }} /> Screens will announce the tooltip information.
