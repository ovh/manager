import { ICON_NAME, Icon } from '@ovhcloud/ods-react';
import { Canvas, Meta } from '@storybook/blocks';
import * as TextareaStories from './textarea.stories';
import { Banner } from '../../../base-documents/components/banner/Banner';
import { BestPractices } from '../../../base-documents/components/bestPractices/BestPractices';
import { Canvas as OdsCanvas } from '../../../base-documents/components/canvas/Canvas';
import { Heading } from '../../../base-documents/components/heading/Heading';
import { IdentityCard } from '../../../base-documents/components/identityCard/IdentityCard';

<Meta of={ TextareaStories } name='Documentation' />

<Banner of={ TextareaStories } />

_A **Textarea** component allows users to input and edit multiple lines of text._

<Canvas of={ TextareaStories.Overview } sourceState="none" />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ ['Text Box'] }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=53-11147"
              githubUrl="@ovhcloud/ods-react"
              name="Textarea">
  The **Textarea** component is used to capture and display multi-line text input from users.

  It is typically used in forms where users need to provide detailed information, comments, or descriptions.
</IdentityCard>

<Heading label="Usage" level={ 2 } />

Use the **Textarea** component to allow users to enter multi-line text in forms, such as comments, messages, descriptions, or other detailed information.

Ensure that the **Textarea** is appropriately sized for the expected input and provides clear guidance on what information is needed.

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={[
    '- Don\'t use a Textarea for short, single-line inputs. Use an Input instead',
    '- Don\'t rely on a placeholder as a substitute for a proper label since it disappears once the user starts typing',
    '- Don\'t disable resizing if users are expected to write long-form content and might need a larger view',
  ]}
  dos={[
    '- Use a Textarea for inputs that may span multiple lines, such as comments, descriptions, or messages',
    '- Always pair the Textarea with a label to clearly explain what is expected',
    '- Use helper text to provide guidance or clarify formatting when needed',
    '- Allow scrolling or resizing if users are likely to enter long text (based on use case)',
    '- Use Textarea for a text longer than a single line',
  ]}
/>

<Heading label="Best Practices in Context" level={ 3 } />

![Component anatomy](./base-assets/components/textarea/anatomy.png "Component anatomy")

1. **Textarea**
2. **Placeholder or textarea text**
3. **Resize handler** - optional

<Heading label="Placement" level={ 2 } />

**Textarea** should be vertically aligned with other form components on a same page.

<Heading label="Behavior" level={ 2 } />

**Textarea** can be hovered, focused, disabled, or set to read-only.

When disabled, the component cannot be focused or interacted with.

If the user types more text than the **Textarea** can display, a scrollbar appears to allow scrolling.

The **Textarea** supports native browser resizing, but it is not enabled by default.

<Heading label="Navigation" level={ 2 } />

<Heading label="Focus Management" level={ 3 } />

When the **Textarea** is enabled, it can receive focus via keyboard interaction.

A disabled **Textarea** cannot receive focus.

A read-only **Textarea** can receive focus, allowing users to scroll and select content, but its content cannot be modified.

<Heading label="General Keyboard Shortcuts" level={ 3 } />

Pressing `Tab` moves focus to the **Textarea**.

Pressing `Shift` + `Tab` moves focus to the previous focusable element.

Pressing `Enter` creates a new line within the **Textarea**.

Pressing `Arrow` keys moves the caret within the text content.

Pressing `Ctrl` + `Arrow Left` / `Arrow Right` (or `Option` + `Arrow Left` / `Arrow Right` on macOS) moves the caret by word.

Pressing `Home` / `End` (or `Cmd`+ `Arrow` keys on macOS) moves the caret to the beginning or end of the line.

Pressing `Page Up` / `Page Down` scrolls through the content if it's longer than the visible area.

<Heading label="Accessibility" level={ 2 } />

To ensure proper accessibility, it must be correctly labeled, and provide live updates if a character limit is set.

<Heading label="Always provide an explicit label" level={ 3 } />

Every **Textarea** must have a clear and explicit label to ensure that users (especially screen reader users) understand its purpose,
using either **FormField** or a native label tag.

<OdsCanvas of={ TextareaStories.AccessibilityFormField } sourceState="shown" />

<Icon name={ ICON_NAME.circleCheck }
      style={{ color: 'var(--ods-color-success-500)' }} /> Screen readers will announce the label and the field.

<Heading label="Linking helper text" level={ 3 } />

<OdsCanvas of={ TextareaStories.AccessibilityDescribedBy } sourceState="shown" />

<Icon name={ ICON_NAME.circleCheck }
      style={{ color: 'var(--ods-color-success-500)' }} /> Screen readers will announce the label, the field and the helper text.
