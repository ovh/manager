import {
  StoryBookBanner,
  StorybookHeading,
  StorybookBestPractices,
  StorybookIdentityCard,
  StorybookTable,
} from '../../../../.storybook/docs/components/';
import { Meta, Canvas, Source } from '@storybook/blocks';
import meta  from './price.stories';
import Links from '../../../../.storybook/docs/external-links';

<Meta title="Manager React Components/Components/Price/Documentation" />

<StoryBookBanner of={meta} />

<StorybookHeading label="Overview" level={2} />

<StorybookIdentityCard
  aliases={['Interactive Price', 'Price Formatter']}
  githubUrl={Links.github.price}
  name="Price"
  relatedComponents={[{ name: 'ods-text', href: Links.ods.text }]}
>
  The Price component is a dynamic formatter designed to display prices in a
  context-sensitive manner.
</StorybookIdentityCard>

<StorybookHeading label="Anatomy" level={2} />

1. **Value**: ODS Text; The numerical price to display
2. **Currency**: derived from the subsidiary, displayed according to locale rules (e.g., â‚¬ or $)
3. **Subsidiary**: a mandatory attribute that determines the formatting style and additional details (e.g., tax labels)
4. **Locale**: adjust number formatting and currency placement:
   1. Decimal separator
   2. Currency position: before or after the value
5. **Tax**: dynamically calculates and displays the tax-inclusive price based on the applied tax rate
6. **Interval unit**: describes the pricing interval (e.g., "day", "month", "year")

<StorybookHeading label="Usage" level={2} />

Use the **Price** component whenever a price needs to be displayed in a way that adapts to regional and tax-specific rules.

<StorybookHeading label="Dos & Don'ts" level={2} />

<StorybookBestPractices
  dos={[
    "Do ensure the locale matches the target audience's expectations",
    'Do clearly specify tax rates and interval units when relevant',
  ]}
/>

<StorybookHeading label="Placement" level={2} />

The **Price** component can be placed inline with text or as a standalone element within pricing card, tile, table, subscription details or product pages.

<StorybookHeading label="Behavior" level={2} />

**States**

- **Default**:
  - Displays the price with pre-tax and post-tax amounts, currency, and any interval unit (none by default)
  - Formats the value according to the selected locale and subsidiary
- **Tax applied**:
  - The component calculates the tax-inclusive amount based on the subsidiary's rules and diplays it alongside the pre-tax amount
- **With Interval unit**:
  - Appends the interval unit to the displayed price from "day", "month" or "year"

**Interactions**

The **Price** component does not have interactive states but dynamically reacts to changes in its input (value, subsidiary, locale, tax settings).

<StorybookHeading label="Variation" level={2} />

The **Price** component automatically adapts based on the provided subsidiary and locale, leading to variations in:

- tax labels (e.g., HT/TTC, ex. GST/incl. GST)
- currency symbols and placement
- interval unit display

<StorybookHeading label="Accessibility" level={2} />

_Ensure the component meets accessibility standards.
Describe what should keyboard interaction do to the component
WAI Patterns can help you go though keyboard interaction :_ **[https://www.w3.org/WAI/ARIA/apg/patterns/](https://www.w3.org/WAI/ARIA/apg/patterns/)**

To ensure accessibility:

- Always include descriptive text for the price, such as tax details, currency, and interval units, for screen readers
- Ensure numeric values are clearly readble and adhere to formatting conventions for the target audience
