import { Icon, ICON_NAME } from '@ovhcloud/ods-react';
import { Canvas, Meta } from '@storybook/blocks';
import * as ClipboardStories from './clipboard.stories';
import { Banner } from '../../../base-documents/components/banner/Banner';
import { BestPractices } from '../../../base-documents/components/bestPractices/BestPractices';
import { Canvas as OdsCanvas } from '../../../base-documents/components/canvas/Canvas';
import { Heading } from '../../../base-documents/components/heading/Heading';
import { IdentityCard } from '../../../base-documents/components/identityCard/IdentityCard';

<Meta of={ ClipboardStories } name='Documentation' />

<Banner of={ ClipboardStories } />

_**Clipboard** component allows user to view and copy information to its **Clipboard**._

<Canvas of={ ClipboardStories.Overview } sourceState='none' />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ ['Copy Component', 'Copy to Clipboard'] }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=26-7351"
              githubUrl="@ovhcloud/ods-react"
              name="Clipboard">
  **Clipboard** component is used to copy quickly and easily a text, a link and more to the **Clipboard**.
</IdentityCard>

<Heading label="Usage" level={ 2 } />

**Clipboard** is used to quickly and easily copy an amount of text to the user's **Clipboard**.

It can be used when it is considered that it will cause trouble for the user to select and copy a text.

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={ [
    '- Don\'t use the Clipboard just to display static text, use a read-only Input or Text component instead',
    '- Don\'t display text that should be editable in a Clipboard, this component is read-only by nature',
    '- Don\'t place the Clipboard in contexts where copying is unnecessary or irrelevant',
  ] }
  dos={ [
    '- Use the Clipboard component to allow users to easily copy non-editable text, such as tokens, or IDs',
    '- Use Clipboard when copying text manually would be error-prone or tedious',
    '- Use the mask/unmask toggle appropriately for sensitive content, like passwords or tokens',
  ] }
/>

<Heading label="Best Practices in Context" level={ 3 } />

![Component anatomy](./base-assets/components/clipboard/anatomy.png "Component anatomy")

1. **Clipboard**
2. **Input text**
3. **Copy button**
4. **Tooltip**
5. **Show/Hide button** - optional

<Heading label="Placement" level={ 2 } />

By default, the **Clipboard** content is left-aligned in its container.

**Clipboard**'s Tooltip is right-aligned after the component by default, and vertically centered.

<Heading label="Behavior" level={ 2 } />

**Clipboard** can be focused and hovered. They can be disabled.
When disabled, the component can't be hovered, focused nor clicked.

The **Clipboard** component is used as read-only, to allow users to copy a predefined text that cannot be edited directly.

Even if no visual indicator prompts the user to do so, the user can select the text directly in the Input.

The trigger for copying the Input field content to the **Clipboard** is the "copy" button.

When hovering or focusing, a Tooltip is displayed as a helper.

The clipboard masking toggled using show/hide action is permanent. Users have to click again to show/hide the Input field content.

A confirmation Tooltip is displayed (if user is still hovering the "copy" button) when **Clipboard** content has been successfully copied.

<Heading label="Navigation" level={ 2 } />

<Heading label="Focus Management" level={ 3 } />

The **Clipboard** receives focus as part of the natural tab order. Copy button becomes focusable immediately after the **Clipboard**.

If the **Clipboard** is disabled, it is  skipped in the tab order and cannot be focused.

<Heading label="General Keyboard Shortcuts" level={ 3 } />

Pressing `Ctrl` + `C` (or `Cmd` + `C` on macOS) while the input field is focused copies the selected text.

Pressing `Enter` or `Space` when the copy button is focused triggers the copy action (button component behavior).

<Heading label="Accessibility" level={ 2 } />

To ensure proper accessibility, the **Clipboard** component must be correctly labeled.

<Heading label="Always provide an explicit label" level={ 3 } />

Every **Clipboard** must have a clear and explicit label to ensure that users (especially screen reader users) understand its purpose, using either **FormField** or a native label tag.

<OdsCanvas of={ ClipboardStories.AccessibilityFormField } sourceState="shown" />

<Icon name={ ICON_NAME.circleCheck }
      style={{ color: 'var(--ods-color-success-500)' }} /> Screen readers will announce the label, the field and its content.
