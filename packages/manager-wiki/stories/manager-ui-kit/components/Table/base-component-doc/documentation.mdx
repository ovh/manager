import { Canvas, Meta } from '@storybook/blocks';
import * as TableStories from './table.stories';
import { Banner } from '../../../base-documents/components/banner/Banner';
import { BestPractices } from '../../../base-documents/components/bestPractices/BestPractices';
import { ExternalLink } from '../../../base-documents/components/externalLink/ExternalLink';
import { Heading } from '../../../base-documents/components/heading/Heading';
import { IdentityCard } from '../../../base-documents/components/identityCard/IdentityCard';

<Meta of={ TableStories } name='Documentation' />

<Banner of={ TableStories } />

_A component to display data in a tabular format._

<Canvas of={ TableStories.Overview } sourceState="none" />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ [] }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=93-12118"
              githubUrl="@ovhcloud/ods-react"
              name="Table">
</IdentityCard>

<Heading label="Usage" level={ 2 } />

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={[
    '- Don\'t use the Table for layout or alignment purposes, they are meant for displaying tabular data only',
    '- Don\'t use the Table component to display large datasets (e.g. 30+ rows) without pagination or a `Load more` button',
    '- Don\'t overload rows with too much content per cell, keep data atomic and easy to scan',
    '- Don\'t leave column headers unclear or overly abbreviated',
    '- Don\'t make the Table scroll in multiple directions unless absolutely necessary, to avoid poor mobile experiences',
  ]}
  dos={[
    '- Use a Table to present structured data in a clear and readable layout',
    '- Limit the number of columns to 9 or fewer to maintain readability and avoid horizontal scrolling',
    '- Use concise, meaningful headers, and add a Tooltip or description if more context is needed',
    '- Display Skeletons in cells when data is loading asynchronously, rather than leaving them blank',
    '- Ensure the Table is responsive by allowing columns to adapt to content and screen size',
  ]}
/>

<Heading label="Best Practices in Context" level={ 3 } />

![Component anatomy](/assets/base-assets/components/table/anatomy.png "Component anatomy")

1. **Table**
2. **Header cell**
3. **Body cell**

<Heading label="Behavior" level={ 2 } />

**Table** component acts like native HTML table. It dynamically sizes column widths and row heights based on content and available space.

When an element is too large in a cell, the row height will adjust based on this element. It is possible to add a new line in a cell.

<Heading label="Variation" level={ 2 } />

<Heading label="Size" level={ 3 } />

- **Small**: displaying compact data sets in limited spaces, making efficient use of the available area without overwhelming the user.
- **Medium** _(default)_: default size of presenting data in a **Table**.
- **Large**: presenting extensive data sets with more detailed information, often featuring more columns and rows to provide comprehensive visibility of the data.

<Heading label="Variant" level={ 3 } />

- **Default**: provides default UI for the component, without distinctive background colors on rows/colors.
- **Striped**: improving readability by using alternating row colors to distinguish between consecutive rows of data, making it easier for users to follow and interpret the information. We recommend to use this variant when there are more than 10 rows in the **Table**.

<Heading label="Navigation" level={ 2 } />

The **Table** component behaves like the native `<table>` element. Keyboard navigation depends on the structure and interactive elements within the Table (e.g., links, or buttons). Integrators should ensure proper focus management based on their specific implementation.

<Heading label="Accessibility" level={ 2 } />

To ensure the **Table** component is fully accessible, it is essential to follow best practices for structuring tables with the correct semantic elements (`<thead>`, `<tbody>`, `<th>`, `<td>`...).

Since **Table** implementation is handled by the integrator, we recommend referring to the <ExternalLink href="https://www.w3.org/WAI/tutorials/tables">WCAG guidelines</ExternalLink> for accessible tables.
