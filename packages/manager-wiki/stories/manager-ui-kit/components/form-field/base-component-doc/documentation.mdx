import { Icon, ICON_NAME } from '@ovhcloud/ods-react';
import { Canvas, Meta } from '@storybook/blocks';
import * as FormFieldStories from './form-field.stories';
import { Banner } from '../../../base-documents/components/banner/Banner';
import { BestPractices } from '../../../base-documents/components/bestPractices/BestPractices';
import { Canvas as OdsCanvas } from '../../../base-documents/components/canvas/Canvas';
import { Heading } from '../../../base-documents/components/heading/Heading';
import { IdentityCard } from '../../../base-documents/components/identityCard/IdentityCard';

<Meta of={ FormFieldStories } name="Documentation" />

<Banner of={ FormFieldStories } />

_A **Form Field** component is used to wrap several form components with logic, visual hints and additional styling_

<Canvas of={ FormFieldStories.Overview } sourceState="none" />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ ['Form Control'] }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=172-11996"
              githubUrl="@ovhcloud/ods-react"
              name="Form Field">
  A **Form Field** is based on a single form element or group components as a whole that are decorated with additional
  text to handle specific types of information, like a Password field for example.
</IdentityCard>

<Heading label="Usage" level={ 2 } />

A **Form Field** is used to wrap a field that can be customized with some additional information about this field.

Additional information (label, placeholder, helper message) provides hint and help to users, so that they can easily understand what is required from them in a form.

Users will also type or enter information in the expected format and avoid mistakes.

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={[
    '- Don\'t place interactive elements like links or buttons inside the label',
    '- Don\'t rely on an asterisk alone to indicate required fields. Prefer explicit helper text or label',
    '- Overuse content related Form Fields with top aligned label in one group since it requires quite vertical space: split into smaller groups',
    '- Don\'t use Form Field when there\'s no input or interaction expected. It is meant for form inputs, not static content',
  ]}
  dos={[
    '- Use Form Field to wrap form inputs with a clear structure, including a label, optional helper text, or extra information',
    '- Group related fields using multiple Form Fields to improve clarity and scannability',
    '- Include helper messages to guide users on expected input formats or constraints (e.g., password requirements)',
    '- Use error message to provide feedback after user interaction',
  ]}
/>

<Heading label="Best Practices in Context" level={ 3 } />

![Component anatomy](./base-assets/components/form-field/anatomy.png "Component anatomy")

1. **Form Field**
2. **Label** - optional
3. **Form element**
4. **Helper message** - optional
5. **Error message** - optional
6. **Hint text** - optional

<Heading label="Placement" level={ 2 } />

A **Form Field** can be used everywhere in a page where there is a form and users may need help to fill in this form.

<Heading label="Behavior" level={ 2 } />

A **Form Field** can react to validation states, such as error, often by visually updating elements like the border or text indicators.

Helper text and error messages can be displayed freely around the field component, depending on the design or functional needs.

<Heading label="Navigation" level={ 2 } />

The **Form Field** component itself is not focusable and does not receive keyboard focus.

Only the interactive inner component it wraps, such as an Input, Password, Select, or other form element, can receive focus.
Focus behavior and keyboard navigation are determined by the specific form element used within the **Form Field**.

<Heading label="Accessibility" level={ 2 } />

The **Form Field** component handles by itself the accessibility requirements by using its internal components.

<OdsCanvas of={ FormFieldStories.AccessibilityLabel } sourceState="shown" />

<Icon name={ ICON_NAME.circleCheck }
      style={{ color: 'var(--ods-color-success-500)' }} /> Screen readers will announce the label, the field, its content and the helper text.

