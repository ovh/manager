import { ICON_NAME, Icon, Message, MessageBody, MessageIcon } from '@ovhcloud/ods-react';
import { Canvas, Meta } from '@storybook/blocks';
import * as IconStories from './icon.stories';
import { Banner } from '../../../base-documents/components/banner/Banner';
import { BestPractices } from '../../../base-documents/components/bestPractices/BestPractices';
import { Canvas as OdsCanvas } from '../../../base-documents/components/canvas/Canvas';
import { ExternalLink } from '../../../base-documents/components/externalLink/ExternalLink';
import { Heading } from '../../../base-documents/components/heading/Heading';
import { IdentityCard } from '../../../base-documents/components/identityCard/IdentityCard';
import { StorybookLink } from '../../../base-documents/components/storybookLink/StorybookLink';
import { REACT_COMPONENTS_TITLE, STORY } from '../../../base-documents/constants/meta';

<Meta of={ IconStories } name="Documentation" />

<Banner of={ IconStories } />

_**Icon** is a visual context used to represent a command, navigation, status or common action._

<Canvas of={ IconStories.Overview } sourceState="none" />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ ['Symbol'] }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=26-20213"
              githubUrl="@ovhcloud/ods-react"
              name="Icon">
  **Icon** is a visual symbol which provides visual context thanks to its clarity and consistency.

  It is displayed as solid, in a single color.
</IdentityCard>

<Heading label="Usage" level={ 2 } />

**Icons** enhance the usability and bring clarity to users by reducing the cognitive load.

**Icons** can be used in standalone Button and can be usually associated with some sort of action.

**Icons** can be used as navigational elements as well.

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={[
    '- Don\'t use the same Icon for different meanings. It can confuse users and reduce semantic clarity',
    '- Don\'t use similar shades for both the Icon and background, this can reduce visibility',
    '- Don\'t baseline-align Icon when next to text, it disrupts alignment and flow',
    '- Don\'t use different colors for the Icon and the adjacent text when they represent the same concept',
    '- Don\'t rely on Icon without supporting text for critical actions or information',
  ]}
  dos={[
    '- Ensure sufficient contrast between the Icon color and its background for accessibility compliance',
    '- Center-align Icon vertically when placed next to text to maintain visual balance',
    '- Use the same color for the Icon and the adjacent text when they are paired for a unified appearance',
    '- Use Icon to support meaning, such as reinforcing an action or clarifying status',
    '- Ensure consistent sizing and spacing across the interface for visual harmony',
  ]}
/>

<Heading label="Placement" level={ 2 } />

**Icons** draw attention to important information or action, so it has to be thoughtfully inserted in a page.

They can also help with the understanding of specific elements by providing a visual example.

They also can be used in other components where it is adapted for a specific purpose.

<Heading label="Behavior" level={ 2 } />

**Icons** can stand alone or be included in a button or other components depending on the usage.

<Heading label="Navigation" level={ 2 } />

The **Icon** component is non-interactive and does not receive keyboard focus when used alone. It is purely decorative unless included in an interactive component (e.g., a button, a link, or a breadcrumb).

When used within an interactive component, refer to that component's documentation for keyboard navigation details.

<Heading label="Accessibility" level={ 2 } />

Proper attributes should be used to ensure that **Icons** are either perceivable by assistive technologies or correctly hidden when decorative.

<Heading label="Hiding decorative Icon" level={ 3 } />

<Icon name={ ICON_NAME.circleCheck }
      style={{ color: 'var(--ods-color-success-500)' }} /> By default, every **Icon** has a `role="presentation"` that hides it from screen readers.

<Heading label="Providing meaningful information" level={ 3 } />

If the **Icon** conveys essential information, it must be accompanied by an accessible label using <ExternalLink href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Attributes/aria-label">aria-label</ExternalLink> and <ExternalLink href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Roles/img_role">role="img"</ExternalLink>.

<OdsCanvas of={ IconStories.AccessibilityInformative } sourceState="shown" />

<Icon name={ ICON_NAME.circleCheck }
      style={{ color: 'var(--ods-color-success-500)' }} /> Screen readers will announce the label, ensuring users understand the **Icon**'s meaning.

<Message dismissible={ false } style={{ width: '100%' }}>
  <MessageIcon name="circle-info" />
  <MessageBody>
    If the **Icon** is inside an interactive element, prefer using <ExternalLink href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Attributes/aria-label">aria-label</ExternalLink> on the element itself rather than on the **Icon**.
    See <StorybookLink kind={ REACT_COMPONENTS_TITLE.button } story={ STORY.documentation }>Button</StorybookLink> examples.
  </MessageBody>
</Message>
