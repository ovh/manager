import {
  StoryBookBanner,
  StorybookHeading,
  StorybookBestPractices,
  StorybookIdentityCard,
  StorybookTable,
} from '../../../../.storybook/docs/components/';
import { Meta, Canvas, Source } from '@storybook/blocks';
import meta from './UpdateNameModal.stories';
import Links from '../../../../.storybook/docs/external-links';

<Meta title="Manager UI Kit/Components/Update Name Modal/Documentation" />

<StoryBookBanner of={meta} />

The **Update Name Modal** provides a user interface to rename items such as products, resources, or other entities.

<StorybookHeading label="Overview" level={2} />

<StorybookIdentityCard
  aliases={['Rename Modal', 'Edit Name Modal']}
  githubUrl={Links.github.updateNameModal}
  name="Update Name Modal"
  relatedComponents={[
    { name: 'ods-button', href: Links.ods.button },
    { name: 'ods-form-field', href: Links.ods.formField },
    { name: 'ods-message', href: Links.ods.message },
    { name: 'ods-modal', href: Links.ods.modal },
    { name: 'ods-input', href: Links.ods.input },
    { name: 'ods-text', href: Links.ods.text }
  ]}
>

It uses ODS Modal from OVHcloud Design System.

</StorybookIdentityCard>

<StorybookHeading label="Anatomy" level={2} />

1. **Headline/Title**: a free-text as title
2. **Description**: a short explanatory text detailing the purpose of the modal
3. **ODS Form Field**:
   1. **Update Input Label** associated with the Input indicating the value the user must type to enable update
   2. **An ODS Input**: used for user validation
4. **Actions** including two buttons :
   1. **Cancel**: Closes the modal without, it trigger closeModal callback
   2. **Confirm**: Executes the update dispaly name action; disabled by default and enabled only when the input value matches the expected text
5. **Close Button**: Inherited from the ODS Modal, allowing users to dismiss the modal

<StorybookHeading label="Usage" level={2} />

Use the **Update Name Modal** for renaming entities like products, resources, or others elements requiring a display name.

<StorybookHeading label="Dos & Don'ts" level={2} />

<StorybookBestPractices
  dos={[
    'Do use the Update Name Modal for simple and straightforward renaming tasks',
    'Do ensure the Input field is pre-filled with the current name',
    'Do provide clear pattern messages when a specific naming format is required',
  ]}
  donts={[
    'Do not use the Update Name Modal for unrelated editing tasks',
    'Avoid using the Update Name Modal for operations requiring additional complex inputs or steps beyond renaming',
  ]}
/>

<StorybookHeading label="Placement" level={2} />

The **Update Name Modal** is triggered by a user action, such as clicking an "Edit" button associated with the entity to rename.

<StorybookHeading label="Api Service" level={2} />

A custom hook `useUpdateServiceDisplayName` is implemented, [here](/docs/hooks-useupdateservicename--technical-information) the documentation

<StorybookHeading label="Behaviour" level={2} />

**States**

- **Default:**

  - The Modal opens with the Input pre-filled with the old/current name
  - Confirm button is disabled and it remains disabled until a new name is entered in the Input field

- **Hover, focus, click:**

  - All inherited from the OVHcloud Design System components

- **Loading:**
  - Input field is disabled to prevent further interaction
  - Confirm button is disabled and shows a spinner indicating the loading state

**Interactions**

- **Input:**

  - User edits the name in the Input field
  - If the Input value does not match the predefined pattern, the confirm Button remains disabled, and the pattern message guides the user
  - When a valid new name is entered, the confirm button becomes enabled and clickable

- **Buttons**

  - Cancel: dismisses the modal, it can be trigger by `onClose` callback
  - Confirm: when enabled, submits the updated name and closes the modal, it can beb trigger by `updateDisplayName` callback

- **Close Button**
  - The modal can also be dismissed by clicking the close button, inherited from the ODS Modal, , it trigger onClose callback

<StorybookHeading label="Variations" level={2} />

There is only one visual variation of the **Update Name Modal**, which uses the info color.

<StorybookHeading label="Accessibility" level={2} />

_Ensure the component meets accessibility standards.
Describe what should keyboard interaction do to the component
WAI Patterns can help you go though keyboard interaction :_ **[https://www.w3.org/WAI/ARIA/apg/patterns/](https://www.w3.org/WAI/ARIA/apg/patterns/)**

<StorybookTable
  data={{
    columns: ['key', 'interaction'],
    rows: [
      {
        key: 'Tab',
        interaction: 'Move between interactive elements (Input, Buttons)',
      },
      {
        key: 'Enter or Space while Action Menu is focused',
        interaction: 'Activate the focused Button',
      },
      {
        key: 'Escape',
        interaction: 'Dismiss the modal',
      },
    ],
  }}
/>