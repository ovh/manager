import {
  StoryBookBanner,
  StorybookHeading,
  StorybookBestPractices,
  StorybookIdentityCard,
  StorybookTable,
} from '../../../../components/';
import { Meta, Canvas, Source } from '@storybook/blocks';
import meta, { DemoTagsTile } from './tags-tile.stories';
import Links from '../../../../components/external-links';

<Meta title="Manager UI Kit/Components/TagsTile/Documentation" />

<StoryBookBanner of={meta} />

<Canvas layout="centered" of={DemoTagsTile} sourceState="none" />

<StorybookHeading label="Overview" level={2} />

<StorybookIdentityCard
  githubUrl="https://github.com/ovh/manager/tree/master/packages/manager-ui-kit/src/components/tags-tile"
  name="TagsTile"
  relatedComponents={[
    { name: 'card', href: Links.ods.card },
    { name: 'tag', href: Links.ods.tag },
    { name: 'link', href: Links.ods.link },
  ]}
>
  The **TagsTile** component displays a tile that shows **tags** (key-value pairs) associated with an item (e.g., a customer, resource, etc.).  
  It leverages OVHcloud's ODS React components for consistent design and behavior. The component provides a scrollable list of tags and includes an action link to edit tags.
</StorybookIdentityCard>

<StorybookHeading label="Anatomy" level={2} />

1. **ODS Tile**: The container that wraps the tags display with a title
2. **TagsList**: Displays the list of tags in a scrollable area
3. **ODS Link**: Action link to edit or add tags

<StorybookHeading label="Usage" level={2} />

Use the **TagsTile** to display and manage tags associated with resources, customers, or other entities in a consistent tile format.

<StorybookHeading label="Dos & Don'ts" level={2} />

<StorybookBestPractices
  dos={[
    'Do use TagsTile to display key-value tag pairs in a structured format',
    'Do provide an onEditTags callback to enable tag management',
    'Do use displayInternalTags to control visibility of internal tags',
  ]}
  donts={[
    'Do not use TagsTile for displaying non-tag related information',
    'Do not use TagsTile without providing tags or handling empty states',
  ]}
/>

<StorybookHeading label="Placement" level={2} />

The **TagsTile** component is typically used within detail pages, resource management interfaces, or anywhere tags need to be displayed and managed in a dedicated tile format.

<StorybookHeading label="Behavior" level={2} />

**States**

- **Default**:
  - Displays tags in a scrollable container (default 5 lines)
  - Shows "Manage tags" link when tags exist
- **Empty State**:
  - Displays empty state message when no tags are provided
  - Shows "Add tag" link instead of "Manage tags"
- **Hover and focus**:
  - Link interactions follow ODS Link component behavior

<StorybookHeading label="Variation" level={2} />

**Internationalization (i18n)**

The TagsTile component supports the following languages: English, German, Spanish, French (default), Italian, Dutch, Polish and Portuguese.

**Props**

- `tags`: Object containing key-value pairs of tags to display
- `displayInternalTags`: Boolean to control visibility of internal tags (default: false)
- `lineNumber`: Number of lines to display before scrolling (default: 5)
- `onEditTags`: Callback function triggered when edit/add tag link is clicked

<StorybookHeading label="Accessiblity" level={2} />

_Ensure the component meets accessibility standards.
Describe what should keyboard interaction do to the component
WAI Patterns can help you go though keyboard interaction :_ **[https://www.w3.org/WAI/ARIA/apg/patterns/](https://www.w3.org/WAI/ARIA/apg/patterns/)**

<StorybookTable
  data={{
    columns: ['key', 'interaction'],
    rows: [
      {
        key: 'Tab',
        interaction: 'Move focus to the edit/add tags link',
      },
      {
        key: 'Enter',
        interaction: 'Activate the edit/add tags link when focused',
      },
      {
        key: 'Arrow Keys',
        interaction: 'Navigate through scrollable tag list when focused',
      },
    ],
  }}
/>