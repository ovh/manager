import { ICON_NAME, Icon } from '@ovhcloud/ods-react';
import { Canvas, Meta } from '@storybook/blocks';
import * as CardStories from './card.stories';
import { Banner } from '../../../base-documents/components/banner/Banner';
import { BestPractices } from '../../../base-documents/components/bestPractices/BestPractices';
import { Canvas as OdsCanvas } from '../../../base-documents/components/canvas/Canvas';
import { ExternalLink } from '../../../base-documents/components/externalLink/ExternalLink';
import { Heading } from '../../../base-documents/components/heading/Heading';
import { IdentityCard } from '../../../base-documents/components/identityCard/IdentityCard';
import { StorybookLink } from '../../../base-documents/components/storybookLink/StorybookLink';
import { REACT_COMPONENTS_TITLE, STORY } from '../../../base-documents/constants/meta';

<Meta of={ CardStories } name="Documentation" />

<Banner of={ CardStories } />

_A **Card** is a versatile component designed to act as a container for various types of content, providing structure and context in a visually distinct box._

<Canvas of={ CardStories.Overview } sourceState="none" />

<Heading label="Overview" level={ 2 } />

<IdentityCard aliases={ ['Tile (previous name)', 'Content Container', 'Product Card'] }
              figmaLink="https://www.figma.com/design/9jDDTcR4a9jPRFcdjawAlf/ODS---UI-Kit?node-id=3-28244"
              githubUrl="@ovhcloud/ods-react"
              name="Card">
  The **Card** component will serve as a flexible container that can be used across different parts of an application
  to display information in a structured manner.

  It is designed to be reusable, customizable, and responsive, as it can hold various elements like
  text, Medium, and other UI components.

  It also provides a consistent layout and styling for presenting information in a visually appealing way.
</IdentityCard>

<Heading label="Usage" level={ 2 } />

A **Card** can be used to:

* display a wide variety of content such as a text, or other elements.
* emphasize important content
* visually group related content
* guide the user toward actions
* provide the option to navigate to more detailed content

Several elements can be used in a **Card**:

* A title
* A description
* A <StorybookLink kind={ REACT_COMPONENTS_TITLE.button } story={ STORY.documentation }>Button</StorybookLink>
* A <StorybookLink kind={ REACT_COMPONENTS_TITLE.medium } story={ STORY.documentation }>Medium</StorybookLink>
* Extra information

All these elements are not mandatory in every **Card**.

<Heading label="Dos & Don'ts" level={ 3 } />

<BestPractices
  donts={[
    '- Don\'t overuse Card across the UI. They should enhance clarity, not create visual clutter',
    '- Don\'t fill Card with unrelated or excessive content that breaks focus or structure',
    '- Don\'t place too many buttons or CTAs within a single Card. Keep interactions minimal and purposeful',
    '- Don\'t use Card to group inconsistent or unrelated components (e.g., mixing stats, forms, and media arbitrarily)',
    '- Don\'t use Card to group inconsistent or unrelated components (e.g., mixing stats, forms, and media arbitrarily)',
    '- Don\'t make the entire Card clickable unless it\'s meant to behave as a single interactive unit',
    '- Don\'t apply inconsistent padding, borders, or elevation. All Cards should follow the same structural rules',
  ]}
  dos={[
    '- Use Card to group related content or actions into a visually distinct, contained block',
    '- Combine contextually related elements inside a Card (e.g., image, title, text, CTA/button)',
    '- Use Card to highlight key content, such as featured items, previews, or summaries',
    '- Keep the Card layout clean and scannable, using consistent spacing and visual hierarchy',
    '- Limit the number of interactive elements (e.g., buttons or links)',
    '- Apply Card when you need to modularize content for dashboards, lists, or repeated patterns',
  ]}
/>

<Heading label="Best Practices in Context" level={ 3 } />

![Component anatomy](/assets/base-assets/components/card/anatomy.png "Component anatomy")

1. **Card**
2. **Content**

<Heading label="Placement" level={ 2 } />

**Cards** that are strongly related can be grouped in a layout group. This group can flow horizontally left to right and/or vertically top to bottom.

<Heading label="Variation" level={ 2 } />

<Heading label="Color" level={ 3 } />

- **Neutral**: displaying standard content without conveying any particular status or urgency, maintaining a balanced and non-emphatic appearance.
- **Primary**: displaying highlighted content with particular emphasis.

<Heading label="Navigation" level={ 2 } />

The **Card** component is non-interactive and does not receive keyboard focus.

<Heading label="Accessibility" level={ 2 } />

When multiple **Cards** are grouped together, it is important to ensure their structure is correctly conveyed to assistive technologies.

<Heading label="Structuring groups of Cards with lists" level={ 3 } />

If multiple **Cards** are displayed together (e.g., a collection of products, articles or dashboards), they should be wrapped in an unordered list of items (`<ul>` and `<li>`) to improve navigation for screen reader users.

<OdsCanvas of={ CardStories.AccessibilityGrouping } sourceState="shown" />

<Icon name={ ICON_NAME.circleCheck }
      style={{ color: 'var(--ods-color-success-500)' }} /> This structure ensures that assistive technologies announce **Cards** as a list, rather than reading them as separate, unrelated announcements.
Screen readers will announce the list and the number of items.

<Heading label="Alternative approach with ARIA roles" level={ 3 } />

When modifying the HTML structure is not possible, use <ExternalLink href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Roles/list_role">role="list"</ExternalLink> and <ExternalLink href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Reference/Roles/listitem_role">role="listitem"</ExternalLink> to mimic list semantics.

<OdsCanvas of={ CardStories.AccessibilityAlternativeGrouping } sourceState="shown" />

<Icon name={ ICON_NAME.circleCheck }
      style={{ color: 'var(--ods-color-success-500)' }} /> This ensures that screen readers still recognize the **Cards** as a structured list even without native `<ul>` and `<li>` elements.
