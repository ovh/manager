import{j as d}from"./jsx-runtime-BRNY0I4F.js";import{m as C}from"./index-2w0W-O47-BJ19ihbZ.js";import{r as i}from"./index-Bnop-kX6.js";import{I as j}from"./FormFieldLabel-DerGjSSG-BDyW1aTt.js";import{X as H,t as p,v as _,x as K,g as B,a2 as X,a3 as G,a4 as A,a5 as M,T as U,L as W,R as z,O as J,w as Q,V as Y,G as u,B as Z,$ as ee,a6 as te,A as le}from"./use-locale-context-cwTY9VYn-REDUMe7F.js";import{r as S}from"./use-field-context-C3OOq-03-DvM5qnyl.js";import{B as ae,y as oe}from"./index-DDXR4bR2-rx0xkcPf.js";const[de,m]=H({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),R=i.forwardRef((e,t)=>{const l=m(),a=p(l.getControlProps(),e);return d.jsx(_.span,{...a,ref:t})});R.displayName="SwitchControl";const D=i.forwardRef((e,t)=>{const l=m(),a=p(l.getHiddenInputProps(),e),o=S();return d.jsx(_.input,{"aria-describedby":o==null?void 0:o.ariaDescribedby,...a,ref:t})});D.displayName="SwitchHiddenInput";const O=i.forwardRef((e,t)=>{const l=m(),a=p(l.getLabelProps(),e);return d.jsx(_.span,{...a,ref:t})});O.displayName="SwitchLabel";var se=K("switch").parts("root","label","control","thumb"),x=se.build(),I=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},w=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},re=e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},ne=e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},E=e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`switch:${e.id}:input`},ie=e=>e.getById(I(e)),f=e=>e.getById(E(e));function ce(e,t){const{context:l,send:a,prop:o,scope:s}=e,r=!!o("disabled"),v=!!o("readOnly"),y=!!o("required"),b=!!l.get("checked"),k=!r&&l.get("focused"),T=!r&&l.get("focusVisible"),h={"data-active":u(l.get("active")),"data-focus":u(k),"data-focus-visible":u(T),"data-readonly":u(v),"data-hover":u(l.get("hovered")),"data-disabled":u(r),"data-state":b?"checked":"unchecked","data-invalid":u(o("invalid")),"data-required":u(y)};return{checked:b,disabled:r,focused:k,setChecked(n){a({type:"CHECKED.SET",checked:n,isTrusted:!1})},toggleChecked(){a({type:"CHECKED.TOGGLE",checked:b,isTrusted:!1})},getRootProps(){return t.label({...x.root.attrs,...h,dir:o("dir"),id:I(s),htmlFor:E(s),onPointerMove(){r||a({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){r||a({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(n){var c;r||(Z(n)===f(s)&&n.stopPropagation(),ee()&&((c=f(s))==null||c.focus()))}})},getLabelProps(){return t.element({...x.label.attrs,...h,dir:o("dir"),id:w(s)})},getThumbProps(){return t.element({...x.thumb.attrs,...h,dir:o("dir"),id:re(s),"aria-hidden":!0})},getControlProps(){return t.element({...x.control.attrs,...h,dir:o("dir"),id:ne(s),"aria-hidden":!0})},getHiddenInputProps(){return t.input({id:E(s),type:"checkbox",required:o("required"),defaultChecked:b,disabled:r,"aria-labelledby":w(s),"aria-invalid":o("invalid"),name:o("name"),form:o("form"),value:o("value"),style:te,onFocus(){const n=oe();a({type:"CONTEXT.SET",context:{focused:!0,focusVisible:n}})},onBlur(){a({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(n){if(v){n.preventDefault();return}const c=n.currentTarget.checked;a({type:"CHECKED.SET",checked:c,isTrusted:!0})}})}}}var{not:N}=z(),ue=B({props({props:e}){return{defaultChecked:!1,label:"switch",value:"on",...e}},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(l){var a;(a=e("onCheckedChange"))==null||a({checked:l})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:e,prop:t})=>t("disabled")||e.get("fieldsetDisabled")},watch({track:e,prop:t,context:l,action:a}){e([()=>t("disabled")],()=>{a(["removeFocusIfNeeded"])}),e([()=>l.get("checked")],()=>{a(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:N("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:N("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({computed:e,scope:t,context:l}){if(!e("isDisabled"))return X({pointerNode:ie(t),keyboardNode:f(t),isValidKey:a=>a.key===" ",onPress:()=>l.set("active",!1),onPressStart:()=>l.set("active",!0),onPressEnd:()=>l.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){if(!e("isDisabled"))return ae({root:t.getRootNode()})},trackFormControlState({context:e,send:t,scope:l}){return G(f(l),{onFieldsetDisabledChange(a){e.set("fieldsetDisabled",a)},onFormReset(){const a=e.initial("checked");t({type:"CHECKED.SET",checked:!!a,src:"form-reset"})}})}},actions:{setContext({context:e,event:t}){for(const l in t.context)e.set(l,t.context[l])},syncInputElement({context:e,scope:t}){const l=f(t);l&&A(l,!!e.get("checked"))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.set("focused",!1)},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e}){e.set("checked",!e.get("checked"))},dispatchChangeEvent({context:e,scope:t}){const l=f(t);M(l,{checked:e.get("checked")})}}}});U()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const ge=e=>{const t=i.useId(),{getRootNode:l}=J(),{dir:a}=Q(),o=S(),s={id:t,ids:{label:o==null?void 0:o.ids.label,hiddenInput:o==null?void 0:o.ids.control},dir:a,disabled:o==null?void 0:o.disabled,readOnly:o==null?void 0:o.readOnly,invalid:o==null?void 0:o.invalid,required:o==null?void 0:o.required,getRootNode:l,...e},r=Y(ue,s);return ce(r,le)},L=i.forwardRef((e,t)=>{const[l,a]=W()(e,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),o=ge(l),s=p(o.getRootProps(),a);return d.jsx(de,{value:o,children:d.jsx(_.label,{...s,ref:t})})});L.displayName="SwitchRoot";const V=i.forwardRef((e,t)=>{const l=m(),a=p(l.getThumbProps(),e);return d.jsx(_.span,{...a,ref:t})});V.displayName="SwitchThumb";const F=i.createContext({});function be({children:e,withLabels:t}){return d.jsx(F.Provider,{value:{withLabels:t},children:e})}function he(){return i.useContext(F)}const g={"toggle-labels":"_toggle-labels_1ekxx_2","toggle-labels__label-on":"_toggle-labels__label-on_1ekxx_13","toggle-labels__label-off":"_toggle-labels__label-off_1ekxx_13","toggle-labels__label-on--checked":"_toggle-labels__label-on--checked_1ekxx_22","toggle-labels__label-on--disabled":"_toggle-labels__label-on--disabled_1ekxx_25","toggle-labels__label-off--unchecked":"_toggle-labels__label-off--unchecked_1ekxx_32","toggle-labels__label-off--focused":"_toggle-labels__label-off--focused_1ekxx_35","toggle-labels__label-off--disabled":"_toggle-labels__label-off--disabled_1ekxx_35"},fe="ON",pe="OFF",q=()=>{const{checked:e,disabled:t,focused:l}=m();return d.jsxs("span",{className:g["toggle-labels"],children:[d.jsx("span",{className:C(g["toggle-labels__label-on"],{[g["toggle-labels__label-on--checked"]]:e},{[g["toggle-labels__label-on--disabled"]]:t}),children:fe}),d.jsx("span",{className:C(g["toggle-labels__label-off"],{[g["toggle-labels__label-off--unchecked"]]:!e},{[g["toggle-labels__label-off--disabled"]]:t},{[g["toggle-labels__label-off--focused"]]:l}),children:pe})]})};q.displayName="ToggleLabels";const P={"toggle-control":"_toggle-control_t6d2a_2","toggle-control__thumb":"_toggle-control__thumb_t6d2a_42"},$=i.forwardRef(({className:e,...t},l)=>{const a=j(),{withLabels:o}=he();return d.jsxs(d.Fragment,{children:[d.jsxs(R,{className:C(P["toggle-control"],e),"data-ods":"toggle-control",ref:l,...t,children:[d.jsx(V,{className:P["toggle-control__thumb"]}),o&&d.jsx(q,{})]}),d.jsx(D,{"aria-describedby":t["aria-describedby"]||(a==null?void 0:a.ariaDescribedBy),"aria-labelledby":t["aria-labelledby"]||((a==null?void 0:a.labelId)??"")})]})});$.displayName="ToggleControl";const _e="_toggle_2vo1m_2",me={toggle:_e},ve=i.forwardRef(({className:e,checked:t,children:l,defaultChecked:a,disabled:o,id:s,invalid:r,name:v,onCheckedChange:y,required:b,value:k,withLabels:T,...h},n)=>{const c=j();return l||console.warn("[DEPRECATED]: Usage of <Toggle /> alone is not recommended. Please use a full composition using <ToggleControl /> (and <ToggleLabel> if needed). Like the following <Toggle><ToggleControl /></Toggle>"),d.jsx(be,{withLabels:T,children:d.jsx(L,{checked:t,className:C(me.toggle,l?e:""),"data-ods":"toggle",defaultChecked:a,disabled:o,id:s||(c==null?void 0:c.id),invalid:r||(c==null?void 0:c.invalid),name:v,onCheckedChange:y,ref:n,required:b,value:k,...h,children:l||d.jsx($,{className:e})})})});ve.displayName="Toggle";const ke=i.forwardRef(({children:e,...t},l)=>d.jsx(O,{"data-ods":"toggle-label",ref:l,...t,children:e}));ke.displayName="ToggleLabel";export{$ as A,ve as P,ke as w};
