import{j as g}from"./jsx-runtime-BRNY0I4F.js";import{r as u}from"./index-Bnop-kX6.js";import{h as p,g as x}from"./index-CNSIveXf.js";import{b as y}from"./index-D-q5QNgV.js";const N=(t,r,e)=>{if(!r)return;const l=r.offsetWidth,s=r.offsetHeight,n=t[0]?t[0].offsetHeight+4:30,d=(e||Math.ceil(s/n))*l;let f=0,o=0;return t.forEach(m=>{if(!m)return;const a=m.getBoundingClientRect().width;f+a>d-50||(f+=a,o+=1)}),o},T=(t,r,e)=>{const l=t.offsetWidth,s=Math.ceil((l-50)*100/r.getBoundingClientRect().width),n=Math.floor(e.length*(s/100));return e.slice(0,n)+(n<e.length?"...":"")},_=({tags:t,displayInternalTags:r})=>Object.keys(t).filter(e=>r||e.indexOf("ovh:")!==0).map(e=>`${e}:${t[e]}`),b=({tags:t,displayInternalTags:r=!1,lineNumber:e,onClick:l})=>{const s="neutral",n=_({tags:t,displayInternalTags:r}),i=u.useRef(null),[d,f]=u.useState(null),[o,m]=u.useState(n.length),a=u.useRef([]);return u.useEffect(()=>{if(n.length>0){const c=new ResizeObserver(()=>{const h=N(a.current,i.current,e);m(h||1),h===0&&f(T(i.current,a.current[0],n[0]))});return i.current&&c.observe(i.current),()=>c.disconnect()}},[n]),g.jsxs("div",{ref:i,className:"w-full h-full min-w-[85px]",children:[d?g.jsx(p,{className:"mr-1 mb-1",color:s,label:d}):n.slice(0,o).map((c,h)=>g.jsx(p,{className:"mr-1 mb-1",ref:v=>{a.current[h]=v},color:s,label:c},c)),o<n.length&&g.jsx(x,{href:"#",className:"text-xs",onClick:l,icon:y.chevronDoubleRight})]})};try{b.displayName="TagsList",b.__docgenInfo={description:"",displayName:"TagsList",props:{tags:{defaultValue:null,description:"",name:"tags",required:!0,type:{name:"{ [key: string]: string; }"}},displayInternalTags:{defaultValue:{value:"false"},description:"",name:"displayInternalTags",required:!1,type:{name:"boolean"}},lineNumber:{defaultValue:null,description:"",name:"lineNumber",required:!1,type:{name:"number"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!1,type:{name:"() => void"}}}}}catch{}export{b as T};
