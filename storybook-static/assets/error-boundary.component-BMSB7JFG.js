import{j as n}from"./jsx-runtime-BRNY0I4F.js";import{e as s,r as p}from"./index-Bnop-kX6.js";import{E as y}from"./error.component-CnO343zS.js";import{u as h,g as E}from"./index-CqrMFMhJ.js";import{S as m}from"./useOvhTracking-DILyoK8p.js";const x=()=>{const t=h(),{shell:e}=s.useContext(m);s.useEffect(()=>{var r;(r=e==null?void 0:e.routing)==null||r.stopListenForHashChange()},[]),s.useEffect(()=>{var r;(r=e==null?void 0:e.routing)==null||r.onHashChange()},[t])},S=()=>(x(),null),l=({redirectionApp:t,isPreloaderHide:e=!1,isRouteShellSync:r=!1})=>{var i,u,d,c;const a=E(),o=(i=p.useContext(m))==null?void 0:i.shell,g=()=>{o==null||o.navigation.navigateTo(t,"",{})},f=()=>{o==null||o.navigation.reload()};return p.useEffect(()=>{e&&(o==null||o.ux.hidePreloader())},[e]),n.jsxs(n.Fragment,{children:[n.jsx(y,{onReloadPage:f,onRedirectHome:g,error:{data:{message:((d=(u=a==null?void 0:a.response)==null?void 0:u.data)==null?void 0:d.message)||(a==null?void 0:a.message)},headers:((c=a==null?void 0:a.response)==null?void 0:c.headers)||{}}}),r&&n.jsx(S,{})]})};try{l.displayName="ErrorBoundary",l.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{redirectionApp:{defaultValue:null,description:"application name to redirect",name:"redirectionApp",required:!0,type:{name:"string"}},isPreloaderHide:{defaultValue:{value:"false"},description:"Trigger the preloader hiding",name:"isPreloaderHide",required:!1,type:{name:"boolean"}},isRouteShellSync:{defaultValue:{value:"false"},description:"Trigger the routes sync beetween shell and the app",name:"isRouteShellSync",required:!1,type:{name:"boolean"}}}}}catch{}export{l as E};
