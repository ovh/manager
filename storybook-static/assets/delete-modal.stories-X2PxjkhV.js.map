{"version":3,"file":"delete-modal.stories-X2PxjkhV.js","sources":["../../src/components/templates/delete-modal/translations/translations.ts","../../src/components/templates/delete-modal/delete-modal.component.tsx"],"sourcesContent":["import i18next from 'i18next';\n\nimport de_DE from './Messages_de_DE.json';\nimport en_GB from './Messages_en_GB.json';\nimport es_ES from './Messages_es_ES.json';\nimport fr_CA from './Messages_fr_CA.json';\nimport fr_FR from './Messages_fr_FR.json';\nimport it_IT from './Messages_it_IT.json';\nimport pl_PL from './Messages_pl_PL.json';\nimport pt_PT from './Messages_pt_PT.json';\n\nfunction addTranslations() {\n  i18next.addResources('de_DE', 'delete-modal', de_DE);\n  i18next.addResources('en_GB', 'delete-modal', en_GB);\n  i18next.addResources('es_ES', 'delete-modal', es_ES);\n  i18next.addResources('fr_CA', 'delete-modal', fr_CA);\n  i18next.addResources('fr_FR', 'delete-modal', fr_FR);\n  i18next.addResources('it_IT', 'delete-modal', it_IT);\n  i18next.addResources('pl_PL', 'delete-modal', pl_PL);\n  i18next.addResources('pt_PT', 'delete-modal', pt_PT);\n}\n\nif (i18next.isInitialized) {\n  addTranslations();\n} else {\n  i18next.on('initialized', addTranslations);\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ODS_THEME_COLOR_INTENT } from '@ovhcloud/ods-common-theming';\nimport {\n  OsdsText,\n  OsdsInput,\n  OsdsMessage,\n  OsdsSpinner,\n  OsdsModal,\n  OsdsButton,\n  OsdsFormField,\n} from '@ovhcloud/ods-components/react';\nimport {\n  ODS_BUTTON_TYPE,\n  ODS_BUTTON_VARIANT,\n  ODS_MESSAGE_TYPE,\n  ODS_SPINNER_SIZE,\n  ODS_INPUT_TYPE,\n  OdsInputValueChangeEvent,\n  ODS_TEXT_LEVEL,\n  ODS_TEXT_SIZE,\n} from '@ovhcloud/ods-components';\nimport { handleClick } from '../../../utils/click-utils';\nimport './translations/translations';\n\nexport const defaultDeleteModalTerminateValue = 'TERMINATE';\n\nexport type DeleteModalProps = {\n  headline: string;\n  description?: string;\n  deleteInputLabel: string;\n  closeModal: () => void;\n  isLoading?: boolean;\n  onConfirmDelete: () => void;\n  error?: string;\n  cancelButtonLabel?: string;\n  confirmButtonLabel?: string;\n  terminateValue?: string;\n};\n\nexport const DeleteModal: React.FC<DeleteModalProps> = ({\n  headline,\n  description,\n  deleteInputLabel,\n  closeModal,\n  isLoading,\n  onConfirmDelete,\n  error,\n  cancelButtonLabel,\n  confirmButtonLabel,\n  terminateValue = defaultDeleteModalTerminateValue,\n}) => {\n  const { t } = useTranslation('delete-modal');\n  const [deleteInput, setDeleteInput] = React.useState('');\n  const isDisabled = isLoading || deleteInput !== terminateValue || undefined;\n\n  const close = React.useCallback(() => {\n    setDeleteInput('');\n    closeModal();\n  }, []);\n\n  return (\n    <OsdsModal\n      dismissible\n      color={ODS_THEME_COLOR_INTENT.warning}\n      headline={headline}\n      onOdsModalClose={close}\n    >\n      {!!error && (\n        <OsdsMessage type={ODS_MESSAGE_TYPE.error}>\n          <OsdsText\n            level={ODS_TEXT_LEVEL.body}\n            size={ODS_TEXT_SIZE._400}\n            color={ODS_THEME_COLOR_INTENT.text}\n          >\n            {t('deleteModalError', { error })}\n          </OsdsText>\n        </OsdsMessage>\n      )}\n      <OsdsText\n        color={ODS_THEME_COLOR_INTENT.text}\n        level={ODS_TEXT_LEVEL.body}\n        className=\"block my-4\"\n      >\n        {description}\n      </OsdsText>\n      <OsdsFormField className=\"mb-8\">\n        <div slot=\"label\">\n          <OsdsText\n            className=\"block mb-3\"\n            color={ODS_THEME_COLOR_INTENT.text}\n            level={ODS_TEXT_LEVEL.body}\n            size={ODS_TEXT_SIZE._200}\n          >\n            {deleteInputLabel}\n          </OsdsText>\n        </div>\n        <OsdsInput\n          aria-label=\"delete-input\"\n          disabled={isLoading || undefined}\n          type={ODS_INPUT_TYPE.text}\n          value={deleteInput}\n          onOdsValueChange={(e: OdsInputValueChangeEvent) =>\n            setDeleteInput(e.detail.value)\n          }\n        />\n      </OsdsFormField>\n      {isLoading && (\n        <div className=\"flex justify-center\">\n          <OsdsSpinner inline size={ODS_SPINNER_SIZE.md} />\n        </div>\n      )}\n      <OsdsButton\n        disabled={isLoading || undefined}\n        slot=\"actions\"\n        type={ODS_BUTTON_TYPE.button}\n        variant={ODS_BUTTON_VARIANT.ghost}\n        color={ODS_THEME_COLOR_INTENT.primary}\n        {...handleClick(close)}\n      >\n        {cancelButtonLabel || t('deleteModalCancelButton')}\n      </OsdsButton>\n      <OsdsButton\n        disabled={isDisabled}\n        slot=\"actions\"\n        type={ODS_BUTTON_TYPE.button}\n        variant={ODS_BUTTON_VARIANT.flat}\n        color={ODS_THEME_COLOR_INTENT.primary}\n        {...handleClick(() => {\n          setDeleteInput('');\n          onConfirmDelete();\n        })}\n      >\n        {confirmButtonLabel || t('deleteModalDeleteButton')}\n      </OsdsButton>\n    </OsdsModal>\n  );\n};\n"],"names":["addTranslations","i18next","de_DE","en_GB","es_ES","fr_CA","fr_FR","it_IT","pl_PL","pt_PT","defaultDeleteModalTerminateValue","DeleteModal","headline","description","deleteInputLabel","closeModal","isLoading","onConfirmDelete","error","cancelButtonLabel","confirmButtonLabel","terminateValue","t","useTranslation","deleteInput","setDeleteInput","React","isDisabled","close","jsxs","OsdsModal","ODS_THEME_COLOR_INTENT","jsx","OsdsMessage","ODS_MESSAGE_TYPE","OsdsText","ODS_TEXT_LEVEL","ODS_TEXT_SIZE","OsdsFormField","OsdsInput","ODS_INPUT_TYPE","e","OsdsSpinner","ODS_SPINNER_SIZE","OsdsButton","ODS_BUTTON_TYPE","ODS_BUTTON_VARIANT","handleClick"],"mappings":"osDAWA,SAASA,GAAkB,CACjBC,EAAA,aAAa,QAAS,eAAgBC,CAAK,EAC3CD,EAAA,aAAa,QAAS,eAAgBE,CAAK,EAC3CF,EAAA,aAAa,QAAS,eAAgBG,CAAK,EAC3CH,EAAA,aAAa,QAAS,eAAgBI,EAAK,EAC3CJ,EAAA,aAAa,QAAS,eAAgBK,EAAK,EAC3CL,EAAA,aAAa,QAAS,eAAgBM,EAAK,EAC3CN,EAAA,aAAa,QAAS,eAAgBO,EAAK,EAC3CP,EAAA,aAAa,QAAS,eAAgBQ,EAAK,CACrD,CAEIR,EAAQ,cACMD,IAERC,EAAA,GAAG,cAAeD,CAAe,ECApC,MAAAU,GAAA,YAeAC,EAAA,CAAA,CAAiD,SAAAC,EACtD,YAAAC,EACA,iBAAAC,EACA,WAAAC,EACA,UAAAC,EACA,gBAAAC,EACA,MAAAC,EACA,kBAAAC,EACA,mBAAAC,EACA,eAAAC,EAAAX,EAEF,IAAA,CACE,KAAA,CAAA,EAAAY,CAAA,EAAAC,EAAA,cAAA,EACA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EACAC,EAAAX,GAAAQ,IAAAH,GAAA,OAEAO,EAAAF,EAAA,YAAA,IAAA,CACED,EAAA,EAAA,EACAV,GAAW,EAAA,CAAA,CAAA,EAGb,OAAAc,EAAA,KACEC,EAAC,CAAA,YAAA,GACY,MAAAC,EAAA,QACmB,SAAAnB,EAC9B,gBAAAgB,EACiB,SAAA,CAEhB,CAAA,CAAAV,GAAAc,EAAAA,IAAAC,EAAA,CAAA,KAAAC,EAAA,MAAA,SAAAF,EAAA,IAEGG,EAAC,CAAA,MAAAC,EAAA,KACuB,KAAAC,EAAA,KACF,MAAAN,EAAA,KACU,SAAAT,EAAA,mBAAA,CAAA,MAAAJ,CAAA,CAAA,CAEE,CAAA,EAAA,EAEpCc,EAAA,IAEFG,EAAC,CAAA,MAAAJ,EAAA,KAC+B,MAAAK,EAAA,KACR,UAAA,aACZ,SAAAvB,CAET,CAAA,EACHgB,EAAAA,KAAAS,EAAA,CAAA,UAAA,OAAA,SAAA,CAEEN,EAAAA,IAAA,MAAA,CAAA,KAAA,QAAA,SAAAA,EAAA,IACEG,EAAC,CAAA,UAAA,aACW,MAAAJ,EAAA,KACoB,MAAAK,EAAA,KACR,KAAAC,EAAA,KACF,SAAAvB,CAEnB,CAAA,EAAA,EAELkB,EAAA,IACAO,EAAC,CAAA,aAAA,eACY,SAAAvB,GAAA,OACY,KAAAwB,EAAA,KACF,MAAAhB,EACd,iBAAAiB,GAAAhB,EAAAgB,EAAA,OAAA,KAAA,CAEwB,CAAA,CAEjC,EAAA,EACFzB,GAAAgB,EAAA,IAAA,MAAA,CAAA,UAAA,sBAAA,SAAAA,EAAA,IAAAU,EAAA,CAAA,OAAA,GAAA,KAAAC,EAAA,EAAA,CAAA,EAAA,EAIEX,EAAA,IAEFY,EAAC,CAAA,SAAA5B,GAAA,OACwB,KAAA,UAClB,KAAA6B,EAAA,OACiB,QAAAC,EAAA,MACM,MAAAf,EAAA,QACE,GAAAgB,EAAAnB,CAAA,EACT,SAAAT,GAAAG,EAAA,yBAAA,CAE4B,CAAA,EACnDU,EAAA,IACAY,EAAC,CAAA,SAAAjB,EACW,KAAA,UACL,KAAAkB,EAAA,OACiB,QAAAC,EAAA,KACM,MAAAf,EAAA,QACE,GAAAgB,EAAA,IAAA,CAE5BtB,EAAA,EAAA,EACAR,GAAgB,CAAA,EACjB,SAAAG,GAAAE,EAAA,yBAAA,CAEiD,CAAA,CACpD,CAAA,CAAA,CAGN"}