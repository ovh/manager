import{j as e}from"./jsx-runtime-ffb262ed.js";import{r as s}from"./index-76fb7be0.js";import{f as b,m as z,a as T,O as L,b as k,c as P}from"./index-bfec29a3.js";import{q as h,e as $,r as S,s as y,t as B,a as R,p as W,u as H,v as U,b as K,w as M}from"./index-9bd3787b.js";import{K as Y}from"./index-84e177bd.js";import{O as m}from"./ods-theme-typography-size-da089dcf.js";import{i as d}from"./i18next-65ce221f.js";import{u as D}from"./useTranslation-756c8576.js";import"./_commonjsHelpers-de833af9.js";import"./index-da03a860.js";import"./setPrototypeOf-24bea416.js";var o;(function(r){r.Includes="includes",r.StartsWith="starts_with",r.EndsWith="ends_with",r.IsEqual="is_equal",r.IsDifferent="is_different",r.IsLower="is_lower",r.IsHigher="is_higher",r.IsBefore="is_before",r.IsAfter="is_after",r.IsIn="is_in"})(o||(o={}));const G={Numeric:[o.IsEqual,o.IsDifferent,o.IsLower,o.IsHigher],String:[o.Includes,o.StartsWith,o.EndsWith,o.IsEqual,o.IsDifferent],Date:[o.IsEqual,o.IsDifferent,o.IsBefore,o.IsAfter]},Z="Filtern",J="Spalte",Q="Bedingung",X="enthält",rr="beginnt mit",er="endet mit",or="ist gleich",_r="ist nicht gleich",ar="ist kleiner als",ir="ist größer als",tr="ist",cr="ist vor",dr="Ja",nr="Nein",mr="Wert",sr="Hinzufügen",lr={common_criteria_adder_filter_label:Z,common_criteria_adder_column_label:J,common_criteria_adder_operator_label:Q,common_criteria_adder_operator_includes:X,common_criteria_adder_operator_starts_with:rr,common_criteria_adder_operator_ends_with:er,common_criteria_adder_operator_is_equal:or,common_criteria_adder_operator_is_different:_r,common_criteria_adder_operator_is_lower:ar,common_criteria_adder_operator_is_higher:ir,common_criteria_adder_operator_is_before:tr,common_criteria_adder_operator_is_after:cr,common_criteria_adder_true_label:dr,common_criteria_adder_false_label:nr,common_criteria_adder_value_label:mr,common_criteria_adder_submit_label:sr},pr="Filter",ur="Column",fr="Condition",br="includes",hr="starts with",$r="ends with",wr="is equal to",vr="is different from",gr="is lower than",jr="is higher than",xr="is before",Ir="is after",Or="Yes",Fr="No",Sr="Value",yr="Add",Nr={common_criteria_adder_filter_label:pr,common_criteria_adder_column_label:ur,common_criteria_adder_operator_label:fr,common_criteria_adder_operator_includes:br,common_criteria_adder_operator_starts_with:hr,common_criteria_adder_operator_ends_with:$r,common_criteria_adder_operator_is_equal:wr,common_criteria_adder_operator_is_different:vr,common_criteria_adder_operator_is_lower:gr,common_criteria_adder_operator_is_higher:jr,common_criteria_adder_operator_is_before:xr,common_criteria_adder_operator_is_after:Ir,common_criteria_adder_true_label:Or,common_criteria_adder_false_label:Fr,common_criteria_adder_value_label:Sr,common_criteria_adder_submit_label:yr},qr="Filtrar",Er="Columna",Cr="Condición",Ar="contiene",Tr="empieza por",Rr="termina por",Dr="es igual a",Vr="no es",zr="es inferior a",Lr="es superior a",kr="es anterior a",Pr="es posterior a",Br="Sí",Wr="No",Hr="Valor",Ur="Añadir",Kr={common_criteria_adder_filter_label:qr,common_criteria_adder_column_label:Er,common_criteria_adder_operator_label:Cr,common_criteria_adder_operator_includes:Ar,common_criteria_adder_operator_starts_with:Tr,common_criteria_adder_operator_ends_with:Rr,common_criteria_adder_operator_is_equal:Dr,common_criteria_adder_operator_is_different:Vr,common_criteria_adder_operator_is_lower:zr,common_criteria_adder_operator_is_higher:Lr,common_criteria_adder_operator_is_before:kr,common_criteria_adder_operator_is_after:Pr,common_criteria_adder_true_label:Br,common_criteria_adder_false_label:Wr,common_criteria_adder_value_label:Hr,common_criteria_adder_submit_label:Ur},Mr="Filtrer",Yr="Colonne",Gr="Condition",Zr="contient",Jr="débute par",Qr="termine par",Xr="est égal à",re="est différent de",ee="est inférieur à",oe="est supérieur à",_e="est",ae="est avant",ie="Oui",te="Non",ce="Valeur",de="Ajouter",ne={common_criteria_adder_filter_label:Mr,common_criteria_adder_column_label:Yr,common_criteria_adder_operator_label:Gr,common_criteria_adder_operator_includes:Zr,common_criteria_adder_operator_starts_with:Jr,common_criteria_adder_operator_ends_with:Qr,common_criteria_adder_operator_is_equal:Xr,common_criteria_adder_operator_is_different:re,common_criteria_adder_operator_is_lower:ee,common_criteria_adder_operator_is_higher:oe,common_criteria_adder_operator_is_before:_e,common_criteria_adder_operator_is_after:ae,common_criteria_adder_true_label:ie,common_criteria_adder_false_label:te,common_criteria_adder_value_label:ce,common_criteria_adder_submit_label:de},me="Filtrer",se="Colonne",le="Condition",pe="contient",ue="débute par",fe="termine par",be="est égal à",he="est différent de",$e="est inférieur à",we="est supérieur à",ve="est",ge="est avant",je="Oui",xe="Non",Ie="Valeur",Oe="Ajouter",Fe={common_criteria_adder_filter_label:me,common_criteria_adder_column_label:se,common_criteria_adder_operator_label:le,common_criteria_adder_operator_includes:pe,common_criteria_adder_operator_starts_with:ue,common_criteria_adder_operator_ends_with:fe,common_criteria_adder_operator_is_equal:be,common_criteria_adder_operator_is_different:he,common_criteria_adder_operator_is_lower:$e,common_criteria_adder_operator_is_higher:we,common_criteria_adder_operator_is_before:ve,common_criteria_adder_operator_is_after:ge,common_criteria_adder_true_label:je,common_criteria_adder_false_label:xe,common_criteria_adder_value_label:Ie,common_criteria_adder_submit_label:Oe},Se="Filtra",ye="Colonna",Ne="Condizione",qe="contiene",Ee="inizia per",Ce="termina per",Ae="è uguale a",Te="è diverso da",Re="è inferiore a",De="è superiore a",Ve="è prima di",ze="è dopo di",Le="Sì",ke="No",Pe="Valore",Be="Aggiungi",We={common_criteria_adder_filter_label:Se,common_criteria_adder_column_label:ye,common_criteria_adder_operator_label:Ne,common_criteria_adder_operator_includes:qe,common_criteria_adder_operator_starts_with:Ee,common_criteria_adder_operator_ends_with:Ce,common_criteria_adder_operator_is_equal:Ae,common_criteria_adder_operator_is_different:Te,common_criteria_adder_operator_is_lower:Re,common_criteria_adder_operator_is_higher:De,common_criteria_adder_operator_is_before:Ve,common_criteria_adder_operator_is_after:ze,common_criteria_adder_true_label:Le,common_criteria_adder_false_label:ke,common_criteria_adder_value_label:Pe,common_criteria_adder_submit_label:Be},He="Filtruj",Ue="Kolumna",Ke="Warunek",Me="zawiera",Ye="zaczyna się na",Ge="kończy się na",Ze="jest równy",Je="nie jest",Qe="jest mniejszy niż",Xe="jest większy niż",ro="jest",eo="jest przed",oo="Tak",_o="Nie",ao="Wartość",io="Dodaj",to={common_criteria_adder_filter_label:He,common_criteria_adder_column_label:Ue,common_criteria_adder_operator_label:Ke,common_criteria_adder_operator_includes:Me,common_criteria_adder_operator_starts_with:Ye,common_criteria_adder_operator_ends_with:Ge,common_criteria_adder_operator_is_equal:Ze,common_criteria_adder_operator_is_different:Je,common_criteria_adder_operator_is_lower:Qe,common_criteria_adder_operator_is_higher:Xe,common_criteria_adder_operator_is_before:ro,common_criteria_adder_operator_is_after:eo,common_criteria_adder_true_label:oo,common_criteria_adder_false_label:_o,common_criteria_adder_value_label:ao,common_criteria_adder_submit_label:io},co="Filtrar",no="Coluna",mo="Regra",so="contém",lo="começa por",po="termina em",uo="é igual a",fo="é diferente de",bo="é inferior a",ho="é superior a",$o="está antes",wo="está depois",vo="Sim",go="Não",jo="Valor",xo="Adicionar",Io={common_criteria_adder_filter_label:co,common_criteria_adder_column_label:no,common_criteria_adder_operator_label:mo,common_criteria_adder_operator_includes:so,common_criteria_adder_operator_starts_with:lo,common_criteria_adder_operator_ends_with:po,common_criteria_adder_operator_is_equal:uo,common_criteria_adder_operator_is_different:fo,common_criteria_adder_operator_is_lower:bo,common_criteria_adder_operator_is_higher:ho,common_criteria_adder_operator_is_before:$o,common_criteria_adder_operator_is_after:wo,common_criteria_adder_true_label:vo,common_criteria_adder_false_label:go,common_criteria_adder_value_label:jo,common_criteria_adder_submit_label:xo};function N(){d.addResources("de_DE","filters",lr),d.addResources("en_GB","filters",Nr),d.addResources("es_ES","filters",Kr),d.addResources("fr_CA","filters",ne),d.addResources("fr_FR","filters",Fe),d.addResources("it_IT","filters",We),d.addResources("pl_PL","filters",to),d.addResources("pt_PT","filters",Io)}d.isInitialized?N():d.on("initialized",N);function w({columns:r,onAddFilter:c}){var x,I,O,F;const{t:a}=D("filters"),[i,t]=s.useState(((x=r==null?void 0:r[0])==null?void 0:x.id)||""),[n,u]=s.useState(((O=(I=r==null?void 0:r[0])==null?void 0:I.comparators)==null?void 0:O[0])||o.IsEqual),[f,g]=s.useState(""),l=s.useMemo(()=>r.find(({id:_})=>i===_),[r,i]),j=()=>{c({key:i,comparator:n,value:f},l),g("")};return e.jsxs(e.Fragment,{children:[e.jsxs(h,{children:[e.jsx("div",{slot:"label",children:e.jsx($,{level:b.heading,color:m.text,children:a("common_criteria_adder_column_label")})}),e.jsx(S,{value:i,"data-testid":"add-filter_select_idColumn",onOdsValueChange:_=>t(_.detail.value),children:r.map(({id:_,label:V})=>e.jsx(y,{value:_,children:V},_))})]}),e.jsxs(h,{className:"mt-2",children:[e.jsx("div",{slot:"label",children:e.jsx($,{level:b.heading,color:m.text,children:a("common_criteria_adder_operator_label")})}),e.jsx(S,{value:n,onOdsValueChange:_=>{u(_.detail.value)},children:(F=l==null?void 0:l.comparators)==null?void 0:F.map(_=>e.jsx(y,{value:_,children:a(`common_criteria_adder_operator_${_}`)},_))})]}),e.jsxs(h,{className:"mt-2",children:[e.jsx("div",{slot:"label",children:e.jsx($,{level:b.heading,color:m.text,children:a("common_criteria_adder_value_label")})}),e.jsx(B,{className:"border",type:z.text,color:m.primary,value:f,"data-testid":"filter-add_value-input",onOdsValueChange:_=>g(`${_.detail.value}`),onKeyDown:_=>{_.key==="Enter"&&j()}})]}),e.jsx(R,{className:"mt-4",color:m.primary,size:T.sm,disabled:f?void 0:!0,onClick:j,"data-testid":"filter-add_submit",children:a("common_criteria_adder_submit_label")})]})}try{w.displayName="FilterAdd",w.__docgenInfo={description:"",displayName:"FilterAdd",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnFilter[]"}},onAddFilter:{defaultValue:null,description:"",name:"onAddFilter",required:!0,type:{name:"(filter: Filter, column: ColumnFilter) => void"}}}}}catch{}function v({filters:r,onRemoveFilter:c}){const{t:a}=D("filters"),i=t=>a(`common_criteria_adder_operator_${t}`);return e.jsx(e.Fragment,{children:r==null?void 0:r.map((t,n)=>e.jsxs(W,{className:"m-3",color:m.primary,inline:!0,removable:!0,onOdsChipRemoval:()=>c(t),"data-testid":"filter-list_chip_item",children:[t.label?`${t.label} ${i(t.comparator)} `:"",t.value]},n))})}try{v.displayName="FilterList",v.__docgenInfo={description:"",displayName:"FilterList",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterWithLabel[]"}},onRemoveFilter:{defaultValue:null,description:"",name:"onRemoveFilter",required:!0,type:{name:"(filter: FilterWithLabel) => void"}}}}}catch{}const q=(r,c)=>r.key===c.key&&r.value===c.value&&r.comparator===c.comparator;function Oo(){const[r,c]=s.useState([]);return{filters:r,addFilter:a=>{a.value&&c(i=>i.some(t=>q(t,a))?i:[...i,a])},removeFilter:a=>{c(i=>i.filter(t=>!q(t,a)))}}}const Fo=()=>{const[r,c]=s.useState(""),{filters:a,addFilter:i,removeFilter:t}=Oo();return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-center",children:[e.jsx(H,{className:"w-[30%] mr-5",value:r,onOdsSearchSubmit:({detail:n})=>{i({key:"username",value:n.inputValue,comparator:o.Includes,label:"Username"}),c("")}}),e.jsxs(U,{children:[e.jsxs(R,{slot:"popover-trigger",size:T.sm,color:m.primary,variant:L.stroked,children:[e.jsx(K,{name:k.FILTER,size:P.xs,className:"mr-2",color:m.primary}),"Filter"]}),e.jsx(M,{children:e.jsx(w,{columns:[{id:"username",label:"Username",comparators:G.String}],onAddFilter:(n,u)=>{i({...n,label:u.label})}})})]})]}),e.jsx("div",{className:"my-5",children:e.jsx(v,{filters:a,onRemoveFilter:t})})]})},p={args:{}},zo={title:"Components/filters",component:Fo,decorators:[Y]};var E,C,A;p.parameters={...p.parameters,docs:{...(E=p.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {}
}`,...(A=(C=p.parameters)==null?void 0:C.docs)==null?void 0:A.source}}};const Lo=["DefaultProps"];export{p as DefaultProps,Lo as __namedExportsOrder,zo as default};
//# sourceMappingURL=filters.stories-f81775a5.js.map
