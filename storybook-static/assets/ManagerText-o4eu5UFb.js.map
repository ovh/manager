{"version":3,"file":"ManagerText-o4eu5UFb.js","sources":["../../src/components/ManagerText/translations/index.ts","../../src/components/ManagerText/ManagerText.tsx"],"sourcesContent":["import i18next from 'i18next';\n\nimport fr_FR from './Messages_fr_FR.json';\n\nfunction addTranslations() {\n  i18next.addResources('fr_FR', 'iam', fr_FR);\n}\n\nif (i18next.isInitialized) {\n  addTranslations();\n} else {\n  i18next.on('initialized', addTranslations);\n}\n","import React, { PropsWithChildren, RefAttributes, HTMLAttributes } from 'react';\nimport { JSX } from '@ovhcloud/ods-components';\nimport { OdsText, OdsTooltip } from '@ovhcloud/ods-components/react';\nimport { StyleReactProps } from '@ovhcloud/ods-components/react/dist/types/react-component-lib/interfaces';\nimport { useTranslation } from 'react-i18next';\nimport './translations';\n\nimport { useAuthorizationIam } from '../../hooks/iam';\n\nexport type ManagerTextProps = PropsWithChildren<{\n  iamActions?: string[];\n  urn?: string;\n}>;\n\nexport const ManagerText = ({\n  children,\n  iamActions,\n  urn,\n  ...restProps\n}: ManagerTextProps &\n  Partial<\n    JSX.OdsText &\n      Omit<HTMLAttributes<HTMLOdsTextElement>, 'style'> &\n      StyleReactProps &\n      RefAttributes<HTMLOdsTextElement>\n  >) => {\n  const { t } = useTranslation('iam');\n  const { isAuthorized } = useAuthorizationIam(iamActions, urn);\n\n  if (!isAuthorized) {\n    return (\n      <>\n        <div id=\"tooltip-iam\" className=\"w-fit\">\n          <OdsText preset=\"span\" {...restProps}>\n            {t('iam_hidden_text').toUpperCase()}\n          </OdsText>\n        </div>\n        <OdsTooltip triggerId=\"tooltip-iam\" with-arrow>\n          <div>{t('common_iam_get_message')}</div>\n        </OdsTooltip>\n      </>\n    );\n  }\n  return <OdsText {...restProps}>{children}</OdsText>;\n};\n"],"names":["addTranslations","i18next","fr_FR","ManagerText","children","iamActions","urn","restProps","t","useTranslation","isAuthorized","useAuthorizationIam","jsx","OdsText","jsxs","Fragment","OdsTooltip"],"mappings":"kkBAIA,SAASA,GAAkB,CACjBC,EAAA,aAAa,QAAS,MAAOC,CAAK,CAC5C,CAEID,EAAQ,cACMD,IAERC,EAAA,GAAG,cAAeD,CAAe,ECGpC,MAAAG,EAAA,CAAA,CAAqB,SAAAC,EAC1B,WAAAC,EACA,IAAAC,EACA,GAAAC,CAEF,IAAA,CAOE,KAAA,CAAA,EAAAC,CAAA,EAAAC,EAAA,KAAA,EACA,CAAA,aAAAC,CAAA,EAAAC,EAAAN,EAAAC,CAAA,EAEA,OAAAI,EAcAE,EAAAA,IAAAC,EAAA,CAAA,GAAAN,EAAA,SAAAH,CAAA,CAAA,EAbEU,EAAA,KAAAC,WAAA,CAAA,SAAA,CAEIH,MAAA,MAAA,CAAA,GAAA,cAAA,UAAA,QAAA,SAAAA,EAAAA,IAAAC,EAAA,CAAA,OAAA,OAAA,GAAAN,EAAA,SAAAC,EAAA,iBAAA,EAAA,aAAA,CAAA,EAAA,EAIAI,EAAA,IAAAI,EAAA,CAAA,UAAA,cAAA,aAAA,GAAA,SAAAJ,EAAAA,IAAA,MAAA,CAAA,SAAAJ,EAAA,wBAAA,CAAA,CAAA,EAAA,CAGA,CAAA,CAAA,CAKR"}