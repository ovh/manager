import{j as a}from"./jsx-runtime-CKrituN3.js";import{r as j,R as d}from"./index-CBqU2yxZ.js";import{O as S,s as A,d as m}from"./index-D2Jq8zTl.js";import{g as N,k as C,O as k}from"./index-Cs_lFblA.js";import{i as r}from"./i18next-ihUiNgJT.js";import{c as w}from"./error-banner-oops-tNXFEWkx.js";import{u as y}from"./useTranslation-pmbu4BU3.js";const T=j.createContext({shell:null,environment:null,tracking:null});var l;(function(e){e.onboarding="onboarding",e.listing="listing",e.dashboard="dashboard",e.popup="pop-up",e.bannerSuccess="banner-success",e.bannerError="banner-error",e.bannerInfo="banner-info",e.bannerWarning="banner-warning",e.funnel="funnel"})(l||(l={}));var p;(function(e){e.page="page",e.funnel="funnel",e.banner="banner",e.popup="pop-up",e.datagrid="datagrid",e.tile="tile"})(p||(p={}));var u;(function(e){e.button="button",e.link="link",e.select="select",e.externalLink="external-link",e.tile="tile",e.tutorial="tile-tutorial",e.tab="go-to-tab"})(u||(u={}));const t={SERVICE_NOT_FOUND:"service_not_found",UNAUTHORIZED:"unauthorized",PAGE_LOAD:"error_during_page_loading"},I="Hoppla!",D="Abbrechen",V="Fehlercode: ",U="Erneut versuchen",q="Zurück zur Startseite",F="Beim Laden der Seite ist ein Fehler aufgetreten.",G={manager_error_page_title:I,manager_error_page_button_cancel:D,manager_error_page_detail_code:V,manager_error_page_action_reload_label:U,manager_error_page_action_home_label:q,manager_error_page_default:F},z="Oops!",B="Cancel",H="Error code: ",L="Try again",M="Back to homepage",Z="An error has occurred loading the page.",K={manager_error_page_title:z,manager_error_page_button_cancel:B,manager_error_page_detail_code:H,manager_error_page_action_reload_label:L,manager_error_page_action_home_label:M,manager_error_page_default:Z},W="¡Vaya!",P="Cancelar",X="Código de error: ",J="Volver a intentarlo",Q="Volver a la página de inicio",Y="Se ha producido un error al cargar la página.",ee={manager_error_page_title:W,manager_error_page_button_cancel:P,manager_error_page_detail_code:X,manager_error_page_action_reload_label:J,manager_error_page_action_home_label:Q,manager_error_page_default:Y},ae="Oops …!",re="Annuler",_e="Code d'erreur : ",ne="Réessayer",oe="Retour à la page d'accueil",te="Une erreur est survenue lors du chargement de la page.",le={manager_error_page_title:ae,manager_error_page_button_cancel:re,manager_error_page_detail_code:_e,manager_error_page_action_reload_label:ne,manager_error_page_action_home_label:oe,manager_error_page_default:te},ge="Oops …!",ce="Annuler",ie="Code d'erreur : ",se="Réessayer",de="Retour à la page d'accueil",me="Une erreur est survenue lors du chargement de la page.",pe={manager_error_page_title:ge,manager_error_page_button_cancel:ce,manager_error_page_detail_code:ie,manager_error_page_action_reload_label:se,manager_error_page_action_home_label:de,manager_error_page_default:me},ue="Ops!",be="Annullare",fe="Codice di errore: ",he="Riprova",$e="Tornare alla home page",ve="Si è verificato un errore durante il caricamento della pagina.",xe={manager_error_page_title:ue,manager_error_page_button_cancel:be,manager_error_page_detail_code:fe,manager_error_page_action_reload_label:he,manager_error_page_action_home_label:$e,manager_error_page_default:ve},Ee="Ojej...",Re="Anuluj",Oe="Kod błędu: ",je="Spróbuj ponownie",Se="Powrót do strony głównej",Ae="Wystąpił błąd podczas ładowania strony.",Ne={manager_error_page_title:Ee,manager_error_page_button_cancel:Re,manager_error_page_detail_code:Oe,manager_error_page_action_reload_label:je,manager_error_page_action_home_label:Se,manager_error_page_default:Ae},Ce="Oops!",ke="Anular",we="Código de erro: ",ye="Tentar novamente",Te="Voltar para a página inicial",Ie="Ocorreu um erro ao carregar a página.",De={manager_error_page_title:Ce,manager_error_page_button_cancel:ke,manager_error_page_detail_code:we,manager_error_page_action_reload_label:ye,manager_error_page_action_home_label:Te,manager_error_page_default:Ie};function b(){r.addResources("de_DE","error",G),r.addResources("en_GB","error",K),r.addResources("es_ES","error",ee),r.addResources("fr_CA","error",le),r.addResources("fr_FR","error",pe),r.addResources("it_IT","error",xe),r.addResources("pl_PL","error",Ne),r.addResources("pt_PT","error",De)}r.isInitialized?b():r.on("initialized",b);function Ve(e){return e!=null&&e.status&&Math.floor(e.status/100)===4?[401,403].includes(e.status)?t.UNAUTHORIZED:t.SERVICE_NOT_FOUND:t.PAGE_LOAD}const f=({error:e,onRedirectHome:h,onReloadPage:$,labelTracking:v,...x})=>{var g,c,i;const{t:n}=y("error"),{shell:_}=d.useContext(T),o=(g=_==null?void 0:_.environment)==null?void 0:g.getEnvironment();return d.useEffect(()=>{o==null||o.then(E=>{var s;const{applicationName:R}=E,O=`errors::${Ve(e)}::${R}`;(s=_==null?void 0:_.tracking)==null||s.trackPage({name:O,level2:"81",type:"navigation",page_category:l.bannerError})})},[]),a.jsxs("div",{className:"mx-auto  w-full h-full max-w-[600px] overflow-hidden mx-autogrid p-5",...x,children:[a.jsx("img",{src:w,alt:"OOPS",className:"w-full"}),a.jsx("div",{className:"py-2",children:a.jsx(S,{preset:N.heading1,children:n("manager_error_page_title")})}),a.jsx("div",{children:a.jsx(A,{color:C.warning,"data-tracking":v,className:"w-full",children:a.jsxs("div",{children:[a.jsx("div",{children:n("manager_error_page_default")}),a.jsx("div",{children:((c=e==null?void 0:e.data)==null?void 0:c.message)&&a.jsx("strong",{children:e.data.message})}),a.jsx("div",{children:((i=e==null?void 0:e.headers)==null?void 0:i["x-ovh-queryid"])&&a.jsxs("p",{children:[n("manager_error_page_detail_code"),e.headers["x-ovh-queryid"]]})})]})})}),a.jsxs("div",{className:"overflow-hidden mt-5 py-2",children:[a.jsx("div",{children:a.jsx(m,{"data-testid":"error-template-action-home",className:"error-template-actions  w-full",variant:k.ghost,onClick:h,label:n("manager_error_page_action_home_label")})}),a.jsx("div",{children:a.jsx(m,{"data-testid":"error-template-action-reload",className:"error-template-actions w-full ",onClick:$,label:n("manager_error_page_action_reload_label")})})]})]})};try{f.displayName="ErrorBanner",f.__docgenInfo={description:"",displayName:"ErrorBanner",props:{error:{defaultValue:null,description:"",name:"error",required:!0,type:{name:"{ status?: number; data?: any; headers?: any; }"}},onRedirectHome:{defaultValue:null,description:"",name:"onRedirectHome",required:!1,type:{name:"() => void"}},onReloadPage:{defaultValue:null,description:"",name:"onReloadPage",required:!1,type:{name:"() => void"}},labelTracking:{defaultValue:null,description:"",name:"labelTracking",required:!1,type:{name:"string"}}}}}catch{}export{f as E,T as S};
