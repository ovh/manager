{"version":3,"file":"notifications.component-CgyDPP7a.js","sources":["../../src/components/notifications/notifications.component.tsx"],"sourcesContent":["import React, { useEffect, useState, FC } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { OdsNotification } from './ods-notification';\nimport { useNotifications } from './useNotifications';\n\ninterface NotificationProps {\n  /** Clear notifications once they have been displayed (on location changes) */\n  clearAfterRead?: boolean;\n}\n\n/**\n * This component display the list of notifications. It acts\n * as a \"flash\" component because by default once the notifications have been\n * shown they are cleared. It means that you can use this component on multiple\n * pages, switching page won't display notifications twice.\n *\n * It replicates the current behavior of public cloud notifications for\n * actions (success / errors / etc)\n */\nexport const Notifications: FC<NotificationProps> = ({\n  clearAfterRead = true,\n}) => {\n  const location = useLocation();\n  const [originLocation] = useState(location);\n  const { notifications, clearNotifications } = useNotifications();\n\n  useEffect(() => {\n    if (clearAfterRead && originLocation.pathname !== location.pathname)\n      clearNotifications();\n  }, [clearAfterRead, location.pathname]);\n\n  return (\n    <>\n      {notifications.map((notification) => (\n        <OdsNotification key={notification.uid} notification={notification} />\n      ))}\n    </>\n  );\n};\n\nexport default Notifications;\n"],"names":["Notifications","clearAfterRead","location","useLocation","originLocation","useState","notifications","clearNotifications","useNotifications","useEffect","jsx","Fragment","notification","OdsNotification"],"mappings":"wLAmBO,MAAAA,EAAA,CAAA,CAA8C,eAAAC,EAAA,EAErD,IAAA,CACE,MAAAC,EAAAC,IACA,CAAAC,CAAA,EAAAC,EAAA,SAAAH,CAAA,EACA,CAAA,cAAAI,EAAA,mBAAAC,CAAA,EAAAC,EAAA,EAEAC,OAAAA,EAAAA,UAAA,IAAA,CACER,GAAAG,EAAA,WAAAF,EAAA,UACEK,GAAmB,EAAA,CAAAN,EAAAC,EAAA,QAAA,CAAA,EAGvBQ,EAAAA,IAAAC,EAAAA,SAAA,CAAA,SAAAL,EAAA,IAAAM,GAAAF,EAAA,IAAAG,EAAA,CAAA,aAAAD,CAAA,EAAAA,EAAA,GAAA,CAAA,CAAA,CAAA,CAOF;;;;;;;;;;;;"}