import{j as s}from"./jsx-runtime-ffb262ed.js";import{u as F,K as k}from"./index-e4a574c4.js";import{k as z,O as L,d as _}from"./index-5babab68.js";import{l as y,i as E,c as v}from"./index-4ef86ab6.js";import{c as $,O}from"./ods-theme-typography-size-da089dcf.js";import{r as x,R as Y}from"./index-76fb7be0.js";import{g as K}from"./_commonjsHelpers-de833af9.js";import"./index-da03a860.js";const T=e=>{let t;const n=new Set,o=(a,p)=>{const d=typeof a=="function"?a(t):a;if(!Object.is(d,t)){const c=t;t=p??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(l=>l(t,c))}},r=()=>t,S={setState:o,getState:r,getInitialState:()=>g,subscribe:a=>(n.add(a),()=>n.delete(a)),destroy:()=>{n.clear()}},g=t=e(o,r,S);return S},U=e=>e?T(e):T;var P={exports:{}},W={},M={exports:{}},B={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m=x;function H(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var G=typeof Object.is=="function"?Object.is:H,Z=m.useState,J=m.useEffect,Q=m.useLayoutEffect,X=m.useDebugValue;function ee(e,t){var n=t(),o=Z({inst:{value:n,getSnapshot:t}}),r=o[0].inst,i=o[1];return Q(function(){r.value=n,r.getSnapshot=t,w(r)&&i({inst:r})},[e,n,t]),J(function(){return w(r)&&i({inst:r}),e(function(){w(r)&&i({inst:r})})},[e]),X(n),n}function w(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!G(e,n)}catch{return!0}}function te(e,t){return t()}var ne=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?te:ee;B.useSyncExternalStore=m.useSyncExternalStore!==void 0?m.useSyncExternalStore:ne;M.exports=B;var oe=M.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b=x,re=oe;function ie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var se=typeof Object.is=="function"?Object.is:ie,ae=re.useSyncExternalStore,ce=b.useRef,ue=b.useEffect,de=b.useMemo,le=b.useDebugValue;W.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var i=ce(null);if(i.current===null){var f={hasValue:!1,value:null};i.current=f}else f=i.current;i=de(function(){function S(c){if(!g){if(g=!0,a=c,c=o(c),r!==void 0&&f.hasValue){var l=f.value;if(r(l,c))return p=l}return p=c}if(l=p,se(a,c))return l;var j=o(c);return r!==void 0&&r(l,j)?l:(a=c,p=j)}var g=!1,a,p,d=n===void 0?null:n;return[function(){return S(t())},d===null?void 0:function(){return S(d())}]},[t,n,o,r]);var h=ae(e,i[0],i[1]);return ue(function(){f.hasValue=!0,f.value=h},[h]),le(h),h};P.exports=W;var fe=P.exports;const pe=K(fe),{useDebugValue:me}=Y,{useSyncExternalStoreWithSelector:he}=pe;const Se=e=>e;function ye(e,t=Se,n){const o=he(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return me(o),o}const A=e=>{const t=typeof e=="function"?U(e):e,n=(o,r)=>ye(t,o,r);return Object.assign(n,t),n},Ee=e=>e?A(e):A;var u=(e=>(e.Success="success",e.Error="error",e.Info="info",e.Warning="warning",e))(u||{});const D=Ee((e,t)=>({uid:0,notifications:[],addNotification:(n,o,r=!1)=>e(i=>({uid:i.uid+1,notifications:[...i.notifications,{uid:i.uid,content:n,type:o,dismissable:r}]})),addSuccess:(n,o=!1)=>t().addNotification(n,"success",o),addError:(n,o=!1)=>t().addNotification(n,"error",o),addWarning:(n,o=!1)=>t().addNotification(n,"warning",o),addInfo:(n,o=!1)=>t().addNotification(n,"info",o),clearNotification:n=>e(o=>({notifications:o.notifications.filter(({uid:r})=>r!==n)})),clearNotifications:()=>e(()=>({notifications:[]}))})),ge=e=>{switch(e){case u.Success:return y.success;case u.Error:return y.error;case u.Warning:return y.warning;case u.Info:return y.info;default:return y.info}},_e=e=>{switch(e){case u.Success:return E.success;case u.Error:return E.error;case u.Warning:return E.warning;case u.Info:return E.info;default:return E.info}},R=({notification:e})=>{const{clearNotification:t}=D();return s.jsx(z,{className:"mb-2",type:ge(e.type),...e.dismissable?{removable:!0,onOdsRemoveClick:()=>t(e.uid)}:{},children:s.jsx(L,{color:_e(e.type),size:$._400,children:e.content})})};try{R.displayName="OdsNotification",R.__docgenInfo={description:"",displayName:"OdsNotification",props:{notification:{defaultValue:null,description:"",name:"notification",required:!0,type:{name:"Notification"}}}}}catch{}try{odsnotification.displayName="odsnotification",odsnotification.__docgenInfo={description:"",displayName:"odsnotification",props:{notification:{defaultValue:null,description:"",name:"notification",required:!0,type:{name:"Notification"}}}}}catch{}const I=({clearAfterRead:e=!0})=>{const t=F(),[n]=x.useState(t),{notifications:o,clearNotifications:r}=D();return x.useEffect(()=>{e&&n.pathname!==t.pathname&&r()},[e,t.pathname]),s.jsx(s.Fragment,{children:o.map(i=>s.jsx(R,{notification:i},i.uid))})};try{I.displayName="Notifications",I.__docgenInfo={description:`This component display the list of notifications. It acts
as a "flash" component because by default once the notifications have been
shown they are cleared. It means that you can use this component on multiple
pages, switching page won't display notifications twice.

It replicates the current behavior of public cloud notifications for
actions (success / errors / etc)`,displayName:"Notifications",props:{clearAfterRead:{defaultValue:{value:"true"},description:"Clear notifications once they have been displayed (on location changes)",name:"clearAfterRead",required:!1,type:{name:"boolean"}}}}}catch{}try{notificationscomponent.displayName="notificationscomponent",notificationscomponent.__docgenInfo={description:`This component display the list of notifications. It acts
as a "flash" component because by default once the notifications have been
shown they are cleared. It means that you can use this component on multiple
pages, switching page won't display notifications twice.

It replicates the current behavior of public cloud notifications for
actions (success / errors / etc)`,displayName:"notificationscomponent",props:{clearAfterRead:{defaultValue:{value:"true"},description:"Clear notifications once they have been displayed (on location changes)",name:"clearAfterRead",required:!1,type:{name:"boolean"}}}}}catch{}const ve=()=>{const{addSuccess:e,addWarning:t,addError:n,clearNotifications:o}=D();return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex",children:[s.jsx(_,{className:"mr-2",size:v.md,color:O.success,onClick:()=>e("success message"),children:"Add success"}),s.jsx(_,{className:"mr-2",size:v.md,color:O.warning,onClick:()=>t("warning message"),children:"Add warning"}),s.jsx(_,{className:"mr-2",size:v.md,color:O.error,onClick:()=>n("error message"),children:"Add error"}),s.jsx(_,{className:"mr-2",size:v.md,color:O.primary,onClick:o,children:"Clear"})]}),s.jsx("div",{className:"mt-4",children:s.jsx(I,{})})]})},N={name:"Notifications"},je={title:"Components/Notifications",component:ve,decorators:[k]};var C,V,q;N.parameters={...N.parameters,docs:{...(C=N.parameters)==null?void 0:C.docs,source:{originalSource:`{
  name: 'Notifications'
}`,...(q=(V=N.parameters)==null?void 0:V.docs)==null?void 0:q.source}}};const Te=["Primary"];export{N as Primary,Te as __namedExportsOrder,je as default};
//# sourceMappingURL=notifications.stories-50d6bfad.js.map
