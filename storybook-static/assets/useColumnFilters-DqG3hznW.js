import{j as o}from"./jsx-runtime-CKrituN3.js";import{r as l}from"./index-CBqU2yxZ.js";import{l as E,b as S,m as k}from"./index-Bds5wOzB.js";import{t as b,u as I,d as y,c as D,v as L}from"./index-CzREU6hr.js";import{u as F}from"./useTranslation-pmbu4BU3.js";import{i as s}from"./i18next-ihUiNgJT.js";var _;(function(r){r.Includes="includes",r.StartsWith="starts_with",r.EndsWith="ends_with",r.IsEqual="is_equal",r.IsDifferent="is_different",r.IsLower="is_lower",r.IsHigher="is_higher",r.IsBefore="is_before",r.IsAfter="is_after",r.IsIn="is_in"})(_||(_={}));var j;(function(r){r.Numeric="Numeric",r.String="String",r.Date="Date",r.Boolean="Boolean",r.Options="Options"})(j||(j={}));const f_={Numeric:[_.IsEqual,_.IsDifferent,_.IsLower,_.IsHigher],String:[_.Includes,_.StartsWith,_.EndsWith,_.IsEqual,_.IsDifferent],Date:[_.IsEqual,_.IsDifferent,_.IsBefore,_.IsAfter],Boolean:[_.IsEqual,_.IsDifferent],Options:[_.IsEqual,_.IsDifferent]};function b_(r=[],d=[]){return r.filter(t=>{let e=!0;return d.forEach(i=>{const c=t[i.key],n=i.value;switch(i.comparator){case _.Includes:e=e&&`${c}`.toLowerCase().includes(n.toLowerCase());break;case _.StartsWith:e=e&&`${c}`.toLowerCase().startsWith(n.toLowerCase());break;case _.EndsWith:e=e&&`${c}`.toLowerCase().endsWith(n.toLowerCase());break;case _.IsEqual:e=e&&`${c}`.toLowerCase()===n.toLowerCase();break;case _.IsDifferent:e=e&&`${c}`.toLowerCase()!==n.toLowerCase();break;case _.IsLower:e=e&&Number(c)<Number(n);break;case _.IsHigher:e=e&&Number(c)>Number(n);break;case _.IsBefore:e=e&&new Date(`${c}`)<new Date(n);break;case _.IsAfter:e=e&&new Date(`${c}`)>new Date(n);break;case _.IsIn:e=e&&!!i.value.find(p=>p===`${c}`);break}}),e})}const O="Filtern",A="Spalte",R="Bedingung",z="enthält",W="beginnt mit",B="endet mit",V="ist gleich",T="ist nicht gleich",P="ist kleiner als",H="ist größer als",G="ist",K="ist vor",U="Ja",Y="Nein",J="Wert",M="Hinzufügen",Z={common_criteria_adder_filter_label:O,common_criteria_adder_column_label:A,common_criteria_adder_operator_label:R,common_criteria_adder_operator_includes:z,common_criteria_adder_operator_starts_with:W,common_criteria_adder_operator_ends_with:B,common_criteria_adder_operator_is_equal:V,common_criteria_adder_operator_is_different:T,common_criteria_adder_operator_is_lower:P,common_criteria_adder_operator_is_higher:H,common_criteria_adder_operator_is_before:G,common_criteria_adder_operator_is_after:K,common_criteria_adder_true_label:U,common_criteria_adder_false_label:Y,common_criteria_adder_value_label:J,common_criteria_adder_submit_label:M},Q="Filter",X="Column",rr="Condition",er="includes",_r="starts with",or="ends with",ar="is equal to",ir="is different from",tr="is lower than",cr="is higher than",dr="is",nr="is before",sr="Yes",mr="No",lr="Value",pr="Add",ur={common_criteria_adder_filter_label:Q,common_criteria_adder_column_label:X,common_criteria_adder_operator_label:rr,common_criteria_adder_operator_includes:er,common_criteria_adder_operator_starts_with:_r,common_criteria_adder_operator_ends_with:or,common_criteria_adder_operator_is_equal:ar,common_criteria_adder_operator_is_different:ir,common_criteria_adder_operator_is_lower:tr,common_criteria_adder_operator_is_higher:cr,common_criteria_adder_operator_is_before:dr,common_criteria_adder_operator_is_after:nr,common_criteria_adder_true_label:sr,common_criteria_adder_false_label:mr,common_criteria_adder_value_label:lr,common_criteria_adder_submit_label:pr},fr="Filtrar",br="Columna",$r="Condición",hr="contiene",wr="empieza por",gr="termina por",vr="es igual a",Ir="no es",jr="es inferior a",xr="es superior a",qr="es",Nr="es anterior a",Cr="Sí",Fr="No",Er="Valor",Sr="Añadir",kr={common_criteria_adder_filter_label:fr,common_criteria_adder_column_label:br,common_criteria_adder_operator_label:$r,common_criteria_adder_operator_includes:hr,common_criteria_adder_operator_starts_with:wr,common_criteria_adder_operator_ends_with:gr,common_criteria_adder_operator_is_equal:vr,common_criteria_adder_operator_is_different:Ir,common_criteria_adder_operator_is_lower:jr,common_criteria_adder_operator_is_higher:xr,common_criteria_adder_operator_is_before:qr,common_criteria_adder_operator_is_after:Nr,common_criteria_adder_true_label:Cr,common_criteria_adder_false_label:Fr,common_criteria_adder_value_label:Er,common_criteria_adder_submit_label:Sr},yr="Filtrer",Dr="Colonne",Lr="Condition",Or="contient",Ar="débute par",Rr="termine par",zr="est égal à",Wr="est différent de",Br="est inférieur à",Vr="est supérieur à",Tr="est",Pr="est avant",Hr="Oui",Gr="Non",Kr="Valeur",Ur="Ajouter",Yr={common_criteria_adder_filter_label:yr,common_criteria_adder_column_label:Dr,common_criteria_adder_operator_label:Lr,common_criteria_adder_operator_includes:Or,common_criteria_adder_operator_starts_with:Ar,common_criteria_adder_operator_ends_with:Rr,common_criteria_adder_operator_is_equal:zr,common_criteria_adder_operator_is_different:Wr,common_criteria_adder_operator_is_lower:Br,common_criteria_adder_operator_is_higher:Vr,common_criteria_adder_operator_is_before:Tr,common_criteria_adder_operator_is_after:Pr,common_criteria_adder_true_label:Hr,common_criteria_adder_false_label:Gr,common_criteria_adder_value_label:Kr,common_criteria_adder_submit_label:Ur},Jr="Filtrer",Mr="Colonne",Zr="Condition",Qr="contient",Xr="débute par",re="termine par",ee="est égal à",_e="est différent de",oe="est inférieur à",ae="est supérieur à",ie="est",te="est avant",ce="Oui",de="Non",ne="Valeur",se="Ajouter",me={common_criteria_adder_filter_label:Jr,common_criteria_adder_column_label:Mr,common_criteria_adder_operator_label:Zr,common_criteria_adder_operator_includes:Qr,common_criteria_adder_operator_starts_with:Xr,common_criteria_adder_operator_ends_with:re,common_criteria_adder_operator_is_equal:ee,common_criteria_adder_operator_is_different:_e,common_criteria_adder_operator_is_lower:oe,common_criteria_adder_operator_is_higher:ae,common_criteria_adder_operator_is_before:ie,common_criteria_adder_operator_is_after:te,common_criteria_adder_true_label:ce,common_criteria_adder_false_label:de,common_criteria_adder_value_label:ne,common_criteria_adder_submit_label:se},le="Filtra",pe="Colonna",ue="Condizione",fe="contiene",be="inizia per",$e="termina per",he="è uguale a",we="è diverso da",ge="è inferiore a",ve="è superiore a",Ie="è",je="è prima di",xe="Sì",qe="No",Ne="Valore",Ce="Aggiungi",Fe={common_criteria_adder_filter_label:le,common_criteria_adder_column_label:pe,common_criteria_adder_operator_label:ue,common_criteria_adder_operator_includes:fe,common_criteria_adder_operator_starts_with:be,common_criteria_adder_operator_ends_with:$e,common_criteria_adder_operator_is_equal:he,common_criteria_adder_operator_is_different:we,common_criteria_adder_operator_is_lower:ge,common_criteria_adder_operator_is_higher:ve,common_criteria_adder_operator_is_before:Ie,common_criteria_adder_operator_is_after:je,common_criteria_adder_true_label:xe,common_criteria_adder_false_label:qe,common_criteria_adder_value_label:Ne,common_criteria_adder_submit_label:Ce},Ee="Filtruj",Se="Kolumna",ke="Warunek",ye="zawiera",De="zaczyna się na",Le="kończy się na",Oe="jest równy",Ae="nie jest",Re="jest mniejszy niż",ze="jest większy niż",We="jest",Be="jest przed",Ve="Tak",Te="Nie",Pe="Wartość",He="Dodaj",Ge={common_criteria_adder_filter_label:Ee,common_criteria_adder_column_label:Se,common_criteria_adder_operator_label:ke,common_criteria_adder_operator_includes:ye,common_criteria_adder_operator_starts_with:De,common_criteria_adder_operator_ends_with:Le,common_criteria_adder_operator_is_equal:Oe,common_criteria_adder_operator_is_different:Ae,common_criteria_adder_operator_is_lower:Re,common_criteria_adder_operator_is_higher:ze,common_criteria_adder_operator_is_before:We,common_criteria_adder_operator_is_after:Be,common_criteria_adder_true_label:Ve,common_criteria_adder_false_label:Te,common_criteria_adder_value_label:Pe,common_criteria_adder_submit_label:He},Ke="Filtrar",Ue="Coluna",Ye="Regra",Je="contém",Me="começa por",Ze="termina em",Qe="é igual a",Xe="é diferente de",r_="é inferior a",e_="é superior a",__="é",o_="está antes",a_="Sim",i_="Não",t_="Valor",c_="Adicionar",d_={common_criteria_adder_filter_label:Ke,common_criteria_adder_column_label:Ue,common_criteria_adder_operator_label:Ye,common_criteria_adder_operator_includes:Je,common_criteria_adder_operator_starts_with:Me,common_criteria_adder_operator_ends_with:Ze,common_criteria_adder_operator_is_equal:Qe,common_criteria_adder_operator_is_different:Xe,common_criteria_adder_operator_is_lower:r_,common_criteria_adder_operator_is_higher:e_,common_criteria_adder_operator_is_before:__,common_criteria_adder_operator_is_after:o_,common_criteria_adder_true_label:a_,common_criteria_adder_false_label:i_,common_criteria_adder_value_label:t_,common_criteria_adder_submit_label:c_};function x(){s.addResources("de_DE","filters",Z),s.addResources("en_GB","filters",ur),s.addResources("es_ES","filters",kr),s.addResources("fr_CA","filters",Yr),s.addResources("fr_FR","filters",me),s.addResources("it_IT","filters",Fe),s.addResources("pl_PL","filters",Ge),s.addResources("pt_PT","filters",d_)}s.isInitialized?x():s.on("initialized",x);function q({columns:r,onAddFilter:d}){var w,g,v;const{t}=F("filters"),[e,i]=l.useState(((w=r==null?void 0:r[0])==null?void 0:w.id)||""),[c,n]=l.useState(((v=(g=r==null?void 0:r[0])==null?void 0:g.comparators)==null?void 0:v[0])||_.IsEqual),[p,$]=l.useState(""),m=l.useMemo(()=>r.find(({id:a})=>e===a),[r,e]),h=()=>{d({key:e,comparator:c,value:p},m),$("")};return l.useEffect(()=>{n(m==null?void 0:m.comparators[0])},[m]),o.jsxs(o.Fragment,{children:[o.jsx("div",{children:o.jsxs(b,{className:"w-full",children:[o.jsx("div",{slot:"label",children:o.jsx("span",{className:"text-[--ods-color-heading] leading-[22px]",children:t("common_criteria_adder_column_label")})}),o.jsx(I,{value:e,name:"add-filter_select_idColumn","data-testid":"add-filter_select_idColumn",onOdsChange:a=>i(a.detail.value),children:r.map(({id:a,label:f})=>o.jsx("option",{value:a,children:f},a))})]})}),o.jsx("div",{children:o.jsxs(b,{className:"mt-2 w-full",children:[o.jsx("div",{slot:"label",children:o.jsx("span",{className:"text-[--ods-color-heading] leading-[22px]",children:t("common_criteria_adder_operator_label")})}),m&&r.map(a=>{var f;return o.jsx("div",{className:a.id===m.id?"":"hidden",children:o.jsx(I,{name:`add-operator-${a==null?void 0:a.id}`,value:c,onOdsChange:u=>{n(u.detail.value)},children:(f=a==null?void 0:a.comparators)==null?void 0:f.map(u=>o.jsx("option",{value:u,children:t(`common_criteria_adder_operator_${u}`)},`${a.id}-${u}`))})},`filter-condition-select-${a.id}`)})]})}),o.jsx("div",{children:o.jsxs(b,{className:"mt-2 w-full",children:[o.jsx("div",{slot:"label",children:o.jsx("span",{className:"text-[--ods-color-heading] leading-[22px]",children:t("common_criteria_adder_value_label")})}),o.jsx(y,{name:"filter-add_value-input",className:"border",type:E.text,value:p,"data-testid":"filter-add_value-input",onOdsChange:a=>$(`${a.detail.value}`),onKeyDown:a=>{a.key==="Enter"&&h()}})]})}),o.jsx("div",{children:o.jsx(D,{className:"mt-4 w-full filter-add-button-submit",size:S.sm,isDisabled:!p,onClick:h,"data-testid":"filter-add_submit",label:t("common_criteria_adder_submit_label")})})]})}try{q.displayName="FilterAdd",q.__docgenInfo={description:"",displayName:"FilterAdd",props:{columns:{defaultValue:null,description:"",name:"columns",required:!0,type:{name:"ColumnFilter[]"}},onAddFilter:{defaultValue:null,description:"",name:"onAddFilter",required:!0,type:{name:"(filter: Filter, column: ColumnFilter) => void"}}}}}catch{}function N({filters:r,onRemoveFilter:d}){const{t}=F("filters"),e=i=>t(`common_criteria_adder_operator_${i}`);return o.jsx(o.Fragment,{children:r==null?void 0:r.map((i,c)=>o.jsx(L,{className:"mr-3",color:k.information,size:"lg",onOdsRemove:()=>d(i),"data-testid":"filter-list_tag_item",label:`${i.label?`${i.label} ${e(i.comparator)} `:""}
          ${i.value}`},c))})}try{N.displayName="FilterList",N.__docgenInfo={description:"",displayName:"FilterList",props:{filters:{defaultValue:null,description:"",name:"filters",required:!0,type:{name:"FilterWithLabel[]"}},onRemoveFilter:{defaultValue:null,description:"",name:"onRemoveFilter",required:!0,type:{name:"(filter: FilterWithLabel) => void"}}}}}catch{}const C=(r,d)=>r.key===d.key&&r.value===d.value&&r.comparator===d.comparator;function $_(){const[r,d]=l.useState([]);return{filters:r,addFilter:t=>{t.value&&d(e=>e.some(i=>C(i,t))?e:[...e,t])},removeFilter:t=>{d(e=>e.filter(i=>!C(i,t)))}}}export{_ as F,b_ as a,f_ as b,q as c,N as d,j as e,$_ as u};
