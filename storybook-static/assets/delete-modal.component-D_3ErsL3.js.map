{"version":3,"file":"delete-modal.component-D_3ErsL3.js","sources":["../../src/components/templates/delete-modal/translations/translations.ts","../../src/components/templates/delete-modal/delete-modal.component.tsx"],"sourcesContent":["import i18next from 'i18next';\n\nimport de_DE from './Messages_de_DE.json';\nimport en_GB from './Messages_en_GB.json';\nimport es_ES from './Messages_es_ES.json';\nimport fr_CA from './Messages_fr_CA.json';\nimport fr_FR from './Messages_fr_FR.json';\nimport it_IT from './Messages_it_IT.json';\nimport pl_PL from './Messages_pl_PL.json';\nimport pt_PT from './Messages_pt_PT.json';\n\nfunction addTranslations() {\n  i18next.addResources('de_DE', 'delete-modal', de_DE);\n  i18next.addResources('en_GB', 'delete-modal', en_GB);\n  i18next.addResources('es_ES', 'delete-modal', es_ES);\n  i18next.addResources('fr_CA', 'delete-modal', fr_CA);\n  i18next.addResources('fr_FR', 'delete-modal', fr_FR);\n  i18next.addResources('it_IT', 'delete-modal', it_IT);\n  i18next.addResources('pl_PL', 'delete-modal', pl_PL);\n  i18next.addResources('pt_PT', 'delete-modal', pt_PT);\n}\n\nif (i18next.isInitialized) {\n  addTranslations();\n} else {\n  i18next.on('initialized', addTranslations);\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport {\n  OdsText,\n  OdsInput,\n  OdsMessage,\n  OdsModal,\n  OdsButton,\n  OdsFormField,\n} from '@ovhcloud/ods-components/react';\nimport {\n  OdsInputCustomEvent,\n  OdsInputChangeEventDetail,\n  ODS_BUTTON_VARIANT,\n  ODS_INPUT_TYPE,\n  ODS_BUTTON_COLOR,\n  ODS_MESSAGE_COLOR,\n  ODS_MODAL_COLOR,\n} from '@ovhcloud/ods-components';\nimport { handleClick } from '../../../utils/click-utils';\nimport './translations/translations';\n\nexport const defaultDeleteModalTerminateValue = 'TERMINATE';\n\nexport type DeleteModalProps = {\n  headline: string;\n  description?: string;\n  deleteInputLabel: string;\n  closeModal: () => void;\n  isLoading?: boolean;\n  onConfirmDelete: () => void;\n  error?: string;\n  cancelButtonLabel?: string;\n  confirmButtonLabel?: string;\n  terminateValue?: string;\n  isOpen?: boolean;\n};\n\nexport const DeleteModal: React.FC<DeleteModalProps> = ({\n  headline,\n  description,\n  isOpen = false,\n  deleteInputLabel,\n  closeModal,\n  isLoading,\n  onConfirmDelete,\n  error,\n  cancelButtonLabel,\n  confirmButtonLabel,\n  terminateValue = defaultDeleteModalTerminateValue,\n}) => {\n  const { t } = useTranslation('delete-modal');\n  const [deleteInput, setDeleteInput] = React.useState('');\n  const isDisabled = isLoading || deleteInput !== terminateValue || undefined;\n\n  const close = React.useCallback(() => {\n    setDeleteInput('');\n    closeModal();\n  }, []);\n\n  return (\n    <OdsModal\n      color={ODS_MODAL_COLOR.warning}\n      class=\"modal-actions\"\n      onOdsClose={close}\n      isOpen={isOpen}\n    >\n      <div>\n        <span className=\"delete-modal-headline text-[--ods-color-heading] text-[24px] leading-[32px] font-bold\">\n          {headline}\n        </span>\n      </div>\n      {!!error && (\n        <OdsMessage color={ODS_MESSAGE_COLOR.warning}>\n          <OdsText preset=\"span\">{t('deleteModalError', { error })}</OdsText>\n        </OdsMessage>\n      )}\n      <span className=\"delete-modal-description text-[--ods-color-text] text-[14px] leading-[18px] my-[8px]\">\n        {description}\n      </span>\n      <OdsFormField className=\"mb-8\">\n        <label slot=\"label\">{deleteInputLabel}</label>\n        <OdsInput\n          name=\"\"\n          aria-label=\"delete-input\"\n          isDisabled={isLoading || undefined}\n          type={ODS_INPUT_TYPE.text}\n          value={deleteInput}\n          onOdsChange={(e: OdsInputCustomEvent<OdsInputChangeEventDetail>) =>\n            setDeleteInput(e.detail.value as string)\n          }\n        />\n      </OdsFormField>\n      <OdsButton\n        isDisabled={isLoading}\n        slot=\"actions\"\n        data-testid=\"manager-delete-modal-cancel\"\n        variant={ODS_BUTTON_VARIANT.ghost}\n        color={ODS_BUTTON_COLOR.primary}\n        {...handleClick(close)}\n        label={cancelButtonLabel || t('deleteModalCancelButton')}\n      />\n      <OdsButton\n        isDisabled={isDisabled}\n        slot=\"actions\"\n        isLoading={isLoading}\n        data-testid=\"manager-delete-modal-confirm\"\n        {...handleClick(() => {\n          setDeleteInput('');\n          onConfirmDelete();\n        })}\n        label={confirmButtonLabel || t('deleteModalDeleteButton')}\n      />\n    </OdsModal>\n  );\n};\n"],"names":["addTranslations","i18next","de_DE","en_GB","es_ES","fr_CA","fr_FR","it_IT","pl_PL","pt_PT","defaultDeleteModalTerminateValue","DeleteModal","headline","description","isOpen","deleteInputLabel","closeModal","isLoading","onConfirmDelete","error","cancelButtonLabel","confirmButtonLabel","terminateValue","t","useTranslation","deleteInput","setDeleteInput","React","isDisabled","close","jsxs","OdsModal","ODS_MODAL_COLOR","jsx","OdsMessage","ODS_MESSAGE_COLOR","OdsText","OdsFormField","OdsInput","ODS_INPUT_TYPE","e","OdsButton","ODS_BUTTON_VARIANT","ODS_BUTTON_COLOR","handleClick"],"mappings":"qiDAWA,SAASA,GAAkB,CACjBC,EAAA,aAAa,QAAS,eAAgBC,CAAK,EAC3CD,EAAA,aAAa,QAAS,eAAgBE,CAAK,EAC3CF,EAAA,aAAa,QAAS,eAAgBG,CAAK,EAC3CH,EAAA,aAAa,QAAS,eAAgBI,CAAK,EAC3CJ,EAAA,aAAa,QAAS,eAAgBK,EAAK,EAC3CL,EAAA,aAAa,QAAS,eAAgBM,EAAK,EAC3CN,EAAA,aAAa,QAAS,eAAgBO,EAAK,EAC3CP,EAAA,aAAa,QAAS,eAAgBQ,EAAK,CACrD,CAEIR,EAAQ,cACMD,IAERC,EAAA,GAAG,cAAeD,CAAe,ECHpC,MAAAU,GAAA,YAgBAC,EAAA,CAAA,CAAiD,SAAAC,EACtD,YAAAC,EACA,OAAAC,EAAA,GACS,iBAAAC,EACT,WAAAC,EACA,UAAAC,EACA,gBAAAC,EACA,MAAAC,EACA,kBAAAC,EACA,mBAAAC,EACA,eAAAC,EAAAZ,EAEF,IAAA,CACE,KAAA,CAAA,EAAAa,CAAA,EAAAC,EAAA,cAAA,EACA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAA,EAAA,EACAC,EAAAX,GAAAQ,IAAAH,GAAA,OAEAO,EAAAF,EAAA,YAAA,IAAA,CACED,EAAA,EAAA,EACAV,GAAW,EAAA,CAAA,CAAA,EAGb,OAAAc,EAAA,KACEC,EAAC,CAAA,MAAAC,EAAA,QACwB,MAAA,gBACjB,WAAAH,EACM,OAAAf,EACZ,SAAA,CAEAmB,EAAAA,IAAA,MAAA,CAAA,SAAAA,EAAA,IAAA,OAAA,CAAA,UAAA,wFAAA,SAAArB,CAAA,CAAA,CAAA,CAAA,EAIA,CAAA,CAAAO,GAAAc,EAAAA,IAAAC,EAAA,CAAA,MAAAC,EAAA,QAAA,SAAAF,EAAA,IAAAG,EAAA,CAAA,OAAA,OAAA,SAAAb,EAAA,mBAAA,CAAA,MAAAJ,CAAA,CAAA,CAAA,CAAA,EAAA,EAIEc,EAAA,IAAA,OAAA,CAAA,UAAA,uFAAA,SAAApB,EAAA,EAIFiB,EAAAA,KAAAO,EAAA,CAAA,UAAA,OAAA,SAAA,CAEEJ,EAAA,IAAA,QAAA,CAAA,KAAA,QAAA,SAAAlB,EAAA,EAAsCkB,EAAA,IACtCK,EAAC,CAAA,KAAA,GACM,aAAA,eACM,WAAArB,GAAA,OACc,KAAAsB,EAAA,KACJ,MAAAd,EACd,YAAAe,GAAAd,EAAAc,EAAA,OAAA,KAAA,CAEkC,CAAA,CAE3C,EAAA,EACFP,EAAA,IACAQ,EAAC,CAAA,WAAAxB,EACa,KAAA,UACP,cAAA,8BACO,QAAAyB,EAAA,MACgB,MAAAC,EAAA,QACJ,GAAAC,EAAAf,CAAA,EACH,MAAAT,GAAAG,EAAA,yBAAA,CACkC,CAAA,EACzDU,EAAA,IACAQ,EAAC,CAAA,WAAAb,EACC,KAAA,UACK,UAAAX,EACL,cAAA,+BACY,GAAA2B,EAAA,IAAA,CAEVlB,EAAA,EAAA,EACAR,GAAgB,CAAA,EACjB,MAAAG,GAAAE,EAAA,yBAAA,CACuD,CAAA,CAC1D,CAAA,CAAA,CAGN"}