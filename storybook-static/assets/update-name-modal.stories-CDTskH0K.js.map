{"version":3,"file":"update-name-modal.stories-CDTskH0K.js","sources":["../../src/components/templates/update-name-modal/translations/translations.ts","../../src/components/templates/update-name-modal/update-name-modal.component.tsx"],"sourcesContent":["import i18next from 'i18next';\n\nimport de_DE from './Messages_de_DE.json';\nimport en_GB from './Messages_en_GB.json';\nimport es_ES from './Messages_es_ES.json';\nimport fr_CA from './Messages_fr_CA.json';\nimport fr_FR from './Messages_fr_FR.json';\nimport it_IT from './Messages_it_IT.json';\nimport pl_PL from './Messages_pl_PL.json';\nimport pt_PT from './Messages_pt_PT.json';\n\nfunction addTranslations() {\n  i18next.addResources('de_DE', 'update-name-modal', de_DE);\n  i18next.addResources('en_GB', 'update-name-modal', en_GB);\n  i18next.addResources('es_ES', 'update-name-modal', es_ES);\n  i18next.addResources('fr_CA', 'update-name-modal', fr_CA);\n  i18next.addResources('fr_FR', 'update-name-modal', fr_FR);\n  i18next.addResources('it_IT', 'update-name-modal', it_IT);\n  i18next.addResources('pl_PL', 'update-name-modal', pl_PL);\n  i18next.addResources('pt_PT', 'update-name-modal', pt_PT);\n}\n\nif (i18next.isInitialized) {\n  addTranslations();\n} else {\n  i18next.on('initialized', addTranslations);\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { ODS_THEME_COLOR_INTENT } from '@ovhcloud/ods-common-theming';\nimport {\n  OsdsText,\n  OsdsInput,\n  OsdsMessage,\n  OsdsSpinner,\n  OsdsModal,\n  OsdsButton,\n  OsdsFormField,\n} from '@ovhcloud/ods-components/react';\nimport {\n  ODS_BUTTON_TYPE,\n  ODS_BUTTON_VARIANT,\n  ODS_MESSAGE_TYPE,\n  ODS_SPINNER_SIZE,\n  ODS_INPUT_TYPE,\n  OdsInputValueChangeEvent,\n  ODS_TEXT_LEVEL,\n  ODS_TEXT_SIZE,\n} from '@ovhcloud/ods-components';\nimport { handleClick } from '../../../utils/click-utils';\nimport './translations/translations';\n\nexport type UpdateNameModalProps = {\n  headline: string;\n  description?: string;\n  inputLabel: string;\n  defaultValue?: string;\n  closeModal: () => void;\n  updateDisplayName: (newDisplayName: string) => void;\n  isLoading?: boolean;\n  error?: string;\n  cancelButtonLabel?: string;\n  confirmButtonLabel?: string;\n};\n\nexport const UpdateNameModal: React.FC<UpdateNameModalProps> = ({\n  headline,\n  description,\n  inputLabel,\n  defaultValue,\n  closeModal,\n  isLoading,\n  updateDisplayName,\n  error,\n  cancelButtonLabel,\n  confirmButtonLabel,\n}) => {\n  const { t } = useTranslation('update-name-modal');\n  const [displayName, setDisplayName] = React.useState(defaultValue);\n\n  React.useEffect(() => {\n    setDisplayName(defaultValue);\n  }, [defaultValue]);\n\n  return (\n    <OsdsModal dismissible headline={headline} onOdsModalClose={closeModal}>\n      {!!error && (\n        <OsdsMessage type={ODS_MESSAGE_TYPE.error}>\n          <OsdsText\n            level={ODS_TEXT_LEVEL.body}\n            size={ODS_TEXT_SIZE._400}\n            color={ODS_THEME_COLOR_INTENT.text}\n          >\n            {t('updateModalError', { error })}\n          </OsdsText>\n        </OsdsMessage>\n      )}\n      <OsdsText\n        color={ODS_THEME_COLOR_INTENT.text}\n        level={ODS_TEXT_LEVEL.body}\n        className=\"block my-4\"\n      >\n        {description}\n      </OsdsText>\n      <OsdsFormField className=\"mb-8\">\n        <div slot=\"label\">\n          <OsdsText\n            className=\"block mb-3\"\n            color={ODS_THEME_COLOR_INTENT.text}\n            level={ODS_TEXT_LEVEL.body}\n            size={ODS_TEXT_SIZE._200}\n          >\n            {inputLabel}\n          </OsdsText>\n        </div>\n        <OsdsInput\n          aria-label=\"update-input\"\n          disabled={isLoading || undefined}\n          type={ODS_INPUT_TYPE.text}\n          value={displayName}\n          onOdsValueChange={(e: OdsInputValueChangeEvent) =>\n            setDisplayName(e.detail.value)\n          }\n        />\n      </OsdsFormField>\n      {isLoading && (\n        <div className=\"flex justify-center\">\n          <OsdsSpinner inline size={ODS_SPINNER_SIZE.md} />\n        </div>\n      )}\n      <OsdsButton\n        disabled={isLoading || undefined}\n        slot=\"actions\"\n        type={ODS_BUTTON_TYPE.button}\n        variant={ODS_BUTTON_VARIANT.ghost}\n        color={ODS_THEME_COLOR_INTENT.primary}\n        {...handleClick(closeModal)}\n      >\n        {cancelButtonLabel || t('updateModalCancelButton')}\n      </OsdsButton>\n      <OsdsButton\n        disabled={isLoading || undefined}\n        slot=\"actions\"\n        type={ODS_BUTTON_TYPE.button}\n        variant={ODS_BUTTON_VARIANT.flat}\n        color={ODS_THEME_COLOR_INTENT.primary}\n        {...handleClick(() => updateDisplayName(displayName))}\n      >\n        {confirmButtonLabel || t('updateModalConfirmButton')}\n      </OsdsButton>\n    </OsdsModal>\n  );\n};\n"],"names":["addTranslations","i18next","de_DE","en_GB","es_ES","fr_CA","fr_FR","it_IT","pl_PL","pt_PT","UpdateNameModal","headline","description","inputLabel","defaultValue","closeModal","isLoading","updateDisplayName","error","cancelButtonLabel","confirmButtonLabel","t","useTranslation","displayName","setDisplayName","React","jsxs","OsdsModal","jsx","OsdsMessage","ODS_MESSAGE_TYPE","OsdsText","ODS_TEXT_LEVEL","ODS_TEXT_SIZE","ODS_THEME_COLOR_INTENT","OsdsFormField","OsdsInput","ODS_INPUT_TYPE","e","OsdsSpinner","ODS_SPINNER_SIZE","OsdsButton","ODS_BUTTON_TYPE","ODS_BUTTON_VARIANT","handleClick"],"mappings":"stDAWA,SAASA,GAAkB,CACjBC,EAAA,aAAa,QAAS,oBAAqBC,CAAK,EAChDD,EAAA,aAAa,QAAS,oBAAqBE,CAAK,EAChDF,EAAA,aAAa,QAAS,oBAAqBG,CAAK,EAChDH,EAAA,aAAa,QAAS,oBAAqBI,EAAK,EAChDJ,EAAA,aAAa,QAAS,oBAAqBK,EAAK,EAChDL,EAAA,aAAa,QAAS,oBAAqBM,EAAK,EAChDN,EAAA,aAAa,QAAS,oBAAqBO,EAAK,EAChDP,EAAA,aAAa,QAAS,oBAAqBQ,EAAK,CAC1D,CAEIR,EAAQ,cACMD,IAERC,EAAA,GAAG,cAAeD,CAAe,ECapC,MAAAU,EAAA,CAAA,CAAyD,SAAAC,EAC9D,YAAAC,EACA,WAAAC,EACA,aAAAC,EACA,WAAAC,EACA,UAAAC,EACA,kBAAAC,EACA,MAAAC,EACA,kBAAAC,EACA,mBAAAC,CAEF,IAAA,CACE,KAAA,CAAA,EAAAC,CAAA,EAAAC,EAAA,mBAAA,EACA,CAAAC,EAAAC,CAAA,EAAAC,EAAA,SAAAX,CAAA,EAEA,OAAAW,EAAA,UAAA,IAAA,CACED,EAAAV,CAAA,CAA2B,EAAA,CAAAA,CAAA,CAAA,EAG7BY,EAAA,KAAAC,EAAA,CAAA,YAAA,GAAA,SAAAhB,EAAA,gBAAAI,EAAA,SAAA,CAEK,CAAA,CAAAG,GAAAU,EAAAA,IAAAC,EAAA,CAAA,KAAAC,EAAA,MAAA,SAAAF,EAAA,IAEGG,EAAC,CAAA,MAAAC,EAAA,KACuB,KAAAC,EAAA,KACF,MAAAC,EAAA,KACU,SAAAb,EAAA,mBAAA,CAAA,MAAAH,CAAA,CAAA,CAEE,CAAA,EAAA,EAEpCU,EAAA,IAEFG,EAAC,CAAA,MAAAG,EAAA,KAC+B,MAAAF,EAAA,KACR,UAAA,aACZ,SAAApB,CAET,CAAA,EACHc,EAAAA,KAAAS,EAAA,CAAA,UAAA,OAAA,SAAA,CAEEP,EAAAA,IAAA,MAAA,CAAA,KAAA,QAAA,SAAAA,EAAA,IACEG,EAAC,CAAA,UAAA,aACW,MAAAG,EAAA,KACoB,MAAAF,EAAA,KACR,KAAAC,EAAA,KACF,SAAApB,CAEnB,CAAA,EAAA,EAELe,EAAA,IACAQ,EAAC,CAAA,aAAA,eACY,SAAApB,GAAA,OACY,KAAAqB,EAAA,KACF,MAAAd,EACd,iBAAAe,GAAAd,EAAAc,EAAA,OAAA,KAAA,CAEwB,CAAA,CAEjC,EAAA,EACFtB,GAAAY,EAAA,IAAA,MAAA,CAAA,UAAA,sBAAA,SAAAA,EAAA,IAAAW,EAAA,CAAA,OAAA,GAAA,KAAAC,EAAA,EAAA,CAAA,EAAA,EAIEZ,EAAA,IAEFa,EAAC,CAAA,SAAAzB,GAAA,OACwB,KAAA,UAClB,KAAA0B,EAAA,OACiB,QAAAC,EAAA,MACM,MAAAT,EAAA,QACE,GAAAU,EAAA7B,CAAA,EACJ,SAAAI,GAAAE,EAAA,yBAAA,CAEuB,CAAA,EACnDO,EAAA,IACAa,EAAC,CAAA,SAAAzB,GAAA,OACwB,KAAA,UAClB,KAAA0B,EAAA,OACiB,QAAAC,EAAA,KACM,MAAAT,EAAA,QACE,GAAAU,EAAA,IAAA3B,EAAAM,CAAA,CAAA,EACsB,SAAAH,GAAAC,EAAA,0BAAA,CAED,CAAA,CACrD,CAAA,CAAA,CAGN"}