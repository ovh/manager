import{j as r}from"./jsx-runtime-CKrituN3.js";import{R as n,r as d}from"./index-CBqU2yxZ.js";import{E as h}from"./error.component-BohihVvZ.js";import{u as y,g as E}from"./index-BkDLP3dD.js";import{S as p}from"./useOvhTracking-C-_VjZ5i.js";const x=()=>{const t=y(),{shell:o}=n.useContext(p);n.useEffect(()=>{o.routing.stopListenForHashChange()},[]),n.useEffect(()=>{o.routing.onHashChange()},[t])},R=()=>(x(),null),l=({redirectionApp:t,isPreloaderHide:o=!1,isRouteShellSync:m=!1})=>{var s,i,u,c;const e=E(),a=(s=d.useContext(p))==null?void 0:s.shell,g=()=>{a==null||a.navigation.navigateTo(t,"",{})},f=()=>{a==null||a.navigation.reload()};return d.useEffect(()=>{o&&(a==null||a.ux.hidePreloader())},[o]),r.jsxs(r.Fragment,{children:[r.jsx(h,{onReloadPage:f,onRedirectHome:g,error:{data:{message:((u=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:u.message)||(e==null?void 0:e.message)},headers:((c=e==null?void 0:e.response)==null?void 0:c.headers)||{}}}),m&&r.jsx(R,{})]})};try{l.displayName="ErrorBoundary",l.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{redirectionApp:{defaultValue:null,description:"application name to redirect",name:"redirectionApp",required:!0,type:{name:"string"}},isPreloaderHide:{defaultValue:{value:"false"},description:"Trigger the preloader hiding",name:"isPreloaderHide",required:!1,type:{name:"boolean"}},isRouteShellSync:{defaultValue:{value:"false"},description:"Trigger the routes sync beetween shell and the app",name:"isRouteShellSync",required:!1,type:{name:"boolean"}}}}}catch{}export{l as E};
