import{j as i}from"./jsx-runtime-BRNY0I4F.js";import{m as O}from"./index-2w0W-O47-BJ19ihbZ.js";import{r as l}from"./index-Bnop-kX6.js";import{I as q}from"./FormFieldLabel-DerGjSSG-BDyW1aTt.js";import{X as w,t as C,v as g,x as W,g as A,a2 as U,a3 as z,a4 as J,a5 as Q,T as Y,L as F,R as Z,O as ee,w as te,V as oe,G as v,B as ae,a6 as de,A as re}from"./use-locale-context-cwTY9VYn-REDUMe7F.js";import{r as G}from"./use-field-context-C3OOq-03-DvM5qnyl.js";import{t as _}from"./Icon-DrfG5m-t-DQEf1CkA.js";import{l as I}from"./ods-react60-0db41gCx.js";import{B as ne,y as ce}from"./index-DDXR4bR2-rx0xkcPf.js";import{p as ie}from"./use-event-C16_WYdL-DF4JeFb4.js";const[se,N]=w({name:"CheckboxContext",hookName:"useCheckboxContext",providerName:"<CheckboxProvider />"}),H=l.forwardRef((e,t)=>{const o=N(),a=C(o.getControlProps(),e);return i.jsx(g.div,{...a,ref:t})});H.displayName="CheckboxControl";var $=W("checkbox").parts("root","label","control","indicator"),T=$.build(),B=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`checkbox:${e.id}`},S=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`checkbox:${e.id}:label`},le=e=>{var t;return((t=e.ids)==null?void 0:t.control)??`checkbox:${e.id}:control`},R=e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`checkbox:${e.id}:input`},ue=e=>e.getById(B(e)),E=e=>e.getById(R(e));function he(e,t){const{send:o,context:a,prop:d,computed:c,scope:n}=e,s=!!d("disabled"),h=!!d("readOnly"),p=!!d("required"),k=!!d("invalid"),m=!s&&a.get("focused"),f=!s&&a.get("focusVisible"),u=c("checked"),b=c("indeterminate"),x={"data-active":v(a.get("active")),"data-focus":v(m),"data-focus-visible":v(f),"data-readonly":v(h),"data-hover":v(a.get("hovered")),"data-disabled":v(s),"data-state":b?"indeterminate":u?"checked":"unchecked","data-invalid":v(k),"data-required":v(p)};return{checked:u,disabled:s,indeterminate:b,focused:m,checkedState:u,setChecked(r){o({type:"CHECKED.SET",checked:r,isTrusted:!1})},toggleChecked(){o({type:"CHECKED.TOGGLE",checked:u,isTrusted:!1})},getRootProps(){return t.label({...T.root.attrs,...x,dir:d("dir"),id:B(n),htmlFor:R(n),onPointerMove(){s||o({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){s||o({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(r){ae(r)===E(n)&&r.stopPropagation()}})},getLabelProps(){return t.element({...T.label.attrs,...x,dir:d("dir"),id:S(n)})},getControlProps(){return t.element({...T.control.attrs,...x,dir:d("dir"),id:le(n),"aria-hidden":!0})},getIndicatorProps(){return t.element({...T.indicator.attrs,...x,dir:d("dir"),hidden:!b&&!u})},getHiddenInputProps(){return t.input({id:R(n),type:"checkbox",required:d("required"),defaultChecked:u,disabled:s,"aria-labelledby":S(n),"aria-invalid":k,name:d("name"),form:d("form"),value:d("value"),style:de,onFocus(){const r=ce();o({type:"CONTEXT.SET",context:{focused:!0,focusVisible:r}})},onBlur(){o({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(r){if(h){r.preventDefault();return}const y=r.currentTarget.checked;o({type:"CHECKED.SET",checked:y,isTrusted:!0})}})}}}var{not:D}=Z(),ke=A({props({props:e}){return{value:"on",...e,defaultChecked:!!e.defaultChecked}},initialState(){return"ready"},context({prop:e,bindable:t}){return{checked:t(()=>({defaultValue:e("defaultChecked"),value:e("checked"),onChange(o){var a;(a=e("onCheckedChange"))==null||a({checked:o})}})),fieldsetDisabled:t(()=>({defaultValue:!1})),focusVisible:t(()=>({defaultValue:!1})),active:t(()=>({defaultValue:!1})),focused:t(()=>({defaultValue:!1})),hovered:t(()=>({defaultValue:!1}))}},watch({track:e,context:t,prop:o,action:a}){e([()=>o("disabled")],()=>{a(["removeFocusIfNeeded"])}),e([()=>t.get("checked")],()=>{a(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:D("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:D("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},computed:{indeterminate:({context:e})=>V(e.get("checked")),checked:({context:e})=>pe(e.get("checked")),disabled:({context:e,prop:t})=>!!t("disabled")||e.get("fieldsetDisabled")},states:{ready:{}},implementations:{guards:{isTrusted:({event:e})=>!!e.isTrusted},effects:{trackPressEvent({context:e,computed:t,scope:o}){if(!t("disabled"))return U({pointerNode:ue(o),keyboardNode:E(o),isValidKey:a=>a.key===" ",onPress:()=>e.set("active",!1),onPressStart:()=>e.set("active",!0),onPressEnd:()=>e.set("active",!1)})},trackFocusVisible({computed:e,scope:t}){var o;if(!e("disabled"))return ne({root:(o=t.getRootNode)==null?void 0:o.call(t)})},trackFormControlState({context:e,scope:t}){return z(E(t),{onFieldsetDisabledChange(o){e.set("fieldsetDisabled",o)},onFormReset(){e.set("checked",e.initial("checked"))}})}},actions:{setContext({context:e,event:t}){for(const o in t.context)e.set(o,t.context[o])},syncInputElement({context:e,computed:t,scope:o}){const a=E(o);a&&(J(a,t("checked")),a.indeterminate=V(e.get("checked")))},removeFocusIfNeeded({context:e,prop:t}){t("disabled")&&e.get("focused")&&(e.set("focused",!1),e.set("focusVisible",!1))},setChecked({context:e,event:t}){e.set("checked",t.checked)},toggleChecked({context:e,computed:t}){const o=V(t("checked"))?!0:!t("checked");e.set("checked",o)},dispatchChangeEvent({computed:e,scope:t}){queueMicrotask(()=>{const o=E(t);Q(o,{checked:e("checked")})})}}}});function V(e){return e==="indeterminate"}function pe(e){return V(e)?!1:!!e}Y()(["defaultChecked","checked","dir","disabled","form","getRootNode","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]);const me=$.extendWith("group");function fe(e){const{value:t,onChange:o,defaultValue:a}=e,[d,c]=l.useState(a),n=t!==void 0,s=n?t:d,h=l.useCallback(p=>(n||c(p),o==null?void 0:o(p)),[n,o]);return[s,h]}function ve(e={}){const{defaultValue:t,value:o,onValueChange:a,disabled:d,readOnly:c,name:n,invalid:s}=e,h=!(d||c),p=ie(a,{sync:!0}),[k,m]=fe({value:o,defaultValue:t||[],onChange:p}),f=r=>k.some(y=>String(y)===String(r)),u=r=>{f(r)?x(r):b(r)},b=r=>{h&&(f(r)||m(k.concat(r)))},x=r=>{h&&m(k.filter(y=>String(y)!==String(r)))};return{isChecked:f,value:k,name:n,disabled:!!d,readOnly:!!c,invalid:!!s,setValue:m,addValue:b,toggleValue:u,getItemProps:r=>({checked:r.value!=null?f(r.value):void 0,onCheckedChange(){r.value!=null&&u(r.value)},name:n,disabled:d,readOnly:c,invalid:s})}}const[be,xe]=w({name:"CheckboxGroupContext",hookName:"useCheckboxGroupContext",providerName:"<CheckboxGroupProvider />",strict:!1}),L=l.forwardRef((e,t)=>{const[o,a]=F()(e,["defaultValue","value","onValueChange","disabled","invalid","readOnly","name"]),d=ve(o);return i.jsx(be,{value:d,children:i.jsx(g.div,{ref:t,role:"group",...a,...me.build().group.attrs})})});L.displayName="CheckboxGroup";const X=l.forwardRef((e,t)=>{const o=N(),a=C(o.getHiddenInputProps(),e),d=G();return i.jsx(g.input,{"aria-describedby":d==null?void 0:d.ariaDescribedby,...a,ref:t})});X.displayName="CheckboxHiddenInput";const j=l.forwardRef((e,t)=>{const{indeterminate:o,...a}=e,d=N(),c=C(d.getIndicatorProps(),a),n=o?d.indeterminate:d.checked;return i.jsx(g.div,{...c,hidden:!n,ref:t})});j.displayName="CheckboxIndicator";const K=l.forwardRef((e,t)=>{const o=N(),a=C(o.getLabelProps(),e);return i.jsx(g.span,{...a,ref:t})});K.displayName="CheckboxLabel";const Ce=(e={})=>{const t=xe(),o=G(),a=l.useMemo(()=>C(e,(t==null?void 0:t.getItemProps({value:e.value}))??{}),[e,t]),d=l.useId(),{getRootNode:c}=ee(),{dir:n}=te(),s={id:d,ids:{label:o==null?void 0:o.ids.label,hiddenInput:o==null?void 0:o.ids.control},dir:n,disabled:o==null?void 0:o.disabled,readOnly:o==null?void 0:o.readOnly,invalid:o==null?void 0:o.invalid,required:o==null?void 0:o.required,getRootNode:c,...a},h=oe(ke,s);return he(h,re)},M=l.forwardRef((e,t)=>{const[o,a]=F()(e,["checked","defaultChecked","disabled","form","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]),d=Ce(o),c=C(d.getRootProps(),a);return i.jsx(se,{value:d,children:i.jsx(g.label,{...c,ref:t})})});M.displayName="CheckboxRoot";const ge="_checkbox_18i6t_2",ye={checkbox:ge},Ee=l.forwardRef(({checked:e,children:t,className:o,defaultChecked:a,disabled:d,id:c,invalid:n,name:s,onCheckedChange:h,required:p,value:k,...m},f)=>{const u=q();return i.jsx(M,{checked:e,className:O(ye.checkbox,o),"data-ods":"checkbox",defaultChecked:a,disabled:d,id:c||(u==null?void 0:u.id),invalid:n||(u==null?void 0:u.invalid),name:s,onCheckedChange:h,ref:f,required:p,value:k,...m,children:t})});Ee.displayName="Checkbox";const P={"checkbox-control":"_checkbox-control_gr69e_2","checkbox-control__icon":"_checkbox-control__icon_gr69e_49"},Ne=l.forwardRef(({className:e,...t},o)=>{const a=q(),d=l.useRef(null),{indeterminate:c}=N();return l.useEffect(()=>{d.current&&(d.current.indeterminate=c)},[c]),i.jsxs(i.Fragment,{children:[i.jsxs(H,{className:O(P["checkbox-control"],e),"data-ods":"checkbox-control",ref:o,...t,children:[i.jsx(j,{children:i.jsx(_,{className:P["checkbox-control__icon"],name:I.check})}),i.jsx(j,{indeterminate:!0,children:i.jsx(_,{className:P["checkbox-control__icon"],name:I.minus})})]}),i.jsx(X,{"aria-describedby":t["aria-describedby"]||(a==null?void 0:a.ariaDescribedBy),ref:d})]})});Ne.displayName="CheckboxControl";const Te={"checkbox-group":"_checkbox-group_v5ypt_2"},Ve=l.forwardRef(({children:e,className:t,defaultValue:o,disabled:a,invalid:d,name:c,onValueChange:n,readOnly:s,value:h,...p},k)=>i.jsx(L,{className:O(Te["checkbox-group"],t),"data-ods":"checkbox-group",defaultValue:o,disabled:a,invalid:d,name:c,onValueChange:n,readOnly:s,ref:k,value:h,...p,children:e}));Ve.displayName="CheckboxGroup";const Pe=l.forwardRef(({children:e,...t},o)=>i.jsx(K,{"data-ods":"checkbox-label",ref:o,...t,children:e}));Pe.displayName="CheckboxLabel";export{Ne as G,Ve as H,Ee as O,Pe as R};
