import{j as s}from"./jsx-runtime-BRNY0I4F.js";import{m as I}from"./index-2w0W-O47-BJ19ihbZ.js";import{r as c}from"./index-Bnop-kX6.js";import{X as N,L as y,t as x,v as A,x as z,g as H,at as B,au as D,i as K,T as w,av as X,aw as q,ax as M,ay as Q,R as W,O as J,w as Y,V as Z,as as ee,G as g,$ as ae,az as oe,A as te}from"./use-locale-context-cwTY9VYn-REDUMe7F.js";import{n as re,s as ne,a as ie}from"./render-strategy-BVcZ76SI-DDawKQXU.js";import{Q as de,W as se,K as le}from"./collapsible-content-zo5LZi6B-BM-FWdPL.js";import{t as ce}from"./Icon-DrfG5m-t-DQEf1CkA.js";import{l as ue}from"./ods-react60-0db41gCx.js";const[pe,R]=N({name:"AccordionContext",hookName:"useAccordionContext",providerName:"<AccordionProvider />"}),[me,He]=N({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItemProvider />"}),[ge,O]=N({name:"AccordionItemPropsContext",hookName:"useAccordionItemPropsContext",providerName:"<AccordionItemPropsProvider />"}),E=c.forwardRef((e,a)=>{const[o,t]=y()(e,["value","disabled"]),r=R(),i=re(),l=x(r.getItemProps(o),t),u=r.getItemState(o),T=r.getItemContentProps(o);return s.jsx(ge,{value:o,children:s.jsx(me,{value:u,children:s.jsx(de,{ref:a,open:u.expanded,ids:{content:T.id},...i,...l})})})});E.displayName="AccordionItem";const ve=y(),j=c.forwardRef((e,a)=>{const o=R(),t=O(),r=o.getItemContentProps(t),[,i]=ve(r,["hidden","data-state"]),l=x(i,e);return s.jsx(se,{ref:a,...l})});j.displayName="AccordionItemContent";const _=c.forwardRef((e,a)=>{const o=R(),t=O(),r=x(o.getItemIndicatorProps(t),e);return s.jsx(A.div,{...r,ref:a})});_.displayName="AccordionItemIndicator";const F=c.forwardRef((e,a)=>{const o=R(),t=O(),r=le(),i=o.getItemTriggerProps(t),l=x({...i,"aria-controls":r.isUnmounted?void 0:i["aria-controls"]},e);return s.jsx(A.button,{...l,ref:a})});F.displayName="AccordionItemTrigger";var fe=z("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),f=fe.build(),b=e=>{var a;return((a=e.ids)==null?void 0:a.root)??`accordion:${e.id}`},xe=(e,a)=>{var o,t;return((t=(o=e.ids)==null?void 0:o.item)==null?void 0:t.call(o,a))??`accordion:${e.id}:item:${a}`},P=(e,a)=>{var o,t;return((t=(o=e.ids)==null?void 0:o.itemContent)==null?void 0:t.call(o,a))??`accordion:${e.id}:content:${a}`},h=(e,a)=>{var o,t;return((t=(o=e.ids)==null?void 0:o.itemTrigger)==null?void 0:t.call(o,a))??`accordion:${e.id}:trigger:${a}`},Te=e=>e.getById(b(e)),C=e=>{const a=`[aria-controls][data-ownedby='${CSS.escape(b(e))}']:not([disabled])`;return ee(Te(e),a)},be=e=>X(C(e)),he=e=>q(C(e)),Ie=(e,a)=>M(C(e),h(e,a)),Re=(e,a)=>Q(C(e),h(e,a));function Ce(e,a){const{send:o,context:t,prop:r,scope:i,computed:l}=e,u=t.get("focusedValue"),T=t.get("value"),S=r("multiple");function $(d){let n=d;!S&&n.length>1&&(n=[n[0]]),o({type:"VALUE.SET",value:n})}function v(d){return{expanded:T.includes(d.value),focused:u===d.value,disabled:!!(d.disabled??r("disabled"))}}return{focusedValue:u,value:T,setValue:$,getItemState:v,getRootProps(){return a.element({...f.root.attrs,dir:r("dir"),id:b(i),"data-orientation":r("orientation")})},getItemProps(d){const n=v(d);return a.element({...f.item.attrs,dir:r("dir"),id:xe(i,d.value),"data-state":n.expanded?"open":"closed","data-focus":g(n.focused),"data-disabled":g(n.disabled),"data-orientation":r("orientation")})},getItemContentProps(d){const n=v(d);return a.element({...f.itemContent.attrs,dir:r("dir"),role:"region",id:P(i,d.value),"aria-labelledby":h(i,d.value),hidden:!n.expanded,"data-state":n.expanded?"open":"closed","data-disabled":g(n.disabled),"data-focus":g(n.focused),"data-orientation":r("orientation")})},getItemIndicatorProps(d){const n=v(d);return a.element({...f.itemIndicator.attrs,dir:r("dir"),"aria-hidden":!0,"data-state":n.expanded?"open":"closed","data-disabled":g(n.disabled),"data-focus":g(n.focused),"data-orientation":r("orientation")})},getItemTriggerProps(d){const{value:n}=d,p=v(d);return a.button({...f.itemTrigger.attrs,type:"button",dir:r("dir"),id:h(i,n),"aria-controls":P(i,n),"aria-expanded":p.expanded,disabled:p.disabled,"data-orientation":r("orientation"),"aria-disabled":p.disabled,"data-state":p.expanded?"open":"closed","data-ownedby":b(i),onFocus(){p.disabled||o({type:"TRIGGER.FOCUS",value:n})},onBlur(){p.disabled||o({type:"TRIGGER.BLUR"})},onClick(m){p.disabled||(ae()&&m.currentTarget.focus(),o({type:"TRIGGER.CLICK",value:n}))},onKeyDown(m){if(m.defaultPrevented||p.disabled)return;const k={ArrowDown(){l("isHorizontal")||o({type:"GOTO.NEXT",value:n})},ArrowUp(){l("isHorizontal")||o({type:"GOTO.PREV",value:n})},ArrowRight(){l("isHorizontal")&&o({type:"GOTO.NEXT",value:n})},ArrowLeft(){l("isHorizontal")&&o({type:"GOTO.PREV",value:n})},Home(){o({type:"GOTO.FIRST",value:n})},End(){o({type:"GOTO.LAST",value:n})}},U=oe(m,{dir:r("dir"),orientation:r("orientation")}),G=k[U];G&&(G(m),m.preventDefault())}})}}}var{and:Ve,not:Ne}=W(),ye=H({props({props:e}){return{collapsible:!1,multiple:!1,orientation:"vertical",defaultValue:[],...e}},initialState(){return"idle"},context({prop:e,bindable:a}){return{focusedValue:a(()=>({defaultValue:null,sync:!0,onChange(o){var t;(t=e("onFocusChange"))==null||t({value:o})}})),value:a(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(o){var t;(t=e("onValueChange"))==null||t({value:o})}}))}},computed:{isHorizontal:({prop:e})=>e("orientation")==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:["setFocusedValue"]}}},focused:{on:{"GOTO.NEXT":{actions:["focusNextTrigger"]},"GOTO.PREV":{actions:["focusPrevTrigger"]},"TRIGGER.CLICK":[{guard:Ve("isExpanded","canToggle"),actions:["collapse"]},{guard:Ne("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:["focusFirstTrigger"]},"GOTO.LAST":{actions:["focusLastTrigger"]},"TRIGGER.BLUR":{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{canToggle:({prop:e})=>!!e("collapsible")||!!e("multiple"),isExpanded:({context:e,event:a})=>e.get("value").includes(a.value)},actions:{collapse({context:e,prop:a,event:o}){const t=a("multiple")?B(e.get("value"),o.value):[];e.set("value",t)},expand({context:e,prop:a,event:o}){const t=a("multiple")?D(e.get("value"),o.value):[o.value];e.set("value",t)},focusFirstTrigger({scope:e}){var a;(a=be(e))==null||a.focus()},focusLastTrigger({scope:e}){var a;(a=he(e))==null||a.focus()},focusNextTrigger({context:e,scope:a}){const o=e.get("focusedValue");if(!o)return;const t=Ie(a,o);t==null||t.focus()},focusPrevTrigger({context:e,scope:a}){const o=e.get("focusedValue");if(!o)return;const t=Re(a,o);t==null||t.focus()},setFocusedValue({context:e,event:a}){e.set("focusedValue",a.value)},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:a}){e.set("value",a.value)},coarseValue({context:e,prop:a}){!a("multiple")&&e.get("value").length>1&&(K("The value of accordion should be a single value when multiple is false."),e.set("value",[e.get("value")[0]]))}}}});w()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value","defaultValue"]);w()(["value","disabled"]);const Ae=e=>{const a=c.useId(),{getRootNode:o}=J(),{dir:t}=Y(),r={id:a,dir:t,getRootNode:o,...e},i=Z(ye,r);return Ce(i,te)},L=c.forwardRef((e,a)=>{const[o,t]=ne(e),[r,i]=y()(t,["collapsible","defaultValue","disabled","id","ids","multiple","onFocusChange","onValueChange","orientation","value"]),l=Ae(r),u=x(l.getRootProps(),i);return s.jsx(pe,{value:l,children:s.jsx(ie,{value:o,children:s.jsx(A.div,{...u,ref:a})})})});L.displayName="AccordionRoot";const Oe=c.forwardRef(({className:e,defaultValue:a,disabled:o,multiple:t=!0,onChange:r,value:i,...l},u)=>s.jsx(L,{className:I(e),collapsible:!0,"data-ods":"accordion",defaultValue:a,disabled:o,ref:u,multiple:t,onValueChange:r,value:i,...l}));Oe.displayName="Accordion";const Ge={"accordion-content":"_accordion-content_1chb0_2"},Pe=c.forwardRef(({children:e,className:a,...o},t)=>s.jsx(j,{className:I(Ge["accordion-content"],a),"data-ods":"accordion-content",ref:t,...o,children:e}));Pe.displayName="AccordionContent";const we={"accordion-item":"_accordion-item_1a5kd_2"},Ee=c.forwardRef(({children:e,className:a,disabled:o,value:t,...r},i)=>s.jsx(E,{className:I(we["accordion-item"],a),"data-ods":"accordion-item",disabled:o,ref:i,value:t,...r,children:e}));Ee.displayName="AccordionItem";const V={"accordion-trigger":"_accordion-trigger_ckyhj_2","accordion-trigger__icon":"_accordion-trigger__icon_ckyhj_22"},je=c.forwardRef(({children:e,className:a,...o},t)=>s.jsxs(F,{className:I(V["accordion-trigger"],a),"data-ods":"accordion-trigger",ref:t,...o,children:[s.jsx("div",{className:V["accordion-trigger__content"],children:e}),s.jsx(_,{asChild:!0,children:s.jsx(ce,{className:V["accordion-trigger__icon"],name:ue.chevronDown})})]}));je.displayName="AccordionTrigger";export{Ee as F,Pe as G,Oe as O,je as w};
