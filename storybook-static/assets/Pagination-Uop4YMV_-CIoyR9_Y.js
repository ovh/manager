import{j as o}from"./jsx-runtime-BRNY0I4F.js";import{m as W}from"./index-2w0W-O47-BJ19ihbZ.js";import{r as d}from"./index-Bnop-kX6.js";import{x as L,t as j}from"./Button-BC-ipw2F-CXZv4wj7.js";import{t as O}from"./Icon-DrfG5m-t-DQEf1CkA.js";import{l as k}from"./ods-react60-0db41gCx.js";import{h as B,I as D,M as Y}from"./TooltipTrigger-Iu3rt7LP-CcHcHvx1.js";import{X as ee,L as w,t as C,v as E,x as ae,T as M,O as te,w as ie,V as ne,G as $,A as oe,g as ge,ac as F}from"./use-locale-context-cwTY9VYn-REDUMe7F.js";import{k as re,x as se,w as le}from"./SelectControl-C7d9WPuE-Bxj24dHo.js";var pe=(e=>(e[e.option_10=10]="option_10",e[e.option_25=25]="option_25",e[e.option_50=50]="option_50",e[e.option_100=100]="option_100",e[e.option_300=300]="option_300",e))(pe||{});const de=Object.freeze([{label:"10",value:"10"},{label:"25",value:"25"},{label:"50",value:"50"},{label:"100",value:"100"},{label:"300",value:"300"}]),[ue,v]=ee({name:"PaginationContext",hookName:"usePaginationContext",providerName:"<PaginationProvider />"}),ce=e=>e.children(v()),U=d.forwardRef((e,a)=>{const[t,i]=w()(e,["index"]),n=v(),g=C(n.getEllipsisProps(t),i);return o.jsx(E.div,{...g,ref:a})});U.displayName="PaginationEllipsis";const Z=d.forwardRef((e,a)=>{const[t,i]=w()(e,["value","type"]),n=v(),g=C(n.getItemProps(t),i);return o.jsx(E.button,{...g,ref:a})});Z.displayName="PaginationItem";const H=d.forwardRef((e,a)=>{const t=v(),i=C(t.getNextTriggerProps(),e);return o.jsx(E.button,{...i,ref:a})});H.displayName="PaginationNextTrigger";const J=d.forwardRef((e,a)=>{const t=v(),i=C(t.getPrevTriggerProps(),e);return o.jsx(E.button,{...i,ref:a})});J.displayName="PaginationPrevTrigger";var Pe=ae("pagination").parts("root","item","ellipsis","prevTrigger","nextTrigger"),z=Pe.build(),xe=e=>{var a;return((a=e.ids)==null?void 0:a.root)??`pagination:${e.id}`},me=e=>{var a;return((a=e.ids)==null?void 0:a.prevTrigger)??`pagination:${e.id}:prev`},ve=e=>{var a;return((a=e.ids)==null?void 0:a.nextTrigger)??`pagination:${e.id}:next`},he=(e,a)=>{var t,i;return((i=(t=e.ids)==null?void 0:t.ellipsis)==null?void 0:i.call(t,a))??`pagination:${e.id}:ellipsis:${a}`},be=(e,a)=>{var t,i;return((i=(t=e.ids)==null?void 0:t.item)==null?void 0:i.call(t,a))??`pagination:${e.id}:item:${a}`},R=(e,a)=>{let t=a-e+1;return Array.from({length:t},(i,n)=>n+e)},fe=e=>e.map(a=>typeof a=="number"?{type:"page",value:a}:{type:"ellipsis"}),G="ellipsis",Te=e=>{const{page:a,totalPages:t,siblingCount:i}=e,n=Math.min(2*i+5,t),g=1,r=t,l=Math.max(a-i,g),u=Math.min(a+i,r),p=l>g+1,c=u<r-1,h=n-2;if(!p&&c)return[...R(1,h),G,r];if(p&&!c){const P=R(r-h+1,r);return[g,G,...P]}if(p&&c){const P=R(l,u);return[g,G,...P,G,r]}return R(g,r)},_e=e=>fe(Te(e));function Se(e,a){const{send:t,scope:i,prop:n,computed:g,context:r}=e,l=g("totalPages"),u=r.get("page"),p=n("translations"),c=n("count"),h=g("previousPage"),P=g("nextPage"),f=g("pageRange"),T=n("type")==="button",_=u===1,y=u===l,A=_e({page:u,totalPages:l,siblingCount:n("siblingCount")});return{count:c,page:u,pageSize:r.get("pageSize"),totalPages:l,pages:A,previousPage:h,nextPage:P,pageRange:f,slice(s){return s.slice(f.start,f.end)},setPageSize(s){t({type:"SET_PAGE_SIZE",size:s})},setPage(s){t({type:"SET_PAGE",page:s})},goToNextPage(){t({type:"NEXT_PAGE"})},goToPrevPage(){t({type:"PREVIOUS_PAGE"})},goToFirstPage(){t({type:"FIRST_PAGE"})},goToLastPage(){t({type:"LAST_PAGE"})},getRootProps(){return a.element({id:xe(i),...z.root.attrs,dir:n("dir"),"aria-label":p.rootLabel})},getEllipsisProps(s){return a.element({id:he(i,s.index),...z.ellipsis.attrs,dir:n("dir")})},getItemProps(s){var x;const m=s.value,N=m===u;return a.element({id:be(i,m),...z.item.attrs,dir:n("dir"),"data-index":m,"data-selected":$(N),"aria-current":N?"page":void 0,"aria-label":(x=p.itemLabel)==null?void 0:x.call(p,{page:m,totalPages:l}),onClick(){t({type:"SET_PAGE",page:m})},...T&&{type:"button"}})},getPrevTriggerProps(){return a.element({id:me(i),...z.prevTrigger.attrs,dir:n("dir"),"data-disabled":$(_),"aria-label":p.prevTriggerLabel,onClick(){t({type:"PREVIOUS_PAGE"})},...T&&{disabled:_,type:"button"}})},getNextTriggerProps(){return a.element({id:ve(i),...z.nextTrigger.attrs,dir:n("dir"),"data-disabled":$(y),"aria-label":p.nextTriggerLabel,onClick(){t({type:"NEXT_PAGE"})},...T&&{disabled:y,type:"button"}})}}}var ze=ge({props({props:e}){return{defaultPageSize:10,siblingCount:1,defaultPage:1,type:"button",count:1,...e,translations:{rootLabel:"pagination",prevTriggerLabel:"previous page",nextTriggerLabel:"next page",itemLabel({page:a,totalPages:t}){return`${t>1&&a===t?"last page, ":""}page ${a}`},...e.translations}}},initialState(){return"idle"},context({prop:e,bindable:a,getContext:t}){return{page:a(()=>({value:e("page"),defaultValue:e("defaultPage"),onChange(i){var n;const g=t();(n=e("onPageChange"))==null||n({page:i,pageSize:g.get("pageSize")})}})),pageSize:a(()=>({value:e("pageSize"),defaultValue:e("defaultPageSize"),onChange(i){var n;(n=e("onPageSizeChange"))==null||n({pageSize:i})}}))}},watch({track:e,context:a,action:t}){e([()=>a.get("pageSize")],()=>{t(["setPageIfNeeded"])})},computed:{totalPages:F(({prop:e,context:a})=>[a.get("pageSize"),e("count")],([e,a])=>Math.ceil(a/e)),pageRange:F(({context:e,prop:a})=>[e.get("page"),e.get("pageSize"),a("count")],([e,a,t])=>{const i=(e-1)*a;return{start:i,end:Math.min(i+a,t)}}),previousPage:({context:e})=>e.get("page")===1?null:e.get("page")-1,nextPage:({context:e,computed:a})=>e.get("page")===a("totalPages")?null:e.get("page")+1,isValidPage:({context:e,computed:a})=>e.get("page")>=1&&e.get("page")<=a("totalPages")},on:{SET_PAGE:{guard:"isValidPage",actions:["setPage"]},SET_PAGE_SIZE:{actions:["setPageSize"]},FIRST_PAGE:{actions:["goToFirstPage"]},LAST_PAGE:{actions:["goToLastPage"]},PREVIOUS_PAGE:{guard:"canGoToPrevPage",actions:["goToPrevPage"]},NEXT_PAGE:{guard:"canGoToNextPage",actions:["goToNextPage"]}},states:{idle:{}},implementations:{guards:{isValidPage:({event:e,computed:a})=>e.page>=1&&e.page<=a("totalPages"),isValidCount:({context:e,event:a})=>e.get("page")>a.count,canGoToNextPage:({context:e,computed:a})=>e.get("page")<a("totalPages"),canGoToPrevPage:({context:e})=>e.get("page")>1},actions:{setPage({context:e,event:a,computed:t}){const i=V(a.page,t("totalPages"));e.set("page",i)},setPageSize({context:e,event:a}){e.set("pageSize",a.size)},goToFirstPage({context:e}){e.set("page",1)},goToLastPage({context:e,computed:a}){e.set("page",a("totalPages"))},goToPrevPage({context:e,computed:a}){e.set("page",t=>V(t-1,a("totalPages")))},goToNextPage({context:e,computed:a}){e.set("page",t=>V(t+1,a("totalPages")))},setPageIfNeeded({context:e,computed:a}){a("isValidPage")||e.set("page",1)}}}}),V=(e,a)=>Math.min(Math.max(e,1),a);M()(["count","dir","getRootNode","id","ids","onPageChange","onPageSizeChange","page","defaultPage","pageSize","defaultPageSize","siblingCount","translations","type"]);M()(["value","type"]);M()(["index"]);const je=e=>{const a=d.useId(),{getRootNode:t}=te(),{dir:i}=ie(),n={id:a,dir:i,getRootNode:t,...e},g=ne(ze,n);return Se(g,oe)},K=d.forwardRef((e,a)=>{const[t,i]=w()(e,["count","defaultPage","defaultPageSize","id","ids","onPageChange","onPageSizeChange","page","pageSize","siblingCount","translations","type"]),n=je(t),g=C(n.getRootProps(),i);return o.jsx(ue,{value:n,children:o.jsx(E.nav,{...g,ref:a})})});K.displayName="PaginationRoot";const X=({children:e,tooltip:a})=>a?o.jsxs(B,{children:[o.jsx(D,{asChild:!0,children:e}),o.jsx(Y,{children:a})]}):o.jsx(o.Fragment,{children:e}),Ce="_pagination__item_i63de_1",Ee={pagination__item:Ce},ye=({disabled:e,index:a,page:t})=>{const{page:i}=v();return o.jsx(Z,{type:"page",asChild:!0,className:Ee.pagination__item,...t,children:o.jsx(L,{disabled:e,variant:i===t.value?j.default:j.ghost,children:t.value})},a)},q={"pagination-page-size-selector":"_pagination-page-size-selector_1cj93_2","pagination-page-size-selector__label":"_pagination-page-size-selector__label_1cj93_7"},Ne=({onSelectChange:e,renderTotalItemsLabel:a})=>{const{count:t,pageSize:i}=v(),n=d.useId(),g=r=>{e&&r.value[0]&&e(r.value[0])};return o.jsxs("div",{className:q["pagination-page-size-selector"],children:[o.jsxs(re,{defaultValue:[i.toString()],items:de,onValueChange:g,children:[o.jsx(se,{"aria-labelledby":n}),o.jsx(le,{})]}),o.jsx("p",{className:q["pagination-page-size-selector__label"],id:n,children:a({totalItems:t})})]})},Ie="_pagination_6qm34_2",Re={pagination:Ie},Ge=({totalItems:e})=>`of ${e} results`,Le=d.forwardRef(({className:e,disabled:a,defaultPage:t,labelTooltipNext:i,labelTooltipPrev:n,onPageChange:g,onPageSizeChange:r,page:l,pageSize:u=10,siblingCount:p,totalItems:c,renderTotalItemsLabel:h=Ge,withPageSizeSelector:P,...f},T)=>{const[_,y]=d.useState(u),[A,s]=d.useState(t??1),x=l!==void 0,m=x&&l?l:A;d.useEffect(()=>{x||s(t??1)},[c,_,t,x]);const N=b=>{x||s(b.page),g==null||g(b)},Q=b=>{const S=Number(b);y(S),r==null||r({pageSize:S})};return o.jsxs(K,{className:W(Re.pagination,e),count:c,"data-ods":"pagination",defaultPage:t,onPageChange:N,page:m,pageSize:_,ref:T,siblingCount:p,...f,children:[P&&o.jsx(Ne,{onSelectChange:Q,renderTotalItemsLabel:h}),o.jsx(X,{tooltip:n,children:o.jsx(J,{asChild:!0,children:o.jsx(L,{disabled:a,variant:j.ghost,children:o.jsx(O,{name:k.chevronLeft})})})}),o.jsx(ce,{children:b=>b.pages.map((S,I)=>S.type==="page"?o.jsx(ye,{page:S,index:I,disabled:a},I):o.jsx(U,{asChild:!0,index:I,children:o.jsx(L,{disabled:!0,variant:j.ghost,children:"â€¦"})},I))}),o.jsx(X,{tooltip:i,children:o.jsx(H,{asChild:!0,children:o.jsx(L,{disabled:a,variant:j.ghost,children:o.jsx(O,{name:k.chevronRight})})})})]})});Le.displayName="Pagination";export{Le as O,pe as o};
