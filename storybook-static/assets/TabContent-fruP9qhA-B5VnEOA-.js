import{j as l}from"./jsx-runtime-BRNY0I4F.js";import{r as c}from"./index-Bnop-kX6.js";import{X as q,L as j,t as F,v as I,E as J,x as Q,aG as Z,D as m,r as ee,ar as te,aH as ae,T as L,ax as oe,ay as re,aI as se,aj as ne,e as ie,O as le,w as ce,V as ue,as as de,av as ve,aw as fe,G as _,W as pe,P as be,B as ge,az as _e,aJ as he,$ as xe,A as me}from"./use-locale-context-cwTY9VYn-REDUMe7F.js";import{n as Te,s as we,a as ye}from"./render-strategy-BVcZ76SI-DDawKQXU.js";import{m as V}from"./index-2w0W-O47-BJ19ihbZ.js";import{x as $,s as B,t as S}from"./Button-BC-ipw2F-CXZv4wj7.js";import{t as W}from"./Icon-DrfG5m-t-DQEf1CkA.js";import{l as k}from"./ods-react60-0db41gCx.js";import{L as Ve,k as Re}from"./use-presence-CVI6Oc63-Cg7Clpcl.js";function Ce(e,t){let o;return(...a)=>{clearTimeout(o),o=setTimeout(()=>e(...a),t)}}const[Ae,E]=q({name:"TabsContext",hookName:"useTabsContext",providerName:"<TabsProvider />"}),U=c.forwardRef((e,t)=>{const[o,a]=j()(e,["value"]),s=E(),r=Te(),i=Ve({...r,present:s.value===e.value,immediate:!0}),f=F(s.getContentProps(o),i.getPresenceProps(),a);return l.jsx(Re,{value:i,children:i.unmounted?null:l.jsx(I.div,{...f,ref:J(i.ref,t)})})});U.displayName="TabContent";const X=c.forwardRef((e,t)=>{const o=E(),a=F(o.getListProps(),e);return l.jsx(I.div,{...a,ref:t})});X.displayName="TabList";const M=c.forwardRef((e,t)=>{const[o,a]=j()(e,["disabled","value"]),s=E(),r=F(s.getTriggerProps(o),a);return l.jsx(I.button,{...r,ref:t})});M.displayName="TabTrigger";var Ne=Q("tabs").parts("root","list","trigger","content","indicator"),y=Ne.build(),Fe=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`tabs:${e.id}`},R=e=>{var t;return((t=e.ids)==null?void 0:t.list)??`tabs:${e.id}:list`},P=(e,t)=>{var o,a;return((a=(o=e.ids)==null?void 0:o.content)==null?void 0:a.call(o,t))??`tabs:${e.id}:content-${t}`},x=(e,t)=>{var o,a;return((a=(o=e.ids)==null?void 0:o.trigger)==null?void 0:a.call(o,t))??`tabs:${e.id}:trigger-${t}`},z=e=>{var t;return((t=e.ids)==null?void 0:t.indicator)??`tabs:${e.id}:indicator`},Ie=e=>e.getById(R(e)),Ee=(e,t)=>e.getById(P(e,t)),N=(e,t)=>e.getById(x(e,t)),D=e=>e.getById(z(e)),C=e=>{const t=`[role=tab][data-ownedby='${CSS.escape(R(e))}']:not([disabled])`;return de(Ie(e),t)},Pe=e=>ve(C(e)),je=e=>fe(C(e)),Le=(e,t)=>oe(C(e),x(e,t.value),t.loopFocus),Oe=(e,t)=>re(C(e),x(e,t.value),t.loopFocus),H=e=>({left:(e==null?void 0:e.offsetLeft)??0,top:(e==null?void 0:e.offsetTop)??0,width:(e==null?void 0:e.offsetWidth)??0,height:(e==null?void 0:e.offsetHeight)??0}),$e=(e,t)=>{const o=se(C(e),x(e,t));return K(H(o))},K=e=>({width:`${e.width}px`,height:`${e.height}px`,left:`${e.left}px`,top:`${e.top}px`});function Be(e,t){const{state:o,send:a,context:s,prop:r,scope:i}=e,f=r("translations"),g=o.matches("focused"),d=r("orientation")==="vertical",b=r("orientation")==="horizontal",A=r("composite");function T(n){return{selected:s.get("value")===n.value,focused:s.get("focusedValue")===n.value,disabled:!!n.disabled}}return{value:s.get("value"),focusedValue:s.get("focusedValue"),setValue(n){a({type:"SET_VALUE",value:n})},clearValue(){a({type:"CLEAR_VALUE"})},setIndicatorRect(n){const u=x(i,n);a({type:"SET_INDICATOR_RECT",id:u})},syncTabIndex(){a({type:"SYNC_TAB_INDEX"})},selectNext(n){a({type:"TAB_FOCUS",value:n,src:"selectNext"}),a({type:"ARROW_NEXT",src:"selectNext"})},selectPrev(n){a({type:"TAB_FOCUS",value:n,src:"selectPrev"}),a({type:"ARROW_PREV",src:"selectPrev"})},focus(){var n;const u=s.get("value");u&&((n=N(i,u))==null||n.focus())},getRootProps(){return t.element({...y.root.attrs,id:Fe(i),"data-orientation":r("orientation"),"data-focus":_(g),dir:r("dir")})},getListProps(){return t.element({...y.list.attrs,id:R(i),role:"tablist",dir:r("dir"),"data-focus":_(g),"aria-orientation":r("orientation"),"data-orientation":r("orientation"),"aria-label":f==null?void 0:f.listLabel,onKeyDown(n){if(n.defaultPrevented||pe(n)||!be(n.currentTarget,ge(n)))return;const u={ArrowDown(){b||a({type:"ARROW_NEXT",key:"ArrowDown"})},ArrowUp(){b||a({type:"ARROW_PREV",key:"ArrowUp"})},ArrowLeft(){d||a({type:"ARROW_PREV",key:"ArrowLeft"})},ArrowRight(){d||a({type:"ARROW_NEXT",key:"ArrowRight"})},Home(){a({type:"HOME"})},End(){a({type:"END"})}};let v=_e(n,{dir:r("dir"),orientation:r("orientation")});const p=u[v];if(p){n.preventDefault(),p(n);return}}})},getTriggerState:T,getTriggerProps(n){const{value:u,disabled:v}=n,p=T(n);return t.button({...y.trigger.attrs,role:"tab",type:"button",disabled:v,dir:r("dir"),"data-orientation":r("orientation"),"data-disabled":_(v),"aria-disabled":v,"data-value":u,"aria-selected":p.selected,"data-selected":_(p.selected),"data-focus":_(p.focused),"aria-controls":p.selected?P(i,u):void 0,"data-ownedby":R(i),"data-ssr":_(s.get("ssr")),id:x(i,u),tabIndex:p.selected&&A?0:-1,onFocus(){a({type:"TAB_FOCUS",value:u})},onBlur(w){const O=w.relatedTarget;(O==null?void 0:O.getAttribute("role"))!=="tab"&&a({type:"TAB_BLUR"})},onClick(w){w.defaultPrevented||he(w)||v||(xe()&&w.currentTarget.focus(),a({type:"TAB_CLICK",value:u}))}})},getContentProps(n){const{value:u}=n,v=s.get("value")===u;return t.element({...y.content.attrs,dir:r("dir"),id:P(i,u),tabIndex:A?0:-1,"aria-labelledby":x(i,u),role:"tabpanel","data-ownedby":R(i),"data-selected":_(v),"data-orientation":r("orientation"),hidden:!v})},getIndicatorProps(){const n=s.get("indicatorRect"),u=s.get("indicatorTransition");return t.element({id:z(i),...y.indicator.attrs,dir:r("dir"),"data-orientation":r("orientation"),style:{"--transition-property":"left, right, top, bottom, width, height","--left":n.left,"--top":n.top,"--width":n.width,"--height":n.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:u?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[b?"left":"top"]:b?"var(--left)":"var(--top)"}})}}}var{createMachine:Se}=ne(),We=Se({props({props:e}){return{dir:"ltr",orientation:"horizontal",activationMode:"automatic",loopFocus:!0,composite:!0,navigate(t){Z(t.node)},defaultValue:null,...e}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),onChange(o){var a;(a=e("onValueChange"))==null||a({value:o})}})),focusedValue:t(()=>({defaultValue:e("value")||e("defaultValue"),sync:!0,onChange(o){var a;(a=e("onFocusChange"))==null||a({focusedValue:o})}})),ssr:t(()=>({defaultValue:!0})),indicatorTransition:t(()=>({defaultValue:!1})),indicatorRect:t(()=>({defaultValue:{left:"0px",top:"0px",width:"0px",height:"0px"}}))}},watch({context:e,prop:t,track:o,action:a}){o([()=>e.get("value")],()=>{a(["allowIndicatorTransition","syncIndicatorRect","syncTabIndex","navigateIfNeeded"])}),o([()=>t("dir"),()=>t("orientation")],()=>{a(["syncIndicatorRect"])})},on:{SET_VALUE:{actions:["setValue"]},CLEAR_VALUE:{actions:["clearValue"]},SET_INDICATOR_RECT:{actions:["setIndicatorRect"]},SYNC_TAB_INDEX:{actions:["syncTabIndex"]}},entry:["syncIndicatorRect","syncTabIndex","syncSsr"],exit:["cleanupObserver"],states:{idle:{on:{TAB_FOCUS:{target:"focused",actions:["setFocusedValue"]},TAB_CLICK:{target:"focused",actions:["setFocusedValue","setValue"]}}},focused:{on:{TAB_CLICK:{actions:["setFocusedValue","setValue"]},ARROW_PREV:[{guard:"selectOnFocus",actions:["focusPrevTab","selectFocusedTab"]},{actions:["focusPrevTab"]}],ARROW_NEXT:[{guard:"selectOnFocus",actions:["focusNextTab","selectFocusedTab"]},{actions:["focusNextTab"]}],HOME:[{guard:"selectOnFocus",actions:["focusFirstTab","selectFocusedTab"]},{actions:["focusFirstTab"]}],END:[{guard:"selectOnFocus",actions:["focusLastTab","selectFocusedTab"]},{actions:["focusLastTab"]}],TAB_FOCUS:{actions:["setFocusedValue"]},TAB_BLUR:{target:"idle",actions:["clearFocusedValue"]}}}},implementations:{guards:{selectOnFocus:({prop:e})=>e("activationMode")==="automatic"},actions:{selectFocusedTab({context:e,prop:t}){m(()=>{const o=e.get("focusedValue");if(!o)return;const a=t("deselectable")&&e.get("value")===o?null:o;e.set("value",a)})},setFocusedValue({context:e,event:t,flush:o}){t.value!=null&&o(()=>{e.set("focusedValue",t.value)})},clearFocusedValue({context:e}){e.set("focusedValue",null)},setValue({context:e,event:t,prop:o}){const a=o("deselectable")&&e.get("value")===e.get("focusedValue");e.set("value",a?null:t.value)},clearValue({context:e}){e.set("value",null)},focusFirstTab({scope:e}){m(()=>{var t;(t=Pe(e))==null||t.focus()})},focusLastTab({scope:e}){m(()=>{var t;(t=je(e))==null||t.focus()})},focusNextTab({context:e,prop:t,scope:o,event:a}){const s=a.value??e.get("focusedValue");if(!s)return;const r=Le(o,{value:s,loopFocus:t("loopFocus")});m(()=>{t("composite")?r==null||r.focus():(r==null?void 0:r.dataset.value)!=null&&e.set("focusedValue",r.dataset.value)})},focusPrevTab({context:e,prop:t,scope:o,event:a}){const s=a.value??e.get("focusedValue");if(!s)return;const r=Oe(o,{value:s,loopFocus:t("loopFocus")});m(()=>{t("composite")?r==null||r.focus():(r==null?void 0:r.dataset.value)!=null&&e.set("focusedValue",r.dataset.value)})},syncTabIndex({context:e,scope:t}){m(()=>{const o=e.get("value");if(!o)return;const a=Ee(t,o);a&&(ie(a).length>0?a.removeAttribute("tabindex"):a.setAttribute("tabindex","0"))})},cleanupObserver({refs:e}){const t=e.get("indicatorCleanup");t&&t()},allowIndicatorTransition({context:e}){e.set("indicatorTransition",!0)},setIndicatorRect({context:e,event:t,scope:o}){const a=t.id??e.get("value");if(D(o)){if(!a){e.set("indicatorTransition",!1);return}N(o,a)&&(e.set("indicatorRect",$e(o,a)),ee(()=>{e.set("indicatorTransition",!1)}))}},syncSsr({context:e}){e.set("ssr",!1)},syncIndicatorRect({context:e,refs:t,scope:o}){const a=t.get("indicatorCleanup");a&&a();const s=e.get("value");if(!s){e.set("indicatorTransition",!1);return}const r=N(o,s),i=D(o);if(!r||!i)return;const f=te([r],{measure(g){return H(g)},onEntry({rects:g}){const[d]=g;e.set("indicatorRect",K(d))}});t.set("indicatorCleanup",f)},navigateIfNeeded({context:e,prop:t,scope:o}){var a;const s=e.get("value");if(!s)return;const r=N(o,s);ae(r)&&((a=t("navigate"))==null||a({value:s,node:r,href:r.href}))}}}});L()(["activationMode","composite","deselectable","dir","getRootNode","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value","defaultValue"]);L()(["disabled","value"]);L()(["value"]);const ke=e=>{const t=c.useId(),{getRootNode:o}=le(),{dir:a}=ce(),s={id:t,dir:a,getRootNode:o,...e},r=ue(We,s);return Be(r,me)},Y=c.forwardRef((e,t)=>{const[o,a]=we(e),[s,r]=j()(a,["activationMode","composite","defaultValue","deselectable","id","ids","loopFocus","navigate","onFocusChange","onValueChange","orientation","translations","value"]),i=ke(s),f=F(i.getRootProps(),r);return l.jsx(Ae,{value:i,children:l.jsx(ye,{value:o,children:l.jsx(I.div,{...f,ref:t})})})});Y.displayName="TabsRoot";const G=c.createContext({});function De({children:e,withArrows:t}){return l.jsx(G.Provider,{value:{withArrows:t},children:e})}function Ue(){return c.useContext(G)}const Xe=c.forwardRef(({children:e,className:t,defaultValue:o,onValueChange:a,value:s,withArrows:r,...i},f)=>(c.useEffect(()=>{!s&&!o&&console.warn("No value or defaultValue provided. Please provide `defaultValue` or a controlled `value`")},[s,o]),l.jsx(De,{withArrows:r,children:l.jsx(Y,{className:t,"data-ods":"tabs",defaultValue:o,onValueChange:a,ref:f,value:s,...i,children:e})})));Xe.displayName="Tabs";const h={"tab-list":"_tab-list_wv0v9_2","tab-list__left-arrow":"_tab-list__left-arrow_wv0v9_7","tab-list__right-arrow":"_tab-list__right-arrow_wv0v9_7","tab-list__left-arrow--active":"_tab-list__left-arrow--active_wv0v9_29","tab-list__right-arrow--active":"_tab-list__right-arrow--active_wv0v9_36","tab-list__container":"_tab-list__container_wv0v9_40","tab-list__container__tabs":"_tab-list__container__tabs_wv0v9_60"},at=c.forwardRef(({children:e,className:t,...o},a)=>{const{withArrows:s}=Ue(),[r,i]=c.useState(!1),[f,g]=c.useState(!1),d=c.useRef(null),b=c.useCallback(()=>{i(d.current?d.current.scrollLeft===0:!1),g(d.current?d.current.scrollLeft===d.current.scrollWidth-d.current.offsetWidth:!1)},[]),A=c.useMemo(()=>Ce(b,50),[b]);c.useEffect(()=>{if(b(),d.current){const v=new ResizeObserver(()=>{b()});return v.observe(d.current),()=>{v.disconnect()}}},[b]);function T(v){var p;(p=d.current)==null||p.scrollBy({behavior:"smooth",left:v})}function n(){d.current&&T(-d.current.offsetWidth)}function u(){d.current&&T(d.current.offsetWidth)}return l.jsxs(X,{className:V(h["tab-list"],t),"data-ods":"tab-list",ref:a,...o,children:[s&&l.jsx("div",{className:V(h["tab-list__left-arrow"],{[h["tab-list__left-arrow--active"]]:!r}),children:l.jsx($,{disabled:r,onClick:n,size:B.xs,tabIndex:-1,variant:S.ghost,children:l.jsx(W,{name:k.chevronLeft})})}),l.jsx("div",{className:h["tab-list__container"],onScroll:A,ref:d,tabIndex:-1,children:l.jsx("div",{className:h["tab-list__container__tabs"],children:e})}),s&&l.jsx("div",{className:V(h["tab-list__right-arrow"],{[h["tab-list__right-arrow--active"]]:!f}),children:l.jsx($,{disabled:f,onClick:u,size:B.xs,tabIndex:-1,variant:S.ghost,children:l.jsx(W,{name:k.chevronRight})})})]})}),Me="_tab_bhw12_2",ze={tab:Me},ot=c.forwardRef(({children:e,className:t,value:o,...a},s)=>{const{focusedValue:r}=E(),i=c.useRef(null);return c.useImperativeHandle(s,()=>i.current,[i]),c.useEffect(()=>{i.current&&r===o&&i.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[r,o]),l.jsx(M,{className:V(ze.tab,t),"data-ods":"tab",ref:i,value:o,...a,children:e})}),He={"tab-content":"_tab-content_1xgrg_2"},rt=c.forwardRef(({children:e,className:t,value:o,...a},s)=>l.jsx(U,{className:V(He["tab-content"],t),"data-ods":"tab-content",ref:s,value:o,...a,children:e}));export{Xe as G,at as _,rt as h,ot as m};
