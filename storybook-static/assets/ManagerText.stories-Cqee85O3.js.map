{"version":3,"file":"ManagerText.stories-Cqee85O3.js","sources":["../../src/components/ManagerText/translations/index.ts","../../src/components/ManagerText/ManagerText.tsx"],"sourcesContent":["import i18next from 'i18next';\n\nimport fr_FR from './Messages_fr_FR.json';\n\nfunction addTranslations() {\n  i18next.addResources('fr_FR', 'iam', fr_FR);\n}\n\nif (i18next.isInitialized) {\n  addTranslations();\n} else {\n  i18next.on('initialized', addTranslations);\n}\n","import React, { PropsWithChildren, RefAttributes, HTMLAttributes } from 'react';\nimport { JSX } from '@ovhcloud/ods-components';\nimport {\n  OsdsText,\n  OsdsTooltip,\n  OsdsTooltipContent,\n} from '@ovhcloud/ods-components/react';\nimport { StyleReactProps } from '@ovhcloud/ods-components/react/dist/types/react-component-lib/interfaces';\nimport { useTranslation } from 'react-i18next';\nimport './translations';\n\nimport { useAuthorizationIam } from '../../hooks/iam';\n\nexport type ManagerTextProps = PropsWithChildren<{\n  iamActions?: string[];\n  urn?: string;\n}>;\n\nexport const ManagerText = ({\n  children,\n  iamActions,\n  urn,\n  ...restProps\n}: ManagerTextProps &\n  Partial<\n    JSX.OsdsText &\n      Omit<HTMLAttributes<HTMLOsdsTextElement>, 'style'> &\n      StyleReactProps &\n      RefAttributes<HTMLOsdsTextElement>\n  >) => {\n  const { t } = useTranslation('iam');\n  const { isAuthorized } = useAuthorizationIam(iamActions, urn);\n  if (!isAuthorized) {\n    return (\n      <OsdsTooltip>\n        <OsdsText {...restProps}>{t('iam_hidden_text').toUpperCase()}</OsdsText>\n        <OsdsTooltipContent slot=\"tooltip-content\">\n          <div>{t('common_iam_actions_message')}</div>\n        </OsdsTooltipContent>\n      </OsdsTooltip>\n    );\n  }\n  return <OsdsText {...restProps}>{children}</OsdsText>;\n};\n"],"names":["addTranslations","i18next","fr_FR","ManagerText","children","iamActions","urn","restProps","t","useTranslation","isAuthorized","useAuthorizationIam","jsx","OsdsText","jsxs","OsdsTooltip","OsdsTooltipContent"],"mappings":"utBAIA,SAASA,GAAkB,CACjBC,EAAA,aAAa,QAAS,MAAOC,CAAK,CAC5C,CAEID,EAAQ,cACMD,IAERC,EAAA,GAAG,cAAeD,CAAe,ECOpC,MAAAG,EAAA,CAAA,CAAqB,SAAAC,EAC1B,WAAAC,EACA,IAAAC,EACA,GAAAC,CAEF,IAAA,CAOE,KAAA,CAAA,EAAAC,CAAA,EAAAC,EAAA,KAAA,EACA,CAAA,aAAAC,CAAA,EAAAC,EAAAN,EAAAC,CAAA,EACA,OAAAI,EAUAE,EAAAA,IAAAC,EAAA,CAAA,GAAAN,EAAA,SAAAH,CAAA,CAAA,EATEU,EAAA,KAAAC,EAAA,CAAA,SAAA,CAEIH,MAAAC,EAAA,CAAA,GAAAN,EAAA,SAAAC,EAAA,iBAAA,EAAA,YAAA,EAAA,EAA6DI,EAAAA,IAAAI,EAAA,CAAA,KAAA,kBAAA,SAAAJ,EAAAA,IAAA,MAAA,CAAA,SAAAJ,EAAA,4BAAA,CAAA,CAAA,CAAA,CAAA,CAG7D,CAAA,CAAA,CAKR;;;;;"}