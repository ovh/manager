import{r as v,e as C}from"./index-Bnop-kX6.js";import{u as h}from"./index-CwE47CCN.js";const x=v.createContext({shell:null,environment:null,tracking:null}),p=n=>n.replace(/\s/g,"_").replace(/:/g,"");var k;(function(n){n.onboarding="onboarding",n.listing="listing",n.dashboard="dashboard",n.popup="pop-up",n.bannerSuccess="banner-success",n.bannerError="banner-error",n.bannerInfo="banner-info",n.bannerWarning="banner-warning",n.funnel="funnel"})(k||(k={}));var f;(function(n){n.page="page",n.funnel="funnel",n.banner="banner",n.popup="pop-up",n.datagrid="datagrid",n.tile="tile"})(f||(f={}));var d;(function(n){n.button="button",n.link="link",n.select="select",n.externalLink="external-link",n.tile="tile",n.tutorial="tile-tutorial",n.tab="go-to-tab"})(d||(d={}));const b=({chapter1:n,chapter2:r,chapter3:e,level2:t,appName:l,pageTheme:o,pageType:a,pageName:i})=>({name:[n,r,e,l,a,i].filter(Boolean).map(p).join("::"),page:[l,a,i].filter(Boolean).join("::"),page_category:a,page_theme:o,type:"display",level2:t}),_=({pageName:n,pageType:r,chapter1:e,chapter2:t,chapter3:l,appName:o,pageTheme:a,level2:i,location:c,buttonType:s,actions:g=[],actionType:u="action"})=>({name:[e,t,l,c,s,...g].filter(Boolean).map(p).join("::"),page:b({chapter1:e,chapter2:t,chapter3:l,appName:o,pageName:n,pageType:r}),page_category:r,page_theme:a,type:u,level2:i}),j=()=>{const n=h(),{handle:r}=n[n.length-1];return r==null?void 0:r.tracking},w=()=>{var a,i,c;const n=j(),{shell:r,tracking:e,environment:t}=C.useContext(x),l=t==null?void 0:t.getRegion(),o=((c=(i=(a=e==null?void 0:e.level2Config)==null?void 0:a[l])==null?void 0:i.config)==null?void 0:c.level2)||(e==null?void 0:e.level2);return{trackCurrentPage:()=>{e&&n&&r.tracking.trackPage(b({...e,...n,level2:o}))},trackPage:s=>{r.tracking.trackPage(b({...e,...s,level2:o}))},trackClick:({location:s,buttonType:g,actions:u,actionType:m})=>{r.tracking.trackClick(_({...e,...n,location:s,buttonType:g,actionType:m,actions:u,level2:o}))}}};export{k as P,x as S,w as u};
