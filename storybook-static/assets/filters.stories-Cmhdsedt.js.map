{"version":3,"file":"filters.stories-Cmhdsedt.js","sources":["../../src/components/filters/useColumnFilters.tsx"],"sourcesContent":["import { Filter } from '@ovh-ux/manager-core-api';\nimport { useState } from 'react';\nimport { FilterWithLabel } from './interface';\nimport './translations';\n\nconst filterEquals = (a: Filter, b: Filter) =>\n  a.key === b.key && a.value === b.value && a.comparator === b.comparator;\n\nexport function useColumnFilters() {\n  const [filters, setFilters] = useState<FilterWithLabel[]>([]);\n\n  return {\n    filters,\n    addFilter: (filter: FilterWithLabel) => {\n      if (filter.value) {\n        setFilters((previousFilters) => {\n          /**\n           * ? To remove the duplication from the filters\n           */\n          if (previousFilters.some((f) => filterEquals(f, filter))) {\n            return previousFilters;\n          }\n          return [...previousFilters, filter];\n        });\n      }\n    },\n    removeFilter: (filter: Filter) => {\n      setFilters((previousFilters) =>\n        previousFilters.filter((f) => !filterEquals(f, filter)),\n      );\n    },\n  };\n}\n"],"names":["filterEquals","a","b","useColumnFilters","filters","setFilters","useState","filter","previousFilters","f"],"mappings":"ydAKA,MAAMA,EAAe,CAACC,EAAWC,IAC/BD,EAAE,MAAQC,EAAE,KAAOD,EAAE,QAAUC,EAAE,OAASD,EAAE,aAAeC,EAAE,WAExD,SAASC,GAAmB,CACjC,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAA,SAA4B,CAAE,CAAA,EAErD,MAAA,CACL,QAAAF,EACA,UAAYG,GAA4B,CAClCA,EAAO,OACTF,EAAYG,GAINA,EAAgB,KAAMC,GAAMT,EAAaS,EAAGF,CAAM,CAAC,EAC9CC,EAEF,CAAC,GAAGA,EAAiBD,CAAM,CACnC,CAEL,EACA,aAAeA,GAAmB,CAChCF,EAAYG,GACVA,EAAgB,OAAQC,GAAM,CAACT,EAAaS,EAAGF,CAAM,CAAC,CAAA,CAE1D,CAAA,CAEJ;;"}