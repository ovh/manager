{"version":3,"file":"price.component-DWJdk9-Z.js","sources":["../../src/enumTypes/locale.tsx","../../src/enumTypes/intervalUnit.tsx","../../src/components/content/price/price.utils.ts","../../src/components/content/price/translations/translations.ts","../../src/components/content/price/price.component.tsx"],"sourcesContent":["export enum OvhSubsidiary {\n  ASIA = 'ASIA',\n  AU = 'AU',\n  CA = 'CA',\n  CZ = 'CZ',\n  DE = 'DE',\n  ES = 'ES',\n  FI = 'FI',\n  FR = 'FR',\n  GB = 'GB',\n  IE = 'IE',\n  IN = 'IN',\n  IT = 'IT',\n  LT = 'LT',\n  MA = 'MA',\n  NL = 'NL',\n  PL = 'PL',\n  PT = 'PT',\n  QC = 'QC',\n  SG = 'SG',\n  SN = 'SN',\n  TN = 'TN',\n  US = 'US',\n  WE = 'WE',\n  WS = 'WS',\n  EU = 'EU',\n  DEFAULT = 'DEFAULT',\n}\n\nexport enum CurrencyCode {\n  AUD = 'AUD',\n  CAD = 'CAD',\n  CZK = 'CZK',\n  EUR = 'EUR',\n  GBP = 'GBP',\n  INR = 'INR',\n  MAD = 'MAD',\n  PLN = 'PLN',\n  SGD = 'SGD',\n  USD = 'USD',\n  TND = 'TND',\n  XOF = 'XOF',\n  LTL = 'LTL',\n  NA = 'N/A',\n  points = 'points',\n}\n\nexport const OVH_CURRENCY_BY_SUBSIDIARY: Record<OvhSubsidiary, CurrencyCode> = {\n  ASIA: CurrencyCode.USD,\n  AU: CurrencyCode.AUD,\n  CA: CurrencyCode.CAD,\n  CZ: CurrencyCode.EUR,\n  DE: CurrencyCode.EUR,\n  ES: CurrencyCode.EUR,\n  FI: CurrencyCode.EUR,\n  FR: CurrencyCode.EUR,\n  GB: CurrencyCode.GBP,\n  IE: CurrencyCode.EUR,\n  IN: CurrencyCode.INR,\n  IT: CurrencyCode.EUR,\n  LT: CurrencyCode.EUR,\n  MA: CurrencyCode.MAD,\n  NL: CurrencyCode.EUR,\n  PL: CurrencyCode.PLN,\n  PT: CurrencyCode.EUR,\n  QC: CurrencyCode.CAD,\n  SG: CurrencyCode.SGD,\n  SN: CurrencyCode.XOF,\n  TN: CurrencyCode.TND,\n  EU: CurrencyCode.EUR,\n  US: CurrencyCode.USD,\n  WE: CurrencyCode.USD,\n  WS: CurrencyCode.USD,\n  DEFAULT: CurrencyCode.USD,\n};\n","export enum IntervalUnitType {\n  day = 'day',\n  month = 'month',\n  year = 'year',\n  none = 'none',\n}\n","import {\n  OvhSubsidiary,\n  IntervalUnitType,\n  OVH_CURRENCY_BY_SUBSIDIARY,\n} from '../../../enumTypes';\n\nexport interface PriceProps {\n  value: number;\n  tax?: number;\n  intervalUnit?: IntervalUnitType;\n  ovhSubsidiary: OvhSubsidiary;\n  isConvertIntervalUnit?: boolean;\n  locale: string;\n}\n\nexport const getPrice = (value: number, tax?: number): number => {\n  const valueWithTax = tax ? value + tax : value;\n  return valueWithTax / 100000000;\n};\n\nexport const convertIntervalPrice = (\n  price: number,\n  intervalUnit: IntervalUnitType,\n): number => {\n  const conversionRates = {\n    [IntervalUnitType.day]: price / 365,\n    [IntervalUnitType.month]: price / 12,\n    [IntervalUnitType.year]: price,\n    [IntervalUnitType.none]: price,\n  };\n\n  return conversionRates[intervalUnit] || price;\n};\n\nexport const getPriceTextFormatted = (\n  ovhSubsidiary: OvhSubsidiary,\n  locale: string,\n  priceValue: number,\n): string => {\n  try {\n    return new Intl.NumberFormat(locale.replace('_', '-'), {\n      style: 'currency',\n      currency: OVH_CURRENCY_BY_SUBSIDIARY[ovhSubsidiary],\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2,\n    }).format(priceValue);\n  } catch (e) {\n    return new Intl.NumberFormat('fr-FR', {\n      style: 'currency',\n      currency: OVH_CURRENCY_BY_SUBSIDIARY[ovhSubsidiary],\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2,\n    }).format(priceValue);\n  }\n};\n","import i18next from 'i18next';\n\nimport de_DE from './Messages_de_DE.json';\nimport en_GB from './Messages_en_GB.json';\nimport es_ES from './Messages_es_ES.json';\nimport fr_CA from './Messages_fr_CA.json';\nimport fr_FR from './Messages_fr_FR.json';\nimport it_IT from './Messages_it_IT.json';\nimport pl_PL from './Messages_pl_PL.json';\nimport pt_PT from './Messages_pt_PT.json';\n\nfunction addTranslations() {\n  i18next.addResources('de_DE', 'price', de_DE);\n  i18next.addResources('en_GB', 'price', en_GB);\n  i18next.addResources('es_ES', 'price', es_ES);\n  i18next.addResources('fr_CA', 'price', fr_CA);\n  i18next.addResources('fr_FR', 'price', fr_FR);\n  i18next.addResources('it_IT', 'price', it_IT);\n  i18next.addResources('pl_PL', 'price', pl_PL);\n  i18next.addResources('pt_PT', 'price', pt_PT);\n}\n\nif (i18next.isInitialized) {\n  addTranslations();\n} else {\n  i18next.on('initialized', addTranslations);\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { OdsText } from '@ovhcloud/ods-components/react';\n\nimport { IntervalUnitType } from '../../../enumTypes';\nimport {\n  getPrice,\n  convertIntervalPrice,\n  getPriceTextFormatted,\n  PriceProps,\n} from './price.utils';\nimport './translations/translations';\n\nconst TextPriceContent: React.FC<{ children: React.ReactNode }> = ({\n  children,\n}) => <span className=\"ml-1\">{children}</span>;\n\nexport function Price({\n  value,\n  intervalUnit,\n  tax,\n  ovhSubsidiary,\n  locale,\n  isConvertIntervalUnit,\n}: Readonly<PriceProps>) {\n  const { t } = useTranslation('price');\n  const isAsiaFormat = ['ASIA', 'AU', 'IN', 'SG'].includes(ovhSubsidiary);\n  const isGermanFormat = ['DE', 'FI', 'SN'].includes(ovhSubsidiary);\n  const isFrenchFormat = [\n    'CZ',\n    'ES',\n    'FR',\n    'GB',\n    'IE',\n    'IT',\n    'LT',\n    'MA',\n    'NL',\n    'PL',\n    'PT',\n    'TN',\n  ].includes(ovhSubsidiary);\n  const isUSFormat = ['CA', 'QC', 'US', 'WE', 'WS'].includes(ovhSubsidiary);\n\n  const convertedValue = isConvertIntervalUnit\n    ? convertIntervalPrice(value, intervalUnit)\n    : value;\n  const convertedTax = isConvertIntervalUnit\n    ? convertIntervalPrice(tax || 0, intervalUnit)\n    : tax || 0;\n\n  const priceWithoutTax = getPriceTextFormatted(\n    ovhSubsidiary,\n    locale,\n    getPrice(convertedValue),\n  );\n  const priceWithTax = getPriceTextFormatted(\n    ovhSubsidiary,\n    locale,\n    getPrice(convertedValue, convertedTax),\n  );\n  const intervalUnitText =\n    intervalUnit && intervalUnit !== IntervalUnitType.none\n      ? t(`price_per_${intervalUnit}`)\n      : '';\n  const components = [\n    {\n      condition: value === 0,\n      component: <span>{t('price_free')}</span>,\n    },\n    {\n      condition: isFrenchFormat && tax > 0,\n      component: (\n        <>\n          <span className=\"mr-1 text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {priceWithoutTax}\n          </span>\n          <span className=\"text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {t('price_ht_label')}\n          </span>\n          <span className=\"ml-1 text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {intervalUnitText}\n          </span>\n          <TextPriceContent>\n            <span className=\"text-[--ods-color-neutral-500] text-[14px] leading-[18px] font-semibold\">\n              ({priceWithTax}\n            </span>\n            <span className=\"ml-1 text-[--ods-color-neutral-500] text-[14px] leading-[18px] font-semibold\">\n              {t('price_ttc_label')})\n            </span>\n          </TextPriceContent>\n        </>\n      ),\n    },\n    {\n      condition: isFrenchFormat && !tax,\n      component: (\n        <>\n          <span className=\"mr-1 text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {priceWithoutTax}\n          </span>\n          <span className=\"text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {t('price_ht_label')}\n          </span>\n          <span className=\"ml-1 text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {intervalUnitText}\n          </span>\n        </>\n      ),\n    },\n    {\n      condition: isGermanFormat && tax > 0,\n      component: (\n        <>\n          <span className=\"mr-1 text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {priceWithTax}\n          </span>\n          <span className=\"ml-1 text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {intervalUnitText}\n          </span>\n        </>\n      ),\n    },\n    {\n      condition: isAsiaFormat && (!tax || tax === 0),\n      component: (\n        <>\n          <span className=\"mr-1 text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {priceWithoutTax}\n          </span>\n          <span className=\"text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {t('price_gst_excl_label')}\n          </span>\n          <span className=\"ml-1 text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {intervalUnitText}\n          </span>\n        </>\n      ),\n    },\n    {\n      condition: isAsiaFormat,\n      component: (\n        <>\n          <span className=\"mr-1 text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {priceWithoutTax}\n          </span>\n          <span className=\"text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {t('price_gst_excl_label')}\n          </span>\n          <span className=\"ml-1 text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {intervalUnitText}\n          </span>\n          <TextPriceContent>\n            <span className=\"text-[--ods-color-neutral-500] text-[14px] leading-[18px] font-semibold\">\n              ({priceWithTax}\n            </span>\n            <span className=\"ml-1 text-[--ods-color-neutral-500] text-[14px] leading-[18px] font-semibold\">\n              {t('price_gst_incl_label')})\n            </span>\n          </TextPriceContent>\n        </>\n      ),\n    },\n    {\n      condition: isUSFormat,\n      component: (\n        <>\n          <span className=\"mr-1 text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {priceWithoutTax}\n          </span>\n          <span className=\"ml-1 text-[--ods-color-text] text-[16px] leading-[20px] font-semibold\">\n            {intervalUnitText}\n          </span>\n        </>\n      ),\n    },\n  ];\n\n  const matchingComponent = components.find(({ condition }) => condition);\n  if (!matchingComponent) {\n    return <></>;\n  }\n\n  return <OdsText>{matchingComponent.component}</OdsText>;\n}\n\nexport default Price;\n"],"names":["OvhSubsidiary","CurrencyCode","OVH_CURRENCY_BY_SUBSIDIARY","IntervalUnitType","getPrice","value","tax","convertIntervalPrice","price","intervalUnit","getPriceTextFormatted","ovhSubsidiary","locale","priceValue","addTranslations","i18next","de_DE","en_GB","es_ES","fr_CA","fr_FR","it_IT","pl_PL","pt_PT","TextPriceContent","children","jsx","Price","isConvertIntervalUnit","t","useTranslation","isAsiaFormat","isGermanFormat","isFrenchFormat","isUSFormat","convertedValue","convertedTax","priceWithoutTax","priceWithTax","intervalUnitText","matchingComponent","jsxs","Fragment","condition","OdsText"],"mappings":"iLAAY,IAAAA,GAAAA,IACVA,EAAA,KAAO,OACPA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,GAAK,KACLA,EAAA,QAAU,UA1BAA,IAAAA,GAAA,CAAA,CAAA,EA6BAC,GAAAA,IACVA,EAAA,IAAM,MACNA,EAAA,IAAM,MACNA,EAAA,IAAM,MACNA,EAAA,IAAM,MACNA,EAAA,IAAM,MACNA,EAAA,IAAM,MACNA,EAAA,IAAM,MACNA,EAAA,IAAM,MACNA,EAAA,IAAM,MACNA,EAAA,IAAM,MACNA,EAAA,IAAM,MACNA,EAAA,IAAM,MACNA,EAAA,IAAM,MACNA,EAAA,GAAK,MACLA,EAAA,OAAS,SAfCA,IAAAA,GAAA,CAAA,CAAA,EAkBL,MAAMC,EAAkE,CAC7E,KAAM,MACN,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,GAAI,MACJ,QAAS,KACX,EC1EY,IAAAC,GAAAA,IACVA,EAAA,IAAM,MACNA,EAAA,MAAQ,QACRA,EAAA,KAAO,OACPA,EAAA,KAAO,OAJGA,IAAAA,GAAA,CAAA,CAAA,ECeC,MAAAC,EAAW,CAACC,EAAeC,KACjBA,EAAMD,EAAQC,EAAMD,GACnB,IAGXE,EAAuB,CAClCC,EACAC,KAEwB,CACtB,CAACN,EAAiB,GAAG,EAAGK,EAAQ,IAChC,CAACL,EAAiB,KAAK,EAAGK,EAAQ,GAClC,CAACL,EAAiB,IAAI,EAAGK,EACzB,CAACL,EAAiB,IAAI,EAAGK,CAAA,GAGJC,CAAY,GAAKD,EAG7BE,EAAwB,CACnCC,EACAC,EACAC,IACW,CACP,GAAA,CACF,OAAO,IAAI,KAAK,aAAaD,EAAO,QAAQ,IAAK,GAAG,EAAG,CACrD,MAAO,WACP,SAAUV,EAA2BS,CAAa,EAClD,sBAAuB,EACvB,sBAAuB,CAAA,CACxB,EAAE,OAAOE,CAAU,OACV,CACH,OAAA,IAAI,KAAK,aAAa,QAAS,CACpC,MAAO,WACP,SAAUX,EAA2BS,CAAa,EAClD,sBAAuB,EACvB,sBAAuB,CAAA,CACxB,EAAE,OAAOE,CAAU,CACtB,CACF,y9DC3CA,SAASC,GAAkB,CACjBC,EAAA,aAAa,QAAS,QAASC,CAAK,EACpCD,EAAA,aAAa,QAAS,QAASE,CAAK,EACpCF,EAAA,aAAa,QAAS,QAASG,EAAK,EACpCH,EAAA,aAAa,QAAS,QAASI,EAAK,EACpCJ,EAAA,aAAa,QAAS,QAASK,EAAK,EACpCL,EAAA,aAAa,QAAS,QAASM,EAAK,EACpCN,EAAA,aAAa,QAAS,QAASO,EAAK,EACpCP,EAAA,aAAa,QAAS,QAASQ,EAAK,CAC9C,CAEIR,EAAQ,cACMD,IAERC,EAAA,GAAG,cAAeD,CAAe,ECZ3C,MAAAU,EAAA,CAAA,CAAmE,SAAAC,CAEnE,IAAAC,EAAAA,IAAA,OAAA,CAAA,UAAA,OAAA,SAAAD,CAAA,CAAA,EAEO,SAAAE,EAAA,CAAe,MAAAtB,EACpB,aAAAI,EACA,IAAAH,EACA,cAAAK,EACA,OAAAC,EACA,sBAAAgB,CAEF,EAAA,CACE,KAAA,CAAA,EAAAC,CAAA,EAAAC,EAAA,OAAA,EACAC,EAAA,CAAA,OAAA,KAAA,KAAA,IAAA,EAAA,SAAApB,CAAA,EACAqB,EAAA,CAAA,KAAA,KAAA,IAAA,EAAA,SAAArB,CAAA,EACAsB,EAAA,CAAuB,KACrB,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,IACA,EAAA,SAAAtB,CAAA,EAEFuB,EAAA,CAAA,KAAA,KAAA,KAAA,KAAA,IAAA,EAAA,SAAAvB,CAAA,EAEAwB,EAAAP,EAAArB,EAAAF,EAAAI,CAAA,EAAAJ,EAGA+B,EAAAR,EAAArB,EAAAD,GAAA,EAAAG,CAAA,EAAAH,GAAA,EAIA+B,EAAA3B,EAAwBC,EACtBC,EACAR,EAAA+B,CAAA,CACuB,EAEzBG,EAAA5B,EAAqBC,EACnBC,EACAR,EAAA+B,EAAAC,CAAA,CACqC,EAEvCG,EAAA9B,GAAAA,IAAAN,EAAA,KAAA0B,EAAA,aAAApB,CAAA,EAAA,EAAA,GAqHA+B,EAjHA,CAAmB,CACjB,UAAAnC,IAAA,EACuB,UAAAqB,EAAA,IAAA,OAAA,CAAA,SAAAG,EAAA,YAAA,EAAA,CACa,EACpC,CACA,UAAAI,GAAA3B,EAAA,EACqC,UAAAmC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAG/BhB,EAAA,IAAA,OAAA,CAAA,UAAA,wEAAA,SAAAW,EAAA,EAEAX,MAAA,OAAA,CAAA,UAAA,mEAAA,SAAAG,EAAA,gBAAA,EAAA,EAGAH,EAAA,IAAA,OAAA,CAAA,UAAA,wEAAA,SAAAa,EAAA,EAGAE,OAAAjB,EAAA,CAAA,SAAA,CAEEiB,EAAAA,KAAA,OAAA,CAAA,UAAA,0EAAA,SAAA,CAA0F,IAAAH,CACtF,EAAA,EACJG,EAAAA,KAAA,OAAA,CAAA,UAAA,+EAAA,SAAA,CAEGZ,EAAA,iBAAA,EAAmB,GAAE,EAAA,CACxB,EAAA,CACF,EAAA,CACF,EAEJ,CACA,UAAAI,GAAA,CAAA3B,EACgC,UAAAmC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAG1BhB,EAAA,IAAA,OAAA,CAAA,UAAA,wEAAA,SAAAW,EAAA,EAEAX,MAAA,OAAA,CAAA,UAAA,mEAAA,SAAAG,EAAA,gBAAA,EAAA,EAGAH,EAAA,IAAA,OAAA,CAAA,UAAA,wEAAA,SAAAa,EAAA,CAGA,EAAA,CACF,EAEJ,CACA,UAAAP,GAAA1B,EAAA,EACqC,UAAAmC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAG/BhB,EAAA,IAAA,OAAA,CAAA,UAAA,wEAAA,SAAAY,EAAA,EAEAZ,EAAA,IAAA,OAAA,CAAA,UAAA,wEAAA,SAAAa,EAAA,CAGA,EAAA,CACF,EAEJ,CACA,UAAAR,IAAA,CAAAzB,GAAAA,IAAA,GAC8C,UAAAmC,EAAA,KAAAC,WAAA,CAAA,SAAA,CAGxChB,EAAA,IAAA,OAAA,CAAA,UAAA,wEAAA,SAAAW,EAAA,EAEAX,MAAA,OAAA,CAAA,UAAA,mEAAA,SAAAG,EAAA,sBAAA,EAAA,EAGAH,EAAA,IAAA,OAAA,CAAA,UAAA,wEAAA,SAAAa,EAAA,CAGA,EAAA,CACF,EAEJ,CACA,UAAAR,EACa,UAAAU,EAAA,KAAAC,WAAA,CAAA,SAAA,CAGPhB,EAAA,IAAA,OAAA,CAAA,UAAA,wEAAA,SAAAW,EAAA,EAEAX,MAAA,OAAA,CAAA,UAAA,mEAAA,SAAAG,EAAA,sBAAA,EAAA,EAGAH,EAAA,IAAA,OAAA,CAAA,UAAA,wEAAA,SAAAa,EAAA,EAGAE,OAAAjB,EAAA,CAAA,SAAA,CAEEiB,EAAAA,KAAA,OAAA,CAAA,UAAA,0EAAA,SAAA,CAA0F,IAAAH,CACtF,EAAA,EACJG,EAAAA,KAAA,OAAA,CAAA,UAAA,+EAAA,SAAA,CAEGZ,EAAA,sBAAA,EAAwB,GAAE,EAAA,CAC7B,EAAA,CACF,EAAA,CACF,EAEJ,CACA,UAAAK,EACa,UAAAO,EAAA,KAAAC,WAAA,CAAA,SAAA,CAGPhB,EAAA,IAAA,OAAA,CAAA,UAAA,wEAAA,SAAAW,EAAA,EAEAX,EAAA,IAAA,OAAA,CAAA,UAAA,wEAAA,SAAAa,EAAA,CAGA,EAAA,CACF,CAEJ,EAGF,KAAA,CAAA,CAAA,UAAAI,CAAA,IAAAA,CAAA,EACA,OAAAH,EAIAd,EAAAA,IAAAkB,EAAA,CAAA,SAAAJ,EAAA,SAAA,CAAA,EAHEd,EAAA,IAAAgB,WAAA,CAAA,CAAA,CAIJ"}