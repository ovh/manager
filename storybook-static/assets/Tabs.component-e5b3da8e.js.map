{"version":3,"file":"Tabs.component-e5b3da8e.js","sources":["../../../../node_modules/react-use/esm/misc/util.js","../../../../node_modules/react-use/esm/useMedia.js","../../src/utils/index.ts","../../src/components/container/tabs/Tabs.component.tsx"],"sourcesContent":["export var noop = function () { };\nexport function on(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.addEventListener) {\n        obj.addEventListener.apply(obj, args);\n    }\n}\nexport function off(obj) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    if (obj && obj.removeEventListener) {\n        obj.removeEventListener.apply(obj, args);\n    }\n}\nexport var isBrowser = typeof window !== 'undefined';\nexport var isNavigator = typeof navigator !== 'undefined';\n","import { useEffect, useState } from 'react';\nimport { isBrowser } from './misc/util';\nvar getInitialState = function (query, defaultState) {\n    // Prevent a React hydration mismatch when a default value is provided by not defaulting to window.matchMedia(query).matches.\n    if (defaultState !== undefined) {\n        return defaultState;\n    }\n    if (isBrowser) {\n        return window.matchMedia(query).matches;\n    }\n    // A default value has not been provided, and you are rendering on the server, warn of a possible hydration mismatch when defaulting to false.\n    if (process.env.NODE_ENV !== 'production') {\n        console.warn('`useMedia` When server side rendering, defaultState should be defined to prevent a hydration mismatches.');\n    }\n    return false;\n};\nvar useMedia = function (query, defaultState) {\n    var _a = useState(getInitialState(query, defaultState)), state = _a[0], setState = _a[1];\n    useEffect(function () {\n        var mounted = true;\n        var mql = window.matchMedia(query);\n        var onChange = function () {\n            if (!mounted) {\n                return;\n            }\n            setState(!!mql.matches);\n        };\n        mql.addEventListener('change', onChange);\n        setState(mql.matches);\n        return function () {\n            mounted = false;\n            mql.removeEventListener('change', onChange);\n        };\n    }, [query]);\n    return state;\n};\nexport default useMedia;\n","export const uniqBy = function uniqBy<I, U>(arr: I[], cb: (item: I) => U) {\n  return [\n    ...arr\n      .reduce((map: Map<U, I>, item?: I) => {\n        if (!map.has(cb(item))) map.set(cb(item), item);\n\n        return map;\n      }, new Map())\n      .values(),\n  ];\n};\n\n// eslint-disable-next-line\nexport const hashCode = (param: any) => {\n  let h = 0;\n  const s = ((p): string => {\n    switch (typeof p) {\n      case 'number':\n        return `${p}`;\n      case 'bigint':\n        return `${p}`;\n      case 'string':\n        return `${p}`;\n      case 'boolean':\n        return `${p}`;\n      case 'object':\n        return JSON.stringify(p);\n      case 'function':\n        return 'function';\n      case 'undefined':\n        return 'undefined';\n      default:\n        return 'symbol';\n    }\n  })(param);\n  const l = s?.length || 0;\n  let i = 0;\n  // eslint-disable-next-line\n  if (l > 0) while (i < l) h = ((h << 5) - h + s.charCodeAt(i++)) | 0;\n  return h;\n};\n","import React, { useEffect, useState } from 'react';\nimport { useMedia } from 'react-use';\nimport { clsx } from 'clsx';\nimport { v4 as uuidV4 } from 'uuid';\nimport { OsdsIcon } from '@ovhcloud/ods-components/react';\nimport { ODS_ICON_NAME, ODS_ICON_SIZE } from '@ovhcloud/ods-components';\nimport { ODS_THEME_COLOR_INTENT } from '@ovhcloud/ods-common-theming';\nimport { hashCode } from '../../../utils';\n\ntype TProps<Item> = {\n  id?: string;\n  items?: Item[];\n  itemKey?: (item: Item) => string;\n  titleElement?: (item: Item, isSelected?: boolean) => JSX.Element | string;\n  contentElement?: (item: Item) => JSX.Element;\n  mobileBreakPoint?: number;\n  className?: string;\n  onChange?: (item: Item) => void;\n};\n\ntype TState<Item> = {\n  items: Item[];\n  selectedItem?: Item;\n};\n\nexport function TabsComponent<Item>({\n  id = uuidV4(),\n  items = [],\n  itemKey,\n  titleElement = (item) => <div>{`title ${item}`}</div>,\n  contentElement = (item) => <div>{`content ${item}`}</div>,\n  mobileBreakPoint,\n  className,\n  onChange,\n}: TProps<Item>): JSX.Element {\n  const [state, setState] = useState<TState<Item>>({\n    items,\n    selectedItem: items?.[0],\n  });\n\n  const setSelectedItem = (item: Item): void => {\n    setState((prev) => ({\n      ...prev,\n      selectedItem: item,\n    }));\n  };\n\n  const uniqKey = (item: Item): string =>\n    itemKey ? itemKey(item) : `${hashCode(item)}`;\n\n  useEffect(() => {\n    if (\n      Array.isArray(items) &&\n      items.length &&\n      (items.length !== state.items.length ||\n        items.some((item, index) => !Object.is(item, state.items[index])))\n    ) {\n      setState(() => ({\n        items,\n        selectedItem: items[0],\n      }));\n    }\n  }, [items]);\n\n  useEffect(() => {\n    if (typeof onChange === 'function') {\n      onChange(state.selectedItem);\n    }\n  }, [state.selectedItem]);\n\n  const isDesktop = useMedia(`(min-width: ${mobileBreakPoint || 760}px)`);\n\n  return (\n    <>\n      {isDesktop ? (\n        <section\n          className={clsx('rounded-sm', className)}\n          data-testid=\"desktop\"\n        >\n          <ul\n            className=\"flex flex-row list-none p-0 m-0 w-full\"\n            data-testid=\"titles\"\n          >\n            {state.items.map((item) => (\n              <li\n                key={`tabs-${id}title-${uniqKey(item)}`}\n                className={clsx(\n                  'px-4 py-4 cursor-pointer border border-solid border-[#bef1ff] rounded-t-lg',\n                  item === state.selectedItem\n                    ? 'border-b-0 bg-[#F5FEFF]'\n                    : 'border-b bg-white',\n                )}\n              >\n                <button\n                  className=\"border-0 bg-transparent cursor-pointer w-full\"\n                  onClick={() => setSelectedItem(item)}\n                  onKeyDown={() => setSelectedItem(item)}\n                >\n                  {titleElement(item, item === state.selectedItem)}\n                </button>\n              </li>\n            ))}\n            <li\n              key={'none'}\n              className=\"border-0 border-b border-solid border-b-[#bef1ff] w-full\"\n            ></li>\n          </ul>\n          <div className=\"bg-[#F5FEFF] border border-solid border-[#bef1ff] border-t-0\">\n            {contentElement(state.selectedItem)}\n          </div>\n        </section>\n      ) : (\n        <section\n          className={clsx('grid gap-6 grid-cols-1', className)}\n          data-testid=\"mobile\"\n        >\n          {state.items.map((item) => (\n            <div\n              key={`tabs-${id}title-${uniqKey(item)}`}\n              className=\"px-2 bg-[#F5FEFF] border border-solid border-[#bef1ff] rounded-lg\"\n            >\n              <button\n                className=\"flex cursor-pointer px-4 py-4 w-full border-0 bg-transparent\"\n                onClick={() => setSelectedItem(item)}\n                onKeyDown={() => setSelectedItem(item)}\n              >\n                <div className=\"w-full\">\n                  {titleElement(item, item === state.selectedItem)}\n                </div>\n                <div className=\"w-fit flex items-center\">\n                  {!Object.is(state.selectedItem, item) ? (\n                    <OsdsIcon\n                      className=\"\"\n                      name={ODS_ICON_NAME.CHEVRON_DOWN}\n                      size={ODS_ICON_SIZE.sm}\n                      color={ODS_THEME_COLOR_INTENT.primary}\n                    ></OsdsIcon>\n                  ) : (\n                    <OsdsIcon\n                      className=\"\"\n                      name={ODS_ICON_NAME.CHEVRON_UP}\n                      size={ODS_ICON_SIZE.sm}\n                      color={ODS_THEME_COLOR_INTENT.primary}\n                    ></OsdsIcon>\n                  )}\n                </div>\n              </button>\n              {Object.is(state.selectedItem, item) && (\n                <div>{contentElement(item)}</div>\n              )}\n            </div>\n          ))}\n        </section>\n      )}\n    </>\n  );\n}\n\nexport default TabsComponent;\n"],"names":["isBrowser","getInitialState","query","defaultState","useMedia","_a","useState","state","setState","useEffect","mounted","mql","onChange","useMedia$1","hashCode","param","h","s","p","l","i","TabsComponent","id","uuidV4","items","itemKey","titleElement","item","jsx","contentElement","mobileBreakPoint","className","setSelectedItem","prev","uniqKey","index","isDesktop","Fragment","jsxs","clsx","OsdsIcon","ODS_ICON_NAME","ODS_ICON_SIZE","ODS_THEME_COLOR_INTENT"],"mappings":"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","x_google_ignoreList":[0,1]}