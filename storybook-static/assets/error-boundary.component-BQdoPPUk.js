import{j as t}from"./jsx-runtime-BRNY0I4F.js";import{e as n,r as c}from"./index-Bnop-kX6.js";import{E as h}from"./error.component-CG954pOF.js";import{u as y,g as E}from"./index-CqrMFMhJ.js";import{S as p}from"./useOvhTracking-C6gVk9qp.js";const x=()=>{const r=y(),{shell:o}=n.useContext(p);n.useEffect(()=>{o.routing.stopListenForHashChange()},[]),n.useEffect(()=>{o.routing.onHashChange()},[r])},S=()=>(x(),null),l=({redirectionApp:r,isPreloaderHide:o=!1,isRouteShellSync:m=!1})=>{var s,i,u,d;const e=E(),a=(s=c.useContext(p))==null?void 0:s.shell,g=()=>{a==null||a.navigation.navigateTo(r,"",{})},f=()=>{a==null||a.navigation.reload()};return c.useEffect(()=>{o&&(a==null||a.ux.hidePreloader())},[o]),t.jsxs(t.Fragment,{children:[t.jsx(h,{onReloadPage:f,onRedirectHome:g,error:{data:{message:((u=(i=e==null?void 0:e.response)==null?void 0:i.data)==null?void 0:u.message)||(e==null?void 0:e.message)},headers:((d=e==null?void 0:e.response)==null?void 0:d.headers)||{}}}),m&&t.jsx(S,{})]})};try{l.displayName="ErrorBoundary",l.__docgenInfo={description:"",displayName:"ErrorBoundary",props:{redirectionApp:{defaultValue:null,description:"application name to redirect",name:"redirectionApp",required:!0,type:{name:"string"}},isPreloaderHide:{defaultValue:{value:"false"},description:"Trigger the preloader hiding",name:"isPreloaderHide",required:!1,type:{name:"boolean"}},isRouteShellSync:{defaultValue:{value:"false"},description:"Trigger the routes sync beetween shell and the app",name:"isRouteShellSync",required:!1,type:{name:"boolean"}}}}}catch{}export{l as E};
