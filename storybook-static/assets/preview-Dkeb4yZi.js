var A=(t,e,s)=>{if(!e.has(t))throw TypeError("Cannot "+s)};var i=(t,e,s)=>(A(t,e,"read from private field"),s?s.call(t):e.get(t)),c=(t,e,s)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,s)},o=(t,e,s,r)=>(A(t,e,"write to private field"),r?r.call(t,s):e.set(t,s),s);var D=(t,e,s,r)=>({set _(a){o(t,e,a,s)},get _(){return i(t,e,r)}});import{j as u}from"./jsx-runtime-CKrituN3.js";import{r as P}from"./index-CBqU2yxZ.js";import{S as k,h as K,Q as L,n as l,m as j,d as E,f as y,g as N,o as S,r as I,i as X,j as q,p as F,s as W,k as z}from"./QueryClientProvider-CDvRjfR1.js";import{M as G}from"./mutation-BoanVz2M.js";import{i as U}from"./lib-ROnj4EVN.js";import{s as V,b as Z,I as J,i as w}from"./i18next-ihUiNgJT.js";import"./chunk-HLWAVYOI-C-i_oE4A.js";import{T as Y,e as $,f as ee,g as te,h as se,i as re,j as ie}from"./index-C7Gl6iyv.js";import{useMDXComponents as B}from"./index-DI5IigMn.js";import"./_commonjsHelpers-BosuxZz1.js";import"./iframe-C2PEypnp.js";import"../sb-preview/runtime.js";import"./react-18-D8cruF67.js";import"./index-BtM5VmRH.js";import"./index-D_r38UMq.js";import"./index-Cmc67Rxs.js";import"./index-DrFu-skq.js";const ae={type:"3rdParty",init(t){V(t.options.react),Z(t)}};function ne(t){let{i18n:e,defaultNS:s,children:r}=t;const a=P.useMemo(()=>({i18n:e,defaultNS:s}),[e,s]);return P.createElement(J.Provider,{value:a},r)}var d,_,ue=(_=class extends k{constructor(e={}){super();c(this,d,void 0);this.config=e,o(this,d,new Map)}build(e,s,r){const a=s.queryKey,f=s.queryHash??K(a,s);let v=this.get(f);return v||(v=new L({cache:this,queryKey:a,queryHash:f,options:e.defaultQueryOptions(s),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(v)),v}add(e){i(this,d).has(e.queryHash)||(i(this,d).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const s=i(this,d).get(e.queryHash);s&&(e.destroy(),s===e&&i(this,d).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){l.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return i(this,d).get(e)}getAll(){return[...i(this,d).values()]}find(e){const s={exact:!0,...e};return this.getAll().find(r=>j(s,r))}findAll(e={}){const s=this.getAll();return Object.keys(e).length>0?s.filter(r=>j(e,r)):s}notify(e){l.batch(()=>{this.listeners.forEach(s=>{s(e)})})}onFocus(){l.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){l.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},d=new WeakMap,_),h,x,H,oe=(H=class extends k{constructor(e={}){super();c(this,h,void 0);c(this,x,void 0);this.config=e,o(this,h,new Map),o(this,x,Date.now())}build(e,s,r){const a=new G({mutationCache:this,mutationId:++D(this,x)._,options:e.defaultMutationOptions(s),state:r});return this.add(a),a}add(e){const s=C(e),r=i(this,h).get(s)??[];r.push(e),i(this,h).set(s,r),this.notify({type:"added",mutation:e})}remove(e){var r;const s=C(e);if(i(this,h).has(s)){const a=(r=i(this,h).get(s))==null?void 0:r.filter(f=>f!==e);a&&(a.length===0?i(this,h).delete(s):i(this,h).set(s,a))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const s=(r=i(this,h).get(C(e)))==null?void 0:r.find(a=>a.state.status==="pending");return!s||s===e}runNext(e){var r;const s=(r=i(this,h).get(C(e)))==null?void 0:r.find(a=>a!==e&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}clear(){l.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...i(this,h).values()].flat()}find(e){const s={exact:!0,...e};return this.getAll().find(r=>E(s,r))}findAll(e={}){return this.getAll().filter(s=>E(e,s))}notify(e){l.batch(()=>{this.listeners.forEach(s=>{s(e)})})}resumePausedMutations(){const e=this.getAll().filter(s=>s.state.isPaused);return l.batch(()=>Promise.all(e.map(s=>s.continue().catch(y))))}},h=new WeakMap,x=new WeakMap,H);function C(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}var n,p,m,b,Q,g,O,M,R,he=(R=class{constructor(t={}){c(this,n,void 0);c(this,p,void 0);c(this,m,void 0);c(this,b,void 0);c(this,Q,void 0);c(this,g,void 0);c(this,O,void 0);c(this,M,void 0);o(this,n,t.queryCache||new ue),o(this,p,t.mutationCache||new oe),o(this,m,t.defaultOptions||{}),o(this,b,new Map),o(this,Q,new Map),o(this,g,0)}mount(){D(this,g)._++,i(this,g)===1&&(o(this,O,N.subscribe(async t=>{t&&(await this.resumePausedMutations(),i(this,n).onFocus())})),o(this,M,S.subscribe(async t=>{t&&(await this.resumePausedMutations(),i(this,n).onOnline())})))}unmount(){var t,e;D(this,g)._--,i(this,g)===0&&((t=i(this,O))==null||t.call(this),o(this,O,void 0),(e=i(this,M))==null||e.call(this),o(this,M,void 0))}isFetching(t){return i(this,n).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return i(this,p).findAll({...t,status:"pending"}).length}getQueryData(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=i(this,n).get(e.queryHash))==null?void 0:s.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const s=this.defaultQueryOptions(t),r=i(this,n).build(this,s);return t.revalidateIfStale&&r.isStaleByTime(I(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(e)}}getQueriesData(t){return i(this,n).findAll(t).map(({queryKey:e,state:s})=>{const r=s.data;return[e,r]})}setQueryData(t,e,s){const r=this.defaultQueryOptions({queryKey:t}),a=i(this,n).get(r.queryHash),f=a==null?void 0:a.state.data,v=X(e,f);if(v!==void 0)return i(this,n).build(this,r).setData(v,{...s,manual:!0})}setQueriesData(t,e,s){return l.batch(()=>i(this,n).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,s)]))}getQueryState(t){var s;const e=this.defaultQueryOptions({queryKey:t});return(s=i(this,n).get(e.queryHash))==null?void 0:s.state}removeQueries(t){const e=i(this,n);l.batch(()=>{e.findAll(t).forEach(s=>{e.remove(s)})})}resetQueries(t,e){const s=i(this,n),r={type:"active",...t};return l.batch(()=>(s.findAll(t).forEach(a=>{a.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const s={revert:!0,...e},r=l.batch(()=>i(this,n).findAll(t).map(a=>a.cancel(s)));return Promise.all(r).then(y).catch(y)}invalidateQueries(t={},e={}){return l.batch(()=>{if(i(this,n).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const s={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(s,e)})}refetchQueries(t={},e){const s={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=l.batch(()=>i(this,n).findAll(t).filter(a=>!a.isDisabled()).map(a=>{let f=a.fetch(void 0,s);return s.throwOnError||(f=f.catch(y)),a.state.fetchStatus==="paused"?Promise.resolve():f}));return Promise.all(r).then(y)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const s=i(this,n).build(this,e);return s.isStaleByTime(I(e.staleTime,s))?s.fetch(e):Promise.resolve(s.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(y).catch(y)}fetchInfiniteQuery(t){return t.behavior=U(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(y).catch(y)}resumePausedMutations(){return S.isOnline()?i(this,p).resumePausedMutations():Promise.resolve()}getQueryCache(){return i(this,n)}getMutationCache(){return i(this,p)}getDefaultOptions(){return i(this,m)}setDefaultOptions(t){o(this,m,t)}setQueryDefaults(t,e){i(this,b).set(q(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...i(this,b).values()];let s={};return e.forEach(r=>{F(t,r.queryKey)&&(s={...s,...r.defaultOptions})}),s}setMutationDefaults(t,e){i(this,Q).set(q(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...i(this,Q).values()];let s={};return e.forEach(r=>{F(t,r.mutationKey)&&(s={...s,...r.defaultOptions})}),s}defaultQueryOptions(t){if(t._defaulted)return t;const e={...i(this,m).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=K(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===W&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...i(this,m).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){i(this,n).clear(),i(this,p).clear()}},n=new WeakMap,p=new WeakMap,m=new WeakMap,b=new WeakMap,Q=new WeakMap,g=new WeakMap,O=new WeakMap,M=new WeakMap,R);w.use(ae).init({fallbackLng:"fr_FR",interpolation:{escapeValue:!1},resources:{en:{}}});function T(t){const e=Object.assign({h2:"h2"},B(),t.components);return u.jsxs(u.Fragment,{children:[u.jsx(Y,{}),`
`,u.jsx($,{}),`
`,u.jsx(ee,{}),`
`,u.jsx(te,{sourceState:"shown",children:u.jsx(se,{})}),`
`,u.jsx(e.h2,{id:"properties",children:"Properties"}),`
`,u.jsx(re,{}),`
`,u.jsx(ie,{})]})}function le(t={}){const{wrapper:e}=Object.assign({},B(),t.components);return e?u.jsx(e,Object.assign({},t,{children:u.jsx(T,t)})):T(t)}const ce=new he({defaultOptions:{queries:{retry:!1,staleTime:1/0}}}),Se={parameters:{docs:{toc:{contentsSelector:".sbdocs-content",headingSelector:"h1, h2, h3",disable:!1},source:{excludeDecorators:!0,state:"open"},page:le},actions:{argTypesRegex:"^on[A-Z].*"},controls:{expanded:!0,hideNoControlsWarning:!0},options:{storySort:{order:["Manager React Components",["Introduction","What's new?",["Changelog"]],"*"]},showPanel:!0},status:{type:"stable"}}},fe=(t,e)=>{const{locale:s}=e.globals;return P.useEffect(()=>{w.changeLanguage(s)},[s]),u.jsx(P.Suspense,{fallback:u.jsx("div",{children:"loading translations..."}),children:u.jsx(ne,{i18n:w,children:u.jsx(z,{client:ce,children:u.jsx(t,{})})})})},Ie=[fe],qe={locale:{name:"Locale",description:"Internationalization locale",toolbar:{icon:"globe",items:[{value:"fr_FR",title:"Francais"},{value:"en_GB",title:"English"},{value:"de_DE",title:"Deutsch"},{value:"es_ES",title:"Espagne"},{value:"it_IT",title:"Italy"},{value:"pt_PT",title:"Portugal"},{value:"pl_PL",title:"Poland"},{value:"fr_CA",title:"Canada"}],showName:!0}}};export{Ie as decorators,Se as default,qe as globalTypes};
