{"version":3,"file":"step.stories-Dn6rsKL9.js","sources":["../../src/components/container/step/Step.component.tsx"],"sourcesContent":["import React, { Suspense } from 'react';\nimport {\n  OsdsButton,\n  OsdsIcon,\n  OsdsLink,\n  OsdsSpinner,\n  OsdsText,\n} from '@ovhcloud/ods-components/react';\nimport {\n  ODS_THEME_TYPOGRAPHY_LEVEL,\n  ODS_THEME_TYPOGRAPHY_SIZE,\n  ODS_THEME_COLOR_INTENT,\n} from '@ovhcloud/ods-common-theming';\nimport { v4 as uuidV4 } from 'uuid';\nimport {\n  ODS_BUTTON_SIZE,\n  ODS_ICON_NAME,\n  ODS_ICON_SIZE,\n  ODS_SPINNER_SIZE,\n} from '@ovhcloud/ods-components';\nimport { clsx } from 'clsx';\n\nexport type TStepProps = {\n  id?: string;\n  title?: string | JSX.Element;\n  subtitle?: string | JSX.Element;\n  isOpen: boolean;\n  isChecked: boolean;\n  isLocked: boolean;\n  order: number;\n  next?: {\n    action: (id: string) => void;\n    label: string | JSX.Element;\n    isDisabled?: boolean;\n  };\n  edit?: {\n    action: (id: string) => void;\n    label: string | JSX.Element;\n    isDisabled?: boolean;\n  };\n  children?: JSX.Element | JSX.Element[];\n};\n\nexport const StepComponent = ({\n  id = uuidV4(),\n  title = '',\n  subtitle = '',\n  isOpen,\n  isChecked,\n  isLocked,\n  order,\n  children,\n  next,\n  edit,\n}: TStepProps): JSX.Element => {\n  return (\n    <section className=\"flex flex-row border-0 border-t-[1px] border-solid border-t-[#b3b3b3] pt-5 mb-5\">\n      <div className=\"basis-[40px]\">\n        {isChecked ? (\n          <OsdsIcon\n            size={ODS_ICON_SIZE.sm}\n            name={ODS_ICON_NAME.CHECK}\n            className={'mr-2'}\n            color={ODS_THEME_COLOR_INTENT.primary}\n          />\n        ) : (\n          <div\n            className={clsx(\n              'flex justify-center items-center font-bold border-2 border-solid rounded-full h-10 w-10',\n              isOpen ? 'border-[#0050d7]' : 'border-[grey]',\n            )}\n          >\n            <OsdsText\n              level={ODS_THEME_TYPOGRAPHY_LEVEL.body}\n              size={ODS_THEME_TYPOGRAPHY_SIZE._500}\n              color={\n                isOpen\n                  ? ODS_THEME_COLOR_INTENT.text\n                  : ODS_THEME_COLOR_INTENT.default\n              }\n            >\n              {order}\n            </OsdsText>\n          </div>\n        )}\n      </div>\n      <div className=\"basis-full px-5\">\n        <div className=\"flex flex-col md:flex-row\">\n          <div\n            className={clsx(\n              'font-sans font-normal p-0 m-0 w-full md:w-5/6 leading-10',\n              isOpen\n                ? 'text-[1.625rem] text-[#00185e]'\n                : 'text-[1.25rem] text-[grey]',\n            )}\n          >\n            {title}\n          </div>\n          {edit?.action && isLocked && (\n            <div className=\"text-2xl w-full md:w-1/6\" data-testid=\"edit\">\n              <OsdsLink\n                data-testid=\"edit-cta\"\n                className=\"float-left md:float-right\"\n                color={ODS_THEME_COLOR_INTENT.primary}\n                {...(edit.isDisabled ? { disabled: true } : {})}\n                onClick={() => {\n                  if (!edit.isDisabled) {\n                    edit.action(id);\n                  }\n                }}\n              >\n                {edit.label}\n              </OsdsLink>\n            </div>\n          )}\n        </div>\n        {isOpen && (\n          <>\n            {subtitle && <div>{subtitle}</div>}\n            <div\n              data-testid=\"content\"\n              className={clsx(\n                'mt-5',\n                isLocked && 'cursor-not-allowed pointer-events-none opacity-50',\n              )}\n            >\n              <Suspense\n                fallback={<OsdsSpinner inline size={ODS_SPINNER_SIZE.md} />}\n              >\n                {children}\n              </Suspense>\n            </div>\n            {next?.action && !isLocked && (\n              <div className=\"mt-6\" data-testid=\"next\">\n                <OsdsButton\n                  data-testid=\"next-cta\"\n                  size={ODS_BUTTON_SIZE.md}\n                  color={ODS_THEME_COLOR_INTENT.primary}\n                  onClick={() => {\n                    next.action(id);\n                  }}\n                  className=\"w-fit\"\n                  {...(next.isDisabled ? { disabled: true } : {})}\n                >\n                  {next.label}\n                </OsdsButton>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </section>\n  );\n};\n\nexport default StepComponent;\n"],"names":["StepComponent","id","uuidV4","title","subtitle","isOpen","isChecked","isLocked","order","children","next","edit","jsxs","jsx","OsdsIcon","ODS_ICON_SIZE","ODS_ICON_NAME","ODS_THEME_COLOR_INTENT","clsx","OsdsText","ODS_THEME_TYPOGRAPHY_LEVEL","ODS_THEME_TYPOGRAPHY_SIZE","OsdsLink","Fragment","Suspense","OsdsSpinner","ODS_SPINNER_SIZE","OsdsButton","ODS_BUTTON_SIZE","StepComponent$1"],"mappings":"gZA2CO,MAAAA,EAAA,CAAA,CAAuB,GAAAC,EAAAC,EAAA,EAChB,MAAAC,EAAA,GACJ,SAAAC,EAAA,GACG,OAAAC,EACX,UAAAC,EACA,SAAAC,EACA,MAAAC,EACA,SAAAC,EACA,KAAAC,EACA,KAAAC,CAEF,IACEC,EAAA,KAAA,UAAA,CAAA,UAAA,kFAAA,SAAA,CAEIC,EAAA,IAAA,MAAA,CAAA,UAAA,eAAA,SAAAP,EAAAO,EAAA,IAEIC,EAAC,CAAA,KAAAC,EAAA,GACqB,KAAAC,EAAA,MACA,UAAA,OACT,MAAAC,EAAA,OACmB,CAAA,EAAAJ,EAAA,IAGhC,MAAC,CAAA,UAAAK,EACY,0FACTb,EAAA,mBAAA,eAC8B,EAChC,SAAAQ,EAAA,IAEAM,EAAC,CAAA,MAAAC,EAAA,KACmC,KAAAC,EAAA,KACF,MAAAhB,EAAAY,EAAA,KAAAA,EAAA,QAIH,SAAAT,CAG5B,CAAA,CACH,CAAA,EAAA,EAGNI,EAAAA,KAAA,MAAA,CAAA,UAAA,kBAAA,SAAA,CAEEA,EAAAA,KAAA,MAAA,CAAA,UAAA,4BAAA,SAAA,CACEC,EAAA,IAAA,MAAC,CAAA,UAAAK,EACY,2DACTb,EAAA,iCAAA,4BAGI,EACN,SAAAF,CAEC,CAAA,GACHQ,GAAA,YAAAA,EAAA,SAAAJ,GAAAM,EAAAA,IAAA,MAAA,CAAA,UAAA,2BAAA,cAAA,OAAA,SAAAA,EAAA,IAGIS,EAAC,CAAA,cAAA,WACa,UAAA,4BACF,MAAAL,EAAA,QACoB,GAAAN,EAAA,WAAA,CAAA,SAAA,EAAA,EAAA,CAAA,EACe,QAAA,IAAA,CAE3CA,EAAA,YACEA,EAAA,OAAAV,CAAA,CACF,EACF,SAAAU,EAAA,KAEM,CAAA,EAAA,CAEV,EAAA,EAEJN,GAAAO,EAAA,KAAAW,WAAA,CAAA,SAAA,CAGKnB,GAAAS,EAAAA,IAAA,MAAA,CAAA,SAAAT,CAAA,CAAA,EAA2BS,EAAA,IAC5B,MAAC,CAAA,cAAA,UACa,UAAAK,EACD,OACTX,GAAA,mDACY,EACd,SAAAM,EAAA,IAEAW,EAAA,SAAC,CAAA,SAAAX,EAAAA,IAAAY,EAAA,CAAA,OAAA,GAAA,KAAAC,EAAA,GAAA,EAC0D,SAAAjB,CAExD,CAAA,CACH,CAAA,GACFC,GAAA,YAAAA,EAAA,SAAA,CAAAH,GAAAM,EAAA,IAAA,MAAA,CAAA,UAAA,OAAA,cAAA,OAAA,SAAAA,EAAA,IAGIc,EAAC,CAAA,cAAA,WACa,KAAAC,EAAA,GACU,MAAAX,EAAA,QACQ,QAAA,IAAA,CAE5BP,EAAA,OAAAT,CAAA,CAAc,EAChB,UAAA,QACU,GAAAS,EAAA,WAAA,CAAA,SAAA,EAAA,EAAA,CAAA,EACmC,SAAAA,EAAA,KAEvC,CAAA,EAAA,CAEV,EAAA,CAEJ,EAAA,CAEJ,CAAA,CAAA,EAKNmB,EAAA7B"}