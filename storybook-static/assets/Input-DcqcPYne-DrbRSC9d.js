import{j as n}from"./jsx-runtime-BRNY0I4F.js";import{m as F}from"./index-2w0W-O47-BJ19ihbZ.js";import{r as t}from"./index-Bnop-kX6.js";import{I as J}from"./FormFieldLabel-DerGjSSG-BvxIGX_B.js";import{t as a,C as Q}from"./useI18n-C3-XAdTV-CxpmELcO.js";import{x as I,s as z,t as E}from"./Button-BC-ipw2F-CXZv4wj7.js";import{a as N}from"./ods-react236-aAAP9SXj.js";import{t as T}from"./Icon-DrfG5m-t-DQEf1CkA.js";import{l as g}from"./ods-react60-0db41gCx.js";import{f as X,t as V,s as $}from"./Spinner-CV0M2r8z-14hgiywo.js";var k=(e=>(e.close="close",e.open="open",e))(k||{});const ve=Object.freeze(Object.values(k));var f=(e=>(e.email="email",e.number="number",e.password="password",e.search="search",e.text="text",e.time="time",e.url="url",e))(f||{});const xe=Object.freeze(Object.values(f));function y(e){return Array.isArray(e)?e.length>0:!!e||e===0}var b=(e=>(e.clearButton="input.clear.button",e.maskButtonHide="input.mask.hide.button",e.maskButtonShow="input.mask.show.button",e.searchButton="input.search.button",e))(b||{});const ee={"input.clear.button":{[a.de]:"Eingabe löschen",[a.en]:"Clear input",[a.es]:"Borrar entrada",[a.fr]:"Effacer l’entrée",[a.it]:"Cancella input",[a.nl]:"Invoer wissen",[a.pl]:"Wyczyść pole",[a.pt]:"Limpar a entrada"},"input.mask.hide.button":{[a.de]:"Ausblenden",[a.en]:"Hide",[a.es]:"Ocultar",[a.fr]:"Masquer",[a.it]:"Nascondi",[a.nl]:"Verbergen",[a.pl]:"Ukryj",[a.pt]:"Ocultar"},"input.mask.show.button":{[a.de]:"Anzeigen",[a.en]:"Show",[a.es]:"Mostrar",[a.fr]:"Afficher",[a.it]:"Mostra",[a.nl]:"Tonen",[a.pl]:"Pokaż",[a.pt]:"Mostrar"},"input.search.button":{[a.de]:"Suchen",[a.en]:"Search",[a.es]:"Buscar",[a.fr]:"Rechercher",[a.it]:"Cerca",[a.nl]:"Zoeken",[a.pl]:"Szukaj",[a.pt]:"Pesquisar"}},D=t.createContext({});function ae({children:e,i18n:u,locale:c}){return n.jsx(D.Provider,{value:{i18n:u,locale:c},children:e})}function te(){return t.useContext(D)}const q={"input-actions":"_input-actions_ke1hx_2","input-actions__loading":"_input-actions__loading_ke1hx_7"},ne=({disabled:e,hasClearButton:u,hasSearchButton:c,hasToggleMaskIcon:_,inputId:h,isMaskOpen:v,loading:i,onClearClick:j,onToggleMask:s,readOnly:m})=>{const{i18n:d,locale:o}=te(),{translate:r}=Q(ee,o,d);return n.jsxs("div",{className:q["input-actions"],children:[i&&n.jsx(X,{className:q["input-actions__loading"],color:e?V.neutral:V.primary,role:"none",size:$.xs}),u&&n.jsx(I,{"aria-controls":h,"aria-label":r(b.clearButton),color:N.neutral,disabled:e||m,onClick:j,size:z.xs,type:"button",variant:E.ghost,children:n.jsx(T,{name:g.xmark})}),_&&n.jsx(I,{"aria-controls":h,"aria-label":r(v?b.maskButtonHide:b.maskButtonShow),color:N.primary,disabled:e,onClick:s,size:z.xs,type:"button",variant:E.ghost,children:n.jsx(T,{name:v?g.eye:g.eyeOff})}),c&&n.jsx(I,{"aria-label":r(b.searchButton),color:N.primary,disabled:e||m,size:z.xs,type:"submit",variant:E.ghost,children:n.jsx(T,{name:g.magnifyingGlass})})]})},ie="_input_ff5b7_2",re="_input__field_ff5b7_41",A={input:ie,"input--with-actions":"_input--with-actions_ff5b7_38",input__field:re},se=t.forwardRef(({className:e,clearable:u=!1,defaultValue:c,i18n:_,id:h,invalid:v,loading:i=!1,locale:j,maskOption:s={enable:!1,initialState:k.close},onClear:m,type:d=f.text,value:o,...r},G)=>{const L=t.useId(),p=J(),l=t.useRef(null),[H,P]=t.useState(y(c)||y(o)),[w,U]=t.useState((s==null?void 0:s.initialState)===k.open),C=v||(p==null?void 0:p.invalid),R=h||(p==null?void 0:p.id)||L;t.useImperativeHandle(G,()=>l.current,[l]),t.useEffect(()=>{o!==void 0&&P(y(o))},[o]);const M=t.useMemo(()=>u&&!i&&H,[u,H,i]),O=t.useMemo(()=>d===f.search&&!i,[i,d]),B=t.useMemo(()=>s.enable&&!i,[i,s.enable]),Z=t.useMemo(()=>s.enable&&!w?f.password:d,[w,s.enable,d]),S=t.useMemo(()=>M||O||B||i,[M,O,B,i]);function K(x){r.onChange&&r.onChange(x),o===void 0&&P(y(x.target.value))}function W(){m&&m(),l.current&&(Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(l.current,""),l.current.dispatchEvent(new Event("input",{bubbles:!0})),l.current.focus())}function Y(){U(x=>!x)}return n.jsx(ae,{i18n:_,locale:j,children:n.jsxs("div",{className:F(A.input,{[A["input--with-actions"]]:S},e),"data-disabled":r.disabled?!0:void 0,"data-invalid":C?!0:void 0,"data-readonly":r.readOnly?!0:void 0,role:S?"group":void 0,children:[n.jsx("input",{"aria-busy":i,"aria-describedby":r["aria-describedby"]||(p==null?void 0:p.ariaDescribedBy),"aria-invalid":C,className:A.input__field,"data-ods":"input","data-invalid":C?!0:void 0,defaultValue:c,id:R,ref:l,type:Z,value:o,...r,onChange:K}),S&&n.jsx(ne,{disabled:r.disabled,hasClearButton:M,hasSearchButton:O,hasToggleMaskIcon:B,inputId:R,isMaskOpen:w,loading:i,onClearClick:W,onToggleMask:Y,readOnly:r.readOnly})]})})});se.displayName="Input";export{ve as c,b as n,k as o,se as p,f as r,xe as t};
