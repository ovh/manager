import{j as s}from"./jsx-runtime-BRNY0I4F.js";import{r as g}from"./index-Bnop-kX6.js";import{I as me}from"./FormFieldLabel-DerGjSSG-BDyW1aTt.js";import{r as ee}from"./index-_7D5ljJ2-LyAubAEn.js";import{X as D,t as I,v as f,E as we,L as te,x as $e,g as Me,q as Ue,aA as Y,a3 as We,D as W,ad as qe,aB as ne,T as j,R as Ke,a1 as Be,aC as ze,w as Ye,O as Xe,V as Je,G as p,az as ae,ak as Ze,a6 as Qe,P as et,B as se,aD as tt,aE as lt,A as it,aF as ot}from"./use-locale-context-cwTY9VYn-REDUMe7F.js";import{k as nt,j as at}from"./portal-BnVBD_Bd-CMtQ-rJ7.js";import{D as he,L as st,k as rt}from"./use-presence-CVI6Oc63-Cg7Clpcl.js";import{x as re,y as ct}from"./index-C7dNzIpW-BlUnPWgK.js";import{y as dt}from"./index-DB9CF8IY-DC0Y2KvY.js";import{r as ve}from"./use-field-context-C3OOq-03-DvM5qnyl.js";import{m as V}from"./index-2w0W-O47-BJ19ihbZ.js";import{t as ut}from"./Icon-DrfG5m-t-DQEf1CkA.js";import{l as pt}from"./ods-react60-0db41gCx.js";function Ie(e){return!Object.prototype.hasOwnProperty.call(e,"value")}const gt=e=>new ee(e),[mt,E]=D({name:"SelectContext",hookName:"useSelectContext",providerName:"<SelectProvider />"}),Ee=g.forwardRef((e,t)=>{const l=E(),i=he(),o=I(l.getContentProps(),i.getPresenceProps(),e);return i.unmounted?null:s.jsx(f.div,{...o,ref:we(i.ref,t)})});Ee.displayName="SelectContent";const fe=g.forwardRef((e,t)=>{const l=E(),i=I(l.getControlProps(),e);return s.jsx(f.div,{...i,ref:t})});fe.displayName="SelectControl";const Oe=g.forwardRef((e,t)=>{const l=E(),i=I(l.getHiddenSelectProps(),e),o=l.value.length===0,c=ve();return s.jsxs(f.select,{"aria-describedby":c==null?void 0:c.ariaDescribedby,...i,ref:t,children:[o&&s.jsx("option",{value:""}),l.collection.items.map((r,a)=>s.jsx("option",{value:l.collection.getItemValue(r)??"",disabled:l.collection.getItemDisabled(r),children:l.collection.stringifyItem(r)},a))]})});Oe.displayName="SelectHiddenSelect";const ye=g.forwardRef((e,t)=>{const l=E(),i=I(l.getIndicatorProps(),e);return s.jsx(f.div,{...i,ref:t})});ye.displayName="SelectIndicator";const[ht,Yt]=D({name:"SelectItemContext",hookName:"useSelectItemContext",providerName:"<SelectItemProvider />"}),[vt,Te]=D({name:"SelectItemPropsContext",hookName:"useSelectItemPropsContext",providerName:"<SelectItemPropsProvider />"}),Re=g.forwardRef((e,t)=>{const[l,i]=te()(e,["item","persistFocus"]),o=E(),c=I(o.getItemProps(l),i),r=o.getItemState(l);return s.jsx(vt,{value:l,children:s.jsx(ht,{value:r,children:s.jsx(f.div,{...c,ref:t})})})});Re.displayName="SelectItem";const[It,Et]=D({name:"SelectItemGroupPropsContext",hookName:"useSelectItemGroupPropsContext",providerName:"<SelectItemGroupPropsProvider />"}),be=g.forwardRef((e,t)=>{const l=g.useId(),[i,o]=te()(e,["id"]),c={id:l,...i},r=E(),a=I(r.getItemGroupProps(c),o);return s.jsx(It,{value:c,children:s.jsx(f.div,{...a,ref:t})})});be.displayName="SelectItemGroup";const xe=g.forwardRef((e,t)=>{const l=E(),i=Et(),o=I(l.getItemGroupLabelProps({htmlFor:i.id}),e);return s.jsx(f.div,{...o,ref:t})});xe.displayName="SelectItemGroupLabel";const Ce=g.forwardRef((e,t)=>{const l=E(),i=Te(),o=I(l.getItemIndicatorProps(i),e);return s.jsx(f.div,{...o,ref:t})});Ce.displayName="SelectItemIndicator";const Se=g.forwardRef((e,t)=>{const l=E(),i=Te(),o=I(l.getItemTextProps(i),e);return s.jsx(f.span,{...o,ref:t})});Se.displayName="SelectItemText";const Ne=g.forwardRef((e,t)=>{const l=E(),i=I(l.getPositionerProps(),e);return he().unmounted?null:s.jsx(f.div,{...i,ref:t})});Ne.displayName="SelectPositioner";var ft=$e("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),h=ft.build(),Pe=e=>new ee(e);Pe.empty=()=>new ee({items:[]});var Ot=e=>{var t;return((t=e.ids)==null?void 0:t.root)??`select:${e.id}`},X=e=>{var t;return((t=e.ids)==null?void 0:t.content)??`select:${e.id}:content`},J=e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`select:${e.id}:trigger`},Ve=e=>{var t;return((t=e.ids)==null?void 0:t.clearTrigger)??`select:${e.id}:clear-trigger`},H=e=>{var t;return((t=e.ids)==null?void 0:t.label)??`select:${e.id}:label`},yt=e=>{var t;return((t=e.ids)==null?void 0:t.control)??`select:${e.id}:control`},Z=(e,t)=>{var l,i;return((i=(l=e.ids)==null?void 0:l.item)==null?void 0:i.call(l,t))??`select:${e.id}:option:${t}`},Q=e=>{var t;return((t=e.ids)==null?void 0:t.hiddenSelect)??`select:${e.id}:select`},Ge=e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`select:${e.id}:positioner`},Tt=(e,t)=>{var l,i;return((i=(l=e.ids)==null?void 0:l.itemGroup)==null?void 0:i.call(l,t))??`select:${e.id}:optgroup:${t}`},ce=(e,t)=>{var l,i;return((i=(l=e.ids)==null?void 0:l.itemGroupLabel)==null?void 0:i.call(l,t))??`select:${e.id}:optgroup-label:${t}`},q=e=>e.getById(Q(e)),L=e=>e.getById(X(e)),N=e=>e.getById(J(e)),Rt=e=>e.getById(Ve(e)),de=e=>e.getById(Ge(e)),K=(e,t)=>t==null?null:e.getById(Z(e,t));function bt(e,t){const{context:l,prop:i,scope:o,state:c,computed:r,send:a}=e,u=i("disabled")||l.get("fieldsetDisabled"),v=!!i("invalid"),R=!!i("required"),b=!!i("readOnly"),T=i("composite"),P=i("collection"),y=c.hasTag("open"),G=c.matches("focused"),O=l.get("highlightedValue"),$=l.get("highlightedItem"),M=l.get("selectedItems"),_=l.get("currentPlacement"),x=r("isTypingAhead"),C=r("isInteractive"),U=O?Z(o,O):void 0;function F(n){const d=P.getItemDisabled(n.item),m=P.getItemValue(n.item);return ot(m,()=>`[zag-js] No value found for item ${JSON.stringify(n.item)}`),{value:m,disabled:!!(u||d),highlighted:O===m,selected:l.get("value").includes(m)}}const je=ct({...i("positioning"),placement:_});return{open:y,focused:G,empty:l.get("value").length===0,highlightedItem:$,highlightedValue:O,selectedItems:M,hasSelectedItems:r("hasSelectedItems"),value:l.get("value"),valueAsString:r("valueAsString"),collection:P,multiple:!!i("multiple"),disabled:!!u,reposition(n={}){a({type:"POSITIONING.SET",options:n})},focus(){var n;(n=N(o))==null||n.focus({preventScroll:!0})},setOpen(n){c.hasTag("open")!==n&&a({type:n?"OPEN":"CLOSE"})},selectValue(n){a({type:"ITEM.SELECT",value:n})},setValue(n){a({type:"VALUE.SET",value:n})},selectAll(){a({type:"VALUE.SET",value:P.getValues()})},setHighlightValue(n){a({type:"HIGHLIGHTED_VALUE.SET",value:n})},clearHighlightValue(){a({type:"HIGHLIGHTED_VALUE.CLEAR"})},clearValue(n){a(n?{type:"ITEM.CLEAR",value:n}:{type:"VALUE.CLEAR"})},getItemState:F,getRootProps(){return t.element({...h.root.attrs,dir:i("dir"),id:Ot(o),"data-invalid":p(v),"data-readonly":p(b)})},getLabelProps(){return t.label({dir:i("dir"),id:H(o),...h.label.attrs,"data-disabled":p(u),"data-invalid":p(v),"data-readonly":p(b),"data-required":p(R),htmlFor:Q(o),onClick(n){var d;n.defaultPrevented||u||(d=N(o))==null||d.focus({preventScroll:!0})}})},getControlProps(){return t.element({...h.control.attrs,dir:i("dir"),id:yt(o),"data-state":y?"open":"closed","data-focus":p(G),"data-disabled":p(u),"data-invalid":p(v)})},getValueTextProps(){return t.element({...h.valueText.attrs,dir:i("dir"),"data-disabled":p(u),"data-invalid":p(v),"data-focus":p(G)})},getTriggerProps(){return t.button({id:J(o),disabled:u,dir:i("dir"),type:"button",role:"combobox","aria-controls":X(o),"aria-expanded":y,"aria-haspopup":"listbox","data-state":y?"open":"closed","aria-invalid":v,"aria-labelledby":H(o),...h.trigger.attrs,"data-disabled":p(u),"data-invalid":p(v),"data-readonly":p(b),"data-placement":_,"data-placeholder-shown":p(!r("hasSelectedItems")),onClick(n){C&&(n.defaultPrevented||a({type:"TRIGGER.CLICK"}))},onFocus(){a({type:"TRIGGER.FOCUS"})},onBlur(){a({type:"TRIGGER.BLUR"})},onKeyDown(n){if(n.defaultPrevented||!C)return;const d={ArrowUp(){a({type:"TRIGGER.ARROW_UP"})},ArrowDown(m){a({type:m.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){a({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){a({type:"TRIGGER.ARROW_RIGHT"})},Home(){a({type:"TRIGGER.HOME"})},End(){a({type:"TRIGGER.END"})},Enter(){a({type:"TRIGGER.ENTER"})},Space(m){a(x?{type:"TRIGGER.TYPEAHEAD",key:m.key}:{type:"TRIGGER.ENTER"})}}[ae(n,{dir:i("dir"),orientation:"vertical"})];if(d){d(n),n.preventDefault();return}Y.isValidEvent(n)&&(a({type:"TRIGGER.TYPEAHEAD",key:n.key}),n.preventDefault())}})},getIndicatorProps(){return t.element({...h.indicator.attrs,dir:i("dir"),"aria-hidden":!0,"data-state":y?"open":"closed","data-disabled":p(u),"data-invalid":p(v),"data-readonly":p(b)})},getItemProps(n){const d=F(n);return t.element({id:Z(o,d.value),role:"option",...h.item.attrs,dir:i("dir"),"data-value":d.value,"aria-selected":d.selected,"data-state":d.selected?"checked":"unchecked","data-highlighted":p(d.highlighted),"data-disabled":p(d.disabled),"aria-disabled":Ze(d.disabled),onPointerMove(m){d.disabled||m.pointerType!=="mouse"||d.value!==O&&a({type:"ITEM.POINTER_MOVE",value:d.value})},onClick(m){m.defaultPrevented||d.disabled||a({type:"ITEM.CLICK",src:"pointerup",value:d.value})},onPointerLeave(m){var A;d.disabled||n.persistFocus||m.pointerType!=="mouse"||!((A=e.event.previous())!=null&&A.type.includes("POINTER"))||a({type:"ITEM.POINTER_LEAVE"})}})},getItemTextProps(n){const d=F(n);return t.element({...h.itemText.attrs,"data-state":d.selected?"checked":"unchecked","data-disabled":p(d.disabled),"data-highlighted":p(d.highlighted)})},getItemIndicatorProps(n){const d=F(n);return t.element({"aria-hidden":!0,...h.itemIndicator.attrs,"data-state":d.selected?"checked":"unchecked",hidden:!d.selected})},getItemGroupLabelProps(n){const{htmlFor:d}=n;return t.element({...h.itemGroupLabel.attrs,id:ce(o,d),dir:i("dir"),role:"presentation"})},getItemGroupProps(n){const{id:d}=n;return t.element({...h.itemGroup.attrs,"data-disabled":p(u),id:Tt(o,d),"aria-labelledby":ce(o,d),role:"group",dir:i("dir")})},getClearTriggerProps(){return t.button({...h.clearTrigger.attrs,id:Ve(o),type:"button","aria-label":"Clear value","data-invalid":p(v),disabled:u,hidden:!r("hasSelectedItems"),dir:i("dir"),onClick(n){n.defaultPrevented||a({type:"CLEAR.CLICK"})}})},getHiddenSelectProps(){const n=l.get("value"),d=i("multiple")?n:n==null?void 0:n[0];return t.select({name:i("name"),form:i("form"),disabled:u,multiple:i("multiple"),required:i("required"),"aria-hidden":!0,id:Q(o),defaultValue:d,style:Qe,tabIndex:-1,onFocus(){var m;(m=N(o))==null||m.focus({preventScroll:!0})},"aria-labelledby":H(o)})},getPositionerProps(){return t.element({...h.positioner.attrs,dir:i("dir"),id:Ge(o),style:je.floating})},getContentProps(){return t.element({hidden:!y,dir:i("dir"),id:X(o),role:T?"listbox":"dialog",...h.content.attrs,"data-state":y?"open":"closed","data-placement":_,"data-activedescendant":U,"aria-activedescendant":T?U:void 0,"aria-multiselectable":i("multiple")&&T?!0:void 0,"aria-labelledby":H(o),tabIndex:0,onKeyDown(n){if(!C||!et(n.currentTarget,se(n)))return;if(n.key==="Tab"&&!tt(n)){n.preventDefault();return}const d={ArrowUp(){a({type:"CONTENT.ARROW_UP"})},ArrowDown(){a({type:"CONTENT.ARROW_DOWN"})},Home(){a({type:"CONTENT.HOME"})},End(){a({type:"CONTENT.END"})},Enter(){a({type:"ITEM.CLICK",src:"keydown.enter"})},Space(ie){var oe;x?a({type:"CONTENT.TYPEAHEAD",key:ie.key}):(oe=d.Enter)==null||oe.call(d,ie)}},m=d[ae(n)];if(m){m(n),n.preventDefault();return}const A=se(n);lt(A)||Y.isValidEvent(n)&&(a({type:"CONTENT.TYPEAHEAD",key:n.key}),n.preventDefault())}})},getListProps(){return t.element({...h.list.attrs,tabIndex:0,role:T?void 0:"listbox","aria-labelledby":J(o),"aria-activedescendant":T?void 0:U,"aria-multiselectable":!T&&i("multiple")?!0:void 0})}}}var{and:k,not:S,or:xt}=Ke(),Ct=Me({props({props:e}){return{loopFocus:!1,closeOnSelect:!e.multiple,composite:!0,defaultValue:[],...e,collection:e.collection??Pe.empty(),positioning:{placement:"bottom-start",gutter:8,...e.positioning}}},context({prop:e,bindable:t}){return{value:t(()=>({defaultValue:e("defaultValue"),value:e("value"),isEqual:Ue,onChange(l){var i;const o=e("collection").findMany(l);return(i=e("onValueChange"))==null?void 0:i({value:l,items:o})}})),highlightedValue:t(()=>({defaultValue:e("defaultHighlightedValue")||null,value:e("highlightedValue"),onChange(l){var i;(i=e("onHighlightChange"))==null||i({highlightedValue:l,highlightedItem:e("collection").find(l),highlightedIndex:e("collection").indexOf(l)})}})),currentPlacement:t(()=>({defaultValue:void 0})),fieldsetDisabled:t(()=>({defaultValue:!1})),highlightedItem:t(()=>({defaultValue:null})),selectedItems:t(()=>{const l=e("value")??e("defaultValue")??[];return{defaultValue:e("collection").findMany(l)}})}},refs(){return{typeahead:{...Y.defaultOptions}}},computed:{hasSelectedItems:({context:e})=>e.get("value").length>0,isTypingAhead:({refs:e})=>e.get("typeahead").keysSoFar!=="",isDisabled:({prop:e,context:t})=>!!e("disabled")||!!t.get("fieldsetDisabled"),isInteractive:({prop:e})=>!(e("disabled")||e("readOnly")),valueAsString:({context:e,prop:t})=>t("collection").stringifyItems(e.get("selectedItems"))},initialState({prop:e}){return e("open")||e("defaultOpen")?"open":"idle"},entry:["syncSelectElement"],watch({context:e,prop:t,track:l,action:i}){l([()=>e.get("value").toString()],()=>{i(["syncSelectedItems","syncSelectElement","dispatchChangeEvent"])}),l([()=>t("open")],()=>{i(["toggleVisibility"])}),l([()=>e.get("highlightedValue")],()=>{i(["syncHighlightedItem"])}),l([()=>t("collection").toString()],()=>{i(["syncCollection"])})},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"HIGHLIGHTED_VALUE.CLEAR":{actions:["clearHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]}},effects:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{target:"open",actions:["setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}]}},focused:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["setInitialFocus","highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["setInitialFocus","highlightComputedLastItem"]},{guard:xt("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["setInitialFocus","highlightComputedFirstItem"]},{target:"open",actions:["setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitialFocus","invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:k(S("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:S("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:k(S("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:S("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:S("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:S("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:S("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],exit:["scrollContentToTop"],effects:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"restoreFocus",target:"focused",actions:["invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:k("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","focusTriggerEl","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:k("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:k("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{loop:({prop:e})=>!!e("loopFocus"),multiple:({prop:e})=>!!e("multiple"),hasSelectedItems:({computed:e})=>!!e("hasSelectedItems"),hasHighlightedItem:({context:e})=>e.get("highlightedValue")!=null,isFirstItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").firstValue,isLastItemHighlighted:({context:e,prop:t})=>e.get("highlightedValue")===t("collection").lastValue,closeOnSelect:({prop:e,event:t})=>!!(t.closeOnSelect??e("closeOnSelect")),restoreFocus:({event:e})=>ue(e),isOpenControlled:({prop:e})=>e("open")!==void 0,isTriggerClickEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:({event:e})=>{var t;return((t=e.previousEvent)==null?void 0:t.type)==="TRIGGER.ARROW_DOWN"}},effects:{trackFormControlState({context:e,scope:t}){return We(q(t),{onFieldsetDisabledChange(l){e.set("fieldsetDisabled",l)},onFormReset(){const l=e.initial("value");e.set("value",l)}})},trackDismissableElement({scope:e,send:t,prop:l}){const i=()=>L(e);let o=!0;return dt(i,{type:"listbox",defer:!0,exclude:[N(e),Rt(e)],onFocusOutside:l("onFocusOutside"),onPointerDownOutside:l("onPointerDownOutside"),onInteractOutside(c){var r;(r=l("onInteractOutside"))==null||r(c),o=!(c.detail.focusable||c.detail.contextmenu)},onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:o})}})},computePlacement({context:e,prop:t,scope:l}){const i=t("positioning");return e.set("currentPlacement",i.placement),re(()=>N(l),()=>de(l),{defer:!0,...i,onComplete(o){e.set("currentPlacement",o.placement)}})},scrollToHighlightedItem({context:e,prop:t,scope:l,event:i}){const o=c=>{const r=e.get("highlightedValue");if(r==null||i.current().type.includes("POINTER"))return;const a=L(l),u=t("scrollToIndexFn");if(u){const R=t("collection").indexOf(r);u==null||u({index:R,immediate:c,getElement:()=>K(l,r)});return}const v=K(l,r);ze(v,{rootEl:a,block:"nearest"})};return W(()=>o(!0)),qe(()=>L(l),{defer:!0,attributes:["data-activedescendant"],callback(){o(!1)}})}},actions:{reposition({context:e,prop:t,scope:l,event:i}){const o=()=>de(l);re(N(l),o,{...t("positioning"),...i.options,defer:!0,listeners:!1,onComplete(c){e.set("currentPlacement",c.placement)}})},toggleVisibility({send:e,prop:t,event:l}){e({type:t("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:l})},highlightPreviousItem({context:e,prop:t}){const l=e.get("highlightedValue");if(l==null)return;const i=t("collection").getPreviousValue(l,1,t("loopFocus"));i!=null&&e.set("highlightedValue",i)},highlightNextItem({context:e,prop:t}){const l=e.get("highlightedValue");if(l==null)return;const i=t("collection").getNextValue(l,1,t("loopFocus"));i!=null&&e.set("highlightedValue",i)},highlightFirstItem({context:e,prop:t}){const l=t("collection").firstValue;e.set("highlightedValue",l)},highlightLastItem({context:e,prop:t}){const l=t("collection").lastValue;e.set("highlightedValue",l)},setInitialFocus({scope:e}){W(()=>{const t=Be({root:L(e)});t==null||t.focus({preventScroll:!0})})},focusTriggerEl({event:e,scope:t}){ue(e)&&W(()=>{const l=N(t);l==null||l.focus({preventScroll:!0})})},selectHighlightedItem({context:e,prop:t,event:l}){var i;let o=l.value??e.get("highlightedValue");o==null||!t("collection").has(o)||((i=t("onSelect"))==null||i({value:o}),o=t("deselectable")&&!t("multiple")&&e.get("value").includes(o)?null:o,e.set("value",c=>o==null?[]:t("multiple")?ne(c,o):[o]))},highlightComputedFirstItem({context:e,prop:t,computed:l}){const i=t("collection"),o=l("hasSelectedItems")?i.sort(e.get("value"))[0]:i.firstValue;e.set("highlightedValue",o)},highlightComputedLastItem({context:e,prop:t,computed:l}){const i=t("collection"),o=l("hasSelectedItems")?i.sort(e.get("value"))[0]:i.lastValue;e.set("highlightedValue",o)},highlightFirstSelectedItem({context:e,prop:t,computed:l}){if(!l("hasSelectedItems"))return;const i=t("collection").sort(e.get("value"))[0];e.set("highlightedValue",i)},highlightItem({context:e,event:t}){e.set("highlightedValue",t.value)},highlightMatchingItem({context:e,prop:t,event:l,refs:i}){const o=t("collection").search(l.key,{state:i.get("typeahead"),currentValue:e.get("highlightedValue")});o!=null&&e.set("highlightedValue",o)},setHighlightedItem({context:e,event:t}){e.set("highlightedValue",t.value)},clearHighlightedItem({context:e}){e.set("highlightedValue",null)},selectItem({context:e,prop:t,event:l}){var i;(i=t("onSelect"))==null||i({value:l.value});const o=t("deselectable")&&!t("multiple")&&e.get("value").includes(l.value)?null:l.value;e.set("value",c=>o==null?[]:t("multiple")?ne(c,o):[o])},clearItem({context:e,event:t}){e.set("value",l=>l.filter(i=>i!==t.value))},setSelectedItems({context:e,event:t}){e.set("value",t.value)},clearSelectedItems({context:e}){e.set("value",[])},selectPreviousItem({context:e,prop:t}){const[l]=e.get("value"),i=t("collection").getPreviousValue(l);i&&e.set("value",[i])},selectNextItem({context:e,prop:t}){const[l]=e.get("value"),i=t("collection").getNextValue(l);i&&e.set("value",[i])},selectFirstItem({context:e,prop:t}){const l=t("collection").firstValue;l&&e.set("value",[l])},selectLastItem({context:e,prop:t}){const l=t("collection").lastValue;l&&e.set("value",[l])},selectMatchingItem({context:e,prop:t,event:l,refs:i}){const o=t("collection").search(l.key,{state:i.get("typeahead"),currentValue:e.get("value")[0]});o!=null&&e.set("value",[o])},scrollContentToTop({prop:e,scope:t}){var l,i;if(e("scrollToIndexFn")){const o=e("collection").firstValue;(l=e("scrollToIndexFn"))==null||l({index:0,immediate:!0,getElement:()=>K(t,o)})}else(i=L(t))==null||i.scrollTo(0,0)},invokeOnOpen({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!0})},invokeOnClose({prop:e}){var t;(t=e("onOpenChange"))==null||t({open:!1})},syncSelectElement({context:e,prop:t,scope:l}){const i=q(l);if(i){if(e.get("value").length===0&&!t("multiple")){i.selectedIndex=-1;return}for(const o of i.options)o.selected=e.get("value").includes(o.value)}},syncCollection({context:e,prop:t}){const l=t("collection"),i=l.find(e.get("highlightedValue"));i&&e.set("highlightedItem",i);const o=l.findMany(e.get("value"));e.set("selectedItems",o)},syncSelectedItems({context:e,prop:t}){const l=t("collection"),i=e.get("selectedItems"),o=e.get("value").map(c=>i.find(r=>l.getItemValue(r)===c)||l.find(c));e.set("selectedItems",o)},syncHighlightedItem({context:e,prop:t}){const l=t("collection"),i=e.get("highlightedValue"),o=i?l.find(i):null;e.set("highlightedItem",o)},dispatchChangeEvent({scope:e}){queueMicrotask(()=>{const t=q(e);if(!t)return;const l=e.getWin(),i=new l.Event("change",{bubbles:!0,composed:!0});t.dispatchEvent(i)})}}}});function ue(e){var t;const l=e.restoreFocus??((t=e.previousEvent)==null?void 0:t.restoreFocus);return l==null||!!l}j()(["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]);j()(["item","persistFocus"]);j()(["id"]);j()(["htmlFor"]);const St=e=>{const t=g.useId(),{dir:l}=Ye(),{getRootNode:i}=Xe(),o=ve(),c={id:t,ids:{label:o==null?void 0:o.ids.label,hiddenSelect:o==null?void 0:o.ids.control},disabled:o==null?void 0:o.disabled,readOnly:o==null?void 0:o.readOnly,invalid:o==null?void 0:o.invalid,required:o==null?void 0:o.required,dir:l,getRootNode:i,...e},r=Je(Ct,c);return bt(r,it)},Nt=(e,t)=>{const[l,i]=at(e),[o,c]=te()(i,["closeOnSelect","collection","composite","defaultHighlightedValue","defaultOpen","defaultValue","deselectable","disabled","form","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onSelect","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),r=St(o),a=st(I({present:r.open},l)),u=I(r.getRootProps(),c);return s.jsx(mt,{value:r,children:s.jsx(rt,{value:a,children:s.jsx(f.div,{...u,ref:t})})})},Pt=g.forwardRef(Nt),_e=g.forwardRef((e,t)=>{const l=E(),i=I(l.getTriggerProps(),e);return s.jsx(f.button,{...i,ref:t})});_e.displayName="SelectTrigger";const Le=g.forwardRef((e,t)=>{const{children:l,placeholder:i,...o}=e,c=E(),r=I(c.getValueTextProps(),o);return s.jsx(f.span,{...r,ref:t,children:l||c.valueAsString||i})});Le.displayName="SelectValueText";const ke=g.createContext({items:[],multiple:!1});function Vt({children:e,items:t,multiple:l,readOnly:i}){return s.jsx(ke.Provider,{value:{items:t,multiple:l,readOnly:i},children:e})}function w(){return g.useContext(ke)}const Gt=g.forwardRef(({children:e,className:t,defaultValue:l,disabled:i=!1,fitControlWidth:o=!0,id:c,invalid:r,items:a=[],multiple:u=!1,name:v,onValueChange:R,readOnly:b=!1,required:T,value:P,...y},G)=>{const O=me(),$=g.useMemo(()=>{const _=a.reduce((x,C)=>(Ie(C)?x=x.concat(C.options):x.push(C),x),[]);return gt({items:_})},[a]),M=g.useMemo(()=>{if(l)return Array.isArray(l)?l:[l]},[l]);return s.jsx(Vt,{items:a,multiple:u,readOnly:b,children:s.jsx(Pt,{className:t,collection:$,"data-ods":"select",defaultValue:M,disabled:i,id:c||(O==null?void 0:O.id),invalid:r||(O==null?void 0:O.invalid),loopFocus:!0,multiple:!!u,name:v,onValueChange:R,positioning:{gutter:-1,sameWidth:o},readOnly:b,ref:G,required:T,value:P,...y,children:e})})});Gt.displayName="Select";const _t={"select-option-indicator":"_select-option-indicator_k6e1f_2"},Fe=({disabled:e,...t})=>s.jsx("input",{checked:t["data-state"]==="checked",className:_t["select-option-indicator"],disabled:e,hidden:!1,readOnly:!0,tabIndex:-1,type:"checkbox"});Fe.displayName="SelectOptionIndicator";const pe={"select-option":"_select-option_8h38j_2","select-option--multiple":"_select-option--multiple_8h38j_26"},le=({className:e,customOptionRenderer:t,item:l})=>{const{multiple:i}=w();return s.jsxs(Re,{className:V(pe["select-option"],{[pe["select-option--multiple"]]:!!i},e),item:l,children:[!!i&&s.jsx(Ce,{asChild:!0,children:s.jsx(Fe,{disabled:l.disabled})}),s.jsx(Se,{children:t?t({customData:l.customRendererData,label:l.label}):l.label})]},l.value)};le.displayName="SelectOption";const B={"select-group":"_select-group_7x9z3_2","select-group--disabled":"_select-group--disabled_7x9z3_12","select-group__option":"_select-group__option_7x9z3_18"},Ae=({customGroupRenderer:e,customOptionRenderer:t,item:l})=>s.jsxs(be,{children:[s.jsx(xe,{className:V(B["select-group"],{[B["select-group--disabled"]]:l.disabled}),children:e?e({customData:l.customRendererData,label:l.label}):l.label}),l.options.map(i=>s.jsx(le,{className:B["select-group__option"],customOptionRenderer:t,item:i},i.value))]});Ae.displayName="SelectGroup";const Lt={"select-content":"_select-content_1jhsg_2"},kt=g.forwardRef(({className:e,createPortal:t=!0,customGroupRenderer:l,customOptionRenderer:i,...o},c)=>{const{items:r}=w();return s.jsx(nt,{disabled:!t,children:s.jsx(Ne,{children:s.jsx(Ee,{className:V(Lt["select-content"],e),"data-empty":r.length===0,"data-ods":"select-content",ref:c,...o,children:r.map((a,u)=>Ie(a)?s.jsx(Ae,{customGroupRenderer:l,customOptionRenderer:i,item:a},u):s.jsx(le,{customOptionRenderer:i,item:a},a.value))})})})});kt.displayName="SelectContent";const ge={"select-merged-selection__total":"_select-merged-selection__total_1221b_2","select-merged-selection__total--disabled":"_select-merged-selection__total--disabled_1221b_6"},He=({disabled:e,multipleSelectionLabel:t="Selected item",total:l})=>s.jsxs("span",{children:[t,"Â ",s.jsxs("span",{className:V(ge["select-merged-selection__total"],{[ge["select-merged-selection__total--disabled"]]:e}),children:["(",l,")"]})]});He.displayName="SelectMergedSelection";const De=({customItemRenderer:e,multipleSelectionLabel:t,placeholder:l})=>{const{multiple:i}=w(),{disabled:o,selectedItems:c,value:r,valueAsString:a}=E();return i==="merge"&&r.length?s.jsx(He,{disabled:o,multipleSelectionLabel:t,total:r.length}):e&&r.length?e({selectedItems:c,text:a,values:r}):s.jsx(Le,{placeholder:l})};De.displayName="SelectValueText";const z={"select-control":"_select-control_1mzzf_2","select-control__icon":"_select-control__icon_1mzzf_55","select-control__icon--disabled":"_select-control__icon--disabled_1mzzf_62"},Ft=g.forwardRef(({className:e,customItemRenderer:t,id:l,placeholder:i,multipleSelectionLabel:o,...c},r)=>{const a=me(),{items:u,readOnly:v}=w(),{disabled:R}=E();return s.jsxs(fe,{children:[s.jsxs(_e,{"aria-describedby":c["aria-describedby"]||(a==null?void 0:a.ariaDescribedBy),"aria-disabled":v,"aria-labelledby":c["aria-labelledby"]||((a==null?void 0:a.labelId)??""),className:V(z["select-control"],e),"data-empty":u.length===0,"data-ods":"select-control",ref:r,...c,children:[s.jsx(De,{customItemRenderer:t,multipleSelectionLabel:o,placeholder:i}),s.jsx(ye,{asChild:!0,children:s.jsx(ut,{className:V(z["select-control__icon"],{[z["select-control__icon--disabled"]]:R}),name:pt.chevronDown})})]}),s.jsx(Oe,{id:l||(a==null?void 0:a.id)})]})});Ft.displayName="SelectControl";export{Gt as k,kt as w,Ft as x};
